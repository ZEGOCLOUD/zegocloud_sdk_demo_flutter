!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n,r=t();for(n in r)("object"==typeof exports?exports:e)[n]=r[n]}}("undefined"!=typeof self?self:this,(function(){return function(e){var t={};function n(r){var o;return(t[r]||(o=t[r]={i:r,l:!1,exports:{}},e[r].call(o.exports,o,o.exports,n),o.l=!0,o)).exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=32)}([function(e,t,n){"use strict";n(12);var r=n(13),o=(n.d(t,"j",(function(){return r.a})),n.d(t,"o",(function(){return r.b})),n(14)),i=(n.d(t,"n",(function(){return o.a})),n(15)),a=(n.d(t,"d",(function(){return i.a})),n(16)),s=(n.d(t,"e",(function(){return a.a})),n(17)),c=(n.d(t,"g",(function(){return s.a})),n.d(t,"h",(function(){return s.b})),n.d(t,"i",(function(){return s.c})),n.d(t,"l",(function(){return s.d})),n.d(t,"m",(function(){return s.e})),n(18),n(19));n.d(t,"a",(function(){return c.a})),n.d(t,"b",(function(){return c.b})),n.d(t,"c",(function(){return c.c})),n.d(t,"f",(function(){return c.d})),n.d(t,"k",(function(){return c.e}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return i}));var r,o,i,a={DISPATCH_RESULT_UPDATE:"dispatchResultUpdate",DISCONNECTED:"disconnected",CONNECTED:"connected",BROKEN:"broken"},s=15e3,c="wss://accesshub-wss.zego.im/accesshub",u=37,l="accesshubDispatchServers";(n=r=r||{})[n.BROWSER=0]="BROWSER",n[n.WEIXINMINI=1]="WEIXINMINI",(t=o=o||{}).LOGIN="/v1/sdk/login",t.GET_GAME_LIST="/v1/sdk/mg_list",t.GET_GAME_INFO="/v1/sdk/mg_info",t.CREATE_GAME="/v1/sdk/create_game",t.CLOSE_GAME="/v1/sdk/close_game",t.HEARTBEAT="/v1/sdk/heartbeat",t.START_GAME="/v1/sdk/start_game",t.REFRESH_TOKEN="/v1/sdk/refresh_token",t.START_CLOUD_GAME="/v1/sdk/cloudgame/start_game",t.STOP_CLOUD_GAME="/v1/sdk/cloudgame/stop_game",t.START_PUBLISH_STREAM="/v1/sdk/cloudgame/start_publish_stream",t.STOP_PUBLISH_STREAM="/v1/sdk/cloudgame/stop_publish_stream",(n=i=i||{}).Init="init",n.UnInit="unInit",n.GetGameList="getGameList",n.GetGameInfo="getGameInfo",n.CreateGameRoom="createGameRoom",n.CloseGameRoom="closeGameRoom",n.LoadGame="loadGame",n.LoadingTime="loadingTime",n.LoadedTime="loadedTime",n.UnloadGame="unloadGame",n.GetGameParams="getGameParams",n.SetGameParams="setGameParams",n.GetGameComponentList="getGameComponentList",n.SetGameComponent="setGameComponent",n.GetGameFunctionList="getGameFunctionList",n.RunGameFunction="runGameFunction",n.GameError="gameError",n.GameDestroy="gameDestroy",n.ButtonEvent="buttonEvent",n.PlayerState="playerState",n.GameState="gameState",n.UpdateCode="updateCode",n.UpdateToken="updateToken",n.RefreshCoin="refreshCoin",n.ToGameInfo="toGameInfo",n.FromGameInfo="fromGameInfo",n.On="on",n.Off="off",n.Visibilitychange="visibilitychange",n.startGame="startGame",n.InitCloudGame="initCloudGame",n.StartCloudGame="startCloudGame",n.StopCloudGame="stopCloudGame",n.SetStreamProfile="setStreamProfile",n.SetPlayVolume="setPlayVolume",n.GetPlayVolume="getPlayVolume",n.SendKeyboardEvent="sendKeyboardEvent",n.CloudGameFirstFrame="cloudGameFirstFrame",n.CloudGameError="cloudGameError"},function(e,t,n){"use strict";var r=n(20),o=(n.d(t,"e",(function(){return r.a})),n.d(t,"g",(function(){return r.b})),n(21)),i=(n.d(t,"c",(function(){return o.a})),n.d(t,"d",(function(){return o.b})),n.d(t,"f",(function(){return o.c})),n(22)),a=(n.d(t,"h",(function(){return i.a})),n(23)),s=(n.d(t,"b",(function(){return a.a})),n(24));n.d(t,"a",(function(){return s.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(25),o=n(6),i=(t=n(2),a.getDeviceId=function(){var e=localStorage.getItem("device");return e||(e="device-web-".concat(String((new Date).getTime()).substr(1)),localStorage.setItem("device",e)),e},a.createTracer=function(e,t,n,r){var o=this;this.init(t,n,r),e.getDomain().then((function(e){var n;null!=(n=o.tracer)&&n.setConfig({serverUrl:"wss://weblogger".concat(t,"-api.").concat(e,"/zglog/tlog")})}))},a.init=function(e,t,n){var i=this;this.tracer||(this.tracer=new r.ZegoTracer,this.tracer.init({product:this.PRODUCT,version:o.a.getVersion(),appID:e,deviceID:this.getDeviceId(),env:0,importantLevel:0,levels:[0,10,30,50,80],spanStart:function(e){},spanBeforeEnd:function(e){var t={},n={};Object.keys(e.attributes).forEach((function(r){-1!==i.stringifyWhitelist.indexOf(r)?t[r]=e.attributes[r]:n[r]=e.attributes[r]})),t.detail=JSON.stringify(n),e.attributes=t},spanEnd:function(e){},resources:{product:this.PRODUCT,version:o.a.getVersion(),system:this.systemInfo.system,browser:this.systemInfo.browser,user_agent:this.systemInfo.ua,device_id:this.getDeviceId(),platform:"W",appid:+e,app_id:+e,user_id:n,report_version:3}}),(e=new Map).set("userID",n),e.set("token",t),this.tracer.startReport(e))},a.unInit=function(){this.tracer=null},a.createSpan=function(e,t){return this.tracer.createSpan(0,e,{kind:2,attributes:t})},a.PRODUCT="zegominigame",a.systemInfo=(new t.b).getInfo(),a.domain="imzego.com",a.stringifyWhitelist=["e_time_s","error","elapsed_time","game_id","room_id"],a);function a(){}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));t=n(0);var r=(o.language=t.n.zh_CN,o);function o(){}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),o=n(1),i=n(3),a=n(2),s=n(28),c=(u.initGame=function(e,t,n,r){var o=document.querySelector(e);e=new s.a(e,t,n,r,o.offsetWidth,o.offsetHeight),u.gameInsMap.set(r.miniGameId,e),u.currentGameId=r.miniGameId,t=r.mgUrl;return t+=-1!==t.indexOf("?")?"&zego_platform=web":"?zego_platform=web",o.src=t,o.removeEventListener("visibilitychange",this.visibilitychange),{dom:o,width:o.offsetWidth,height:o.offsetHeight,url:t}},u.unInitGame=function(){var e=document.querySelector(this.getCurrentGame().domId);e.src="",u.currentGameId="",e.removeEventListener("visibilitychange",this.visibilitychange)},u.getCurrentGame=function(){if(u.currentGameId&&u.gameInsMap.has(u.currentGameId))return u.gameInsMap.get(u.currentGameId);throw new Error(JSON.stringify(Object(a.h)(r.d.ErrorGameIsNotRunning)))},u.visibilitychange=function(e){e=e.currentTarget,i.a.createSpan(o.g.Visibilitychange,{game_id:this.currentGameId,hidden:e.hidden}).end(!0)},u.gameInsMap=new Map,u);function u(){}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(0),o=n(4),i=n(1),a=n(26),s=n(29),c=n(3),u=n(30),l=n(31),p=n(5),d=n(2),h=function(){return(h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},f=(g.getVersion=function(){return"1.4.0"},g.prototype.registerInnerEvent=function(){this.eventBus.add(r.f.Init,this.onGameInit.bind(this)),this.eventBus.add(r.f.GameOverDetail,this.onGameOverDetail.bind(this)),this.eventBus.add(r.f.GameLoading,this.onGameLoadStateUpdate.bind(this)),this.eventBus.add(r.f.GameLoaded,this.onGameLoadStateUpdate.bind(this)),this.eventBus.add(r.f.ActionEvents,this.onActionEvents.bind(this)),this.eventBus.add(r.f.UserMicChange,this.onUserMicChange.bind(this)),this.eventBus.add(r.f.UserSpeakerChange,this.onUserSpeakerChange.bind(this)),this.eventBus.add(r.k.Destroy,this.onGameDestroy.bind(this)),this.eventBus.add(r.k.GameOrientation,this.onGameOrientationUpdate.bind(this)),this.eventBus.add(r.k.GameRecharge,this.onGameRechargeUpdate.bind(this)),this.eventBus.add(r.k.GameIntroduction,this.onGameIntroductionUpdate.bind(this)),this.eventBus.add(r.k.GetConfig,this.onGetConfig.bind(this)),this.eventBus.add(r.k.PlayerPlaying,this.onPlayerPlayingChanged.bind(this)),this.eventBus.add(r.k.GameState,this.onGameStateUpdate.bind(this)),this.eventBus.add(r.k.GameUploadError,this.onGameUploadError.bind(this)),this.eventBus.add(r.k.PlayGameSound,this.onPlayGameSound.bind(this)),this.eventBus.add(r.k.ChangeGameSoundVolume,this.onChangeGameSoundVolume.bind(this)),this.eventBus.add(r.k.GetRobotSetting,this.onGetRobotSetting.bind(this)),this.eventBus.add(r.a.CloudGameFirstFrame,this.onCloudGameFirstFrame.bind(this)),this.eventBus.add(r.a.CloudGameError,this.onCloudGameError.bind(this)),this.eventBus.add(r.k.ActionRequest,this.onActionRequest.bind(this))},g.prototype.onGameInit=function(e){var t=p.a.getCurrentGame();t.version=e.version,this.startHeartbeat(o.a.heartbeatInterval,t.gameInfo.miniGameId,e.version)},g.prototype.onGameLoadStateUpdate=function(e,t){var n=p.a.getCurrentGame();if(t.command!==r.f.GameLoading){if(0!==n.loadedTime)return;n.loadedTime=Date.now()}c.a.createSpan(t.command===r.f.GameLoading?i.g.LoadingTime:i.g.LoadedTime,{game_id:n.gameInfo.miniGameId,room_id:n.config.roomId,error:r.d.Success,elapsed_time:Date.now()-n.startTime}).end(!0),n=t.command===r.f.GameLoading?r.g.Loading:r.g.Loaded,this.eventBus.emit(r.e.GameLoadStateUpdate,{state:n,data:e})},g.prototype.onGameOverDetail=function(e){this.eventBus.emit(r.e.GameResult,h({},e))},g.prototype.onActionEvents=function(e){var t=p.a.getCurrentGame();c.a.createSpan(i.g.ButtonEvent,{game_id:t.gameInfo.miniGameId,room_id:t.config.roomId,button_id:e.eventType,data:e.data}).end(!0),this.eventBus.emit(r.e.ActionEventUpdate,{eventType:e.eventType,data:e.data})},g.prototype.onActionRequest=function(e,t){var n=this,o=p.a.getCurrentGame();c.a.createSpan(i.g.ButtonEvent,{game_id:o.gameInfo.miniGameId,room_id:o.config.roomId,action_id:e.actionID,data:e.data}).end(!0),this.eventBus.emit(r.e.ActionRequest,{actionID:e.actionID,actionCallback:{success:function(){n.gameConnect.request({command:r.k.ActionRequest,data:{responseCode:0},seq:t.seq,gameCallback:!0})},fail:function(e){n.gameConnect.request({command:r.k.ActionRequest,data:{responseCode:e||1},seq:t.seq,gameCallback:!0})}},data:e.data})},g.prototype.onUserMicChange=function(e){this.eventBus.emit(r.e.MicStateChange,{mute:!!e.isMute})},g.prototype.onUserSpeakerChange=function(e){this.eventBus.emit(r.e.SpeakerStateChange,{mute:!!e.isMute,userIdList:e.userIDList})},g.prototype.onGameDestroy=function(){var e=p.a.getCurrentGame(),t=c.a.createSpan(i.g.GameDestroy,{game_id:e.gameInfo.miniGameId,room_id:e.config.roomId});p.a.unInitGame(),this.stopHeartbeat(),this.eventBus.emit(r.e.Unloaded,{miniGameId:e.gameInfo.miniGameId}),t.end(!0)},g.prototype.onGameOrientationUpdate=function(e,t){this.gameConnect.request({command:r.k.GameOrientation,data:{code:r.d.Success},seq:t.seq,gameCallback:!0})},g.prototype.onGameRechargeUpdate=function(e,t){var n=p.a.getCurrentGame();this.gameConnect.request({command:r.k.GameRecharge,data:{code:r.d.Success},seq:t.seq,gameCallback:!0}),this.eventBus.emit(r.e.ChargeRequire,{miniGameId:n.gameInfo.miniGameId})},g.prototype.onGameIntroductionUpdate=function(e,t){this.gameConnect.request({command:r.k.GameIntroduction,data:{code:r.d.Success},seq:t.seq,gameCallback:!0})},g.prototype.onGetConfig=function(e,t){var n=p.a.getCurrentGame();this.gameConnect.request({command:r.k.GetConfig,data:{code:o.a.userCode,roomID:n.config.roomId,appID:o.a.appId,role:r.o.Audience,language:o.a.language,userID:o.a.gameUserInfo.userId,customPlaySound:n.config.customPlaySound,gameMode:n.gameMode,gameConfig:h({},n.config),container:{gameOrientation:n.gameInfo.gameOrientation,width:n.webViewWidth,height:n.webViewHeight},engineVersion:"1.4.0"},seq:t.seq,gameCallback:!0})},g.prototype.onPlayerPlayingChanged=function(e){var t=p.a.getCurrentGame();c.a.createSpan(i.g.PlayerState,{game_id:t.gameInfo.miniGameId,room_id:t.config.roomId,is_play:e.isPlaying}).end(!0),this.eventBus.emit(r.e.PlayerStateUpdate,{isPlaying:e.isPlaying?r.j.ZegoGamePlayerStartPlay:r.j.ZegoGamePlayerStopPlay})},g.prototype.onGameStateUpdate=function(e){var t=p.a.getCurrentGame();c.a.createSpan(i.g.GameState,{game_id:t.gameInfo.miniGameId,room_id:t.config.roomId,state:e.status,reasonCode:e.reasonCode}).end(!0),this.eventBus.emit(r.e.GameStateUpdate,{state:e.status,reasonCode:e.reasonCode})},g.prototype.onPlayGameSound=function(e){this.eventBus.emit(r.e.GameSoundPlay,{name:e.name,isPlay:e.isPlay,volume:e.volume,url:e.url,playType:e.playType})},g.prototype.onChangeGameSoundVolume=function(e){this.eventBus.emit(r.e.GameSoundVolumeChange,{name:e.name,volume:e.volume})},g.prototype.onGameUploadError=function(e,t){var n=p.a.getCurrentGame();c.a.createSpan(i.g.GameError,{game_id:n.gameInfo.miniGameId,room_id:n.config.roomId,error:e.errorCode,msg:e.message}).end(!0),this.gameConnect.request({command:r.k.GameUploadError,data:{code:r.d.Success},seq:t.seq,gameCallback:!0}),this.eventBus.emit(r.e.GameError,h({},e))},g.prototype.onGetRobotSetting=function(e,t){var n=this;this.eventBus.emit(r.e.RobotConfigRequire,{done:function(e,o,i,a,s,c){n.gameConnect.request({command:r.k.GetRobotSetting,data:{robotLevel:e=e<0?0:e,robotName:o,robotAvatar:i,useRobotAfterSeconds:a,minCoin:s,maxCoin:c},seq:t.seq,gameCallback:!0})}})},g.prototype.onCloudGameFirstFrame=function(){c.a.createSpan(i.g.CloudGameFirstFrame,{}).end(!0),this.eventBus.emit(r.e.CloudGameFirstFrame,{})},g.prototype.onCloudGameError=function(e){c.a.createSpan(i.g.CloudGameError,{}).end(!0),this.eventBus.emit(r.e.CloudGameError,h({},e))},g.prototype.login=function(){var e=this;return this.serverConnect.request(i.f.LOGIN,{userName:o.a.gameUserInfo.userName,userAvatar:o.a.gameUserInfo.avatar}).then((function(t){return t.code===r.d.Success&&(o.a.userCode=t.data.code,o.a.heartbeatInterval=1e3*t.data.heartbeatInterval,e.setUpdateCodeAlarm(t.data.expireDate-Date.now()-3e4),e.setTokenAlarm(o.a.token)),t}))},g.prototype.refreshToken=function(){return this.serverConnect.request(i.f.REFRESH_TOKEN,{}).then((function(e){return e}))},g.prototype.getGameList=function(e,t,n){return this.serverConnect.request(i.f.GET_GAME_LIST,{pageIndex:e,pageSize:t,gameMode:n,gameOrientation:r.i.OrientationBoth})},g.prototype.getGameInfo=function(e){var t=this;return this.serverConnect.request(i.f.GET_GAME_INFO,{miniGameId:e}).then((function(e){return e.code===r.d.Success&&t.gameInfoDetailMap.set(e.data.miniGameId,JSON.parse(JSON.stringify(e.data))),e}))},g.prototype.createGameRoom=function(e,t,n,r,o,a){return this.serverConnect.request(i.f.CREATE_GAME,{miniGameId:e,roomId:t,player:n,spin:r,taxType:o,taxRate:a})},g.prototype.closeGameRoom=function(e,t){return this.serverConnect.request(i.f.CLOSE_GAME,{miniGameId:e,roomId:t})},g.prototype.loadGame=function(e,t,n,o){function i(e){var r=(e=p.a.initGame(a.domId,t,n,e)).dom,i=e.width,s=e.height;e=e.url;return o.setAttributes({game_url:e,web_view_width:i,web_view_height:s}),r}var a=this,s=this.gameInfoDetailMap.get(e);return s?Promise.resolve(i(s)):this.getGameInfo(e).then((function(e){return e.code===r.d.Success?i(s=e.data):Promise.reject(e)}))},g.prototype.unloadGame=function(e,t){try{var n=p.a.getCurrentGame();return t.setAttributes({game_id:n.gameInfo.miniGameId,room_id:n.config.roomId}),this.gameConnect.request({command:r.b.BeforeDestroy,data:{gameID:n.gameInfo.miniGameId},gameCallback:!1}),e&&this.onGameDestroy(),Promise.resolve({code:r.d.Success})}catch(e){return Promise.reject(e)}},g.prototype.startGame=function(e,t,n,r){var o=p.a.getCurrentGame();r.setAttributes({room_id:o.config.roomId,mini_game_id:o.gameInfo.miniGameId}),r=t.map((function(e){return{robotName:e.robotName,robotLevel:e.robotLevel,robotAvatar:e.robotAvatar,robotCurrencyBalance:e.robotCoin,seatIndex:e.seatIndex}}));return this.serverConnect.request(i.f.START_GAME,{miniGameId:o.gameInfo.miniGameId,roomId:o.config.roomId,gameCfg:n.customConfig,taxType:n.taxType,taxRate:n.taxRate,minGameCoin:n.minGameCoin,timeout:n.timeout,userList:e,robotList:r},["game_cfg"])},g.prototype.setCloudGameContainer=function(e){this.cloudGameConnect.domId=e},g.prototype.startCloudGame=function(e,t,n){var r=this;return new Promise((function(a,s){r.cloudGameConnect.domId||s("还未调用 setCloudGameDomId 接口设置父容器");try{r.getGameInfo(e).then((function(u){var l=u.data.CloudType||1,p=c.a.createSpan(i.g.InitCloudGame,{game_id:e,room_id:t,cloud_type:l,container:r.cloudGameConnect.domId});u={command:"zego_cloud_game_init",data:{appid:o.a.appId,cloudType:l,container:r.cloudGameConnect.domId},callback:function(o){p.setAttributes({cloudGameRes:o,error:o.data.code}),p.end(!0),0===o.data.code?r.serverConnect.request(i.f.START_CLOUD_GAME,{miniGameId:e,roomId:t,cloudType:l,txRequest:{clientSession:o.data.clientSession||""},wlRequest:{bizData:o.data.bizData||"",node:o.data.node||"",resolution:n.resolution,codecType:n.codecType,bitRate:n.bitRate,fps:n.fps},appParameters:n.runningParameters}).then((function(n){var o,u;0===n.code?(o=c.a.createSpan(i.g.StartCloudGame,{game_id:e,room_id:t,cloud_type:l,server_session:n.data.txResponse.serverSession,sdk_msg:n.data.wlResponse.sdkMsg}),u={command:"zego_cloud_game_start",data:{serverSession:n.data.txResponse.serverSession,sdkMsg:n.data.wlResponse.sdkMsg},callback:function(e){o.setAttributes({cloudGameRes:e,error:e.data.code}),o.end(!0),a(e.data)}},r.cloudGameConnect.request(u)):s(n)})).catch((function(e){s(e)})):s(o.data)}};r.cloudGameConnect.request(u)}))}catch(e){s(e)}}))},g.prototype.stopCloudGame=function(e,t){var n=this;return new Promise((function(r,o){var a=c.a.createSpan(i.g.StopCloudGame,{game_id:e,room_id:t});try{n.serverConnect.request(i.f.STOP_CLOUD_GAME,{miniGameId:e,roomId:t}).then((function(e){a.setAttributes({cloudGameSeverRes:e}),a.end(!0)})).catch((function(e){}));var s={command:"zego_cloud_game_destroy",callback:function(e){document.querySelector(n.cloudGameConnect.domId),a.setAttributes({cloudGameRes:e,error:e.data.code}),r(e.data)}};n.cloudGameConnect.request(s)}catch(s){a.end(!0),o(s)}}))},g.prototype.startPublishCloudGameStream=function(e,t,n){return this.serverConnect.request(i.f.START_PUBLISH_STREAM,{miniGameId:e,roomId:t,streamId:n})},g.prototype.stopPublishCloudGameStream=function(e,t,n){return this.serverConnect.request(i.f.STOP_PUBLISH_STREAM,{miniGameId:e,roomId:t,streamId:n})},g.prototype.setStreamProfile=function(e){var t=c.a.createSpan(i.g.SetStreamProfile,{stream_profile:e});try{var n={command:"zego_cloud_game_set_stream_profile",data:{fps:e.fps,min_bitrate:e.minBitrate,max_bitrate:e.maxBitrate},callback:function(){t.end(!0)}};this.cloudGameConnect.request(n)}catch(e){t.end(!0)}},g.prototype.setPlayVolume=function(e){var t=c.a.createSpan(i.g.SetPlayVolume,{volume:e});try{var n={command:"zego_cloud_game_set_video_volume",data:{value:e},callback:function(){t.end(!0)}};this.cloudGameConnect.request(n)}catch(e){t.end(!0)}},g.prototype.getPlayVolume=function(){var e=this,t=c.a.createSpan(i.g.GetPlayVolume,{});return new Promise((function(n,r){try{var o={command:"zego_cloud_game_video_volume",callback:function(e){t.setAttributes({cloudGameRes:e}),t.end(!0),n(e.data)}};e.cloudGameConnect.request(o)}catch(o){t.end(!0),r(o)}}))},g.prototype.sendKeyboardEvent=function(e){var t=c.a.createSpan(i.g.SendKeyboardEvent,{key:e});try{var n={command:"zego_cloud_game_send_keyboard_event",data:{key:e},callback:function(){t.end(!0)}};this.cloudGameConnect.request(n)}catch(e){t.end(!0)}},g.prototype.setGameSetting=function(e){var t=p.a.getCurrentGame();c.a.createSpan(i.g.SetGameParams,{game_id:t.gameInfo.miniGameId,room_id:t.config.roomId,param_type:e.settingType,param_value:e.settingValue,error:r.d.Success}).end(!0),this.gameConnect.request({command:r.b.SetGameSetting,data:e,gameCallback:!1})},g.prototype.getGameSetting=function(e){var t=this,n=p.a.getCurrentGame(),o=c.a.createSpan(i.g.GetGameParams,{game_id:n.gameInfo.miniGameId,room_id:n.config.roomId});return new Promise((function(n,i){try{t.gameConnect.request({command:r.c.GetGameSetting,data:{},gameCallback:!1,callback:function(t){t=t.data.settings,o.setAttributes({settings:t,error:r.d.Success}),o.end(!0),n(t[e])}})}catch(e){o.end(!0),i(e)}}))},g.prototype.refreshGameCoin=function(e){var t=p.a.getCurrentGame();e.setAttributes({game_id:t.gameInfo.miniGameId}),this.gameConnect.request({command:r.b.WalletUpdate,data:{gameID:t.gameInfo.miniGameId},gameCallback:!1})},g.prototype.getGameComponentList=function(e){var t=this;return new Promise((function(n,o){try{var i=p.a.getCurrentGame();t.gameConnect.request({command:r.c.GetCustomComponents,data:{},gameCallback:!1,callback:function(t){e.setAttributes({game_id:i.gameInfo.miniGameId,room_id:i.config.roomId,error:t.code,component_list:t.data.webviews}),n(t.data.webviews)}})}catch(e){o(e)}}))},g.prototype.getGameFunctionList=function(e){var t=this;return new Promise((function(n,o){try{var i=p.a.getCurrentGame();t.gameConnect.request({command:r.c.GetCustomFunctions,data:{},gameCallback:!1,callback:function(t){e.setAttributes({game_id:i.gameInfo.miniGameId,room_id:i.config.roomId,error:t.code,function_list:t.data.functions}),n(t.data.functions)}})}catch(e){o(e)}}))},g.prototype.setGameComponent=function(e,t,n){var o=this;return new Promise((function(i,a){try{var s=p.a.getCurrentGame();o.gameConnect.request({command:r.c.RunCustomComponent,data:{name:e,isShow:t},gameCallback:!1,callback:function(e){n.setAttributes({game_id:s.gameInfo.miniGameId,room_id:s.config.roomId,error:e.code}),i(e.data.isSuccess)}})}catch(e){a(e)}}))},g.prototype.runGameFunction=function(e,t){var n=this;return new Promise((function(o,i){try{var a=p.a.getCurrentGame();n.gameConnect.request({command:r.c.RunCustomFunction,data:{name:e,params:[]},gameCallback:!1,callback:function(e){t.setAttributes({game_id:a.gameInfo.miniGameId,room_id:a.config.roomId,error:e.code}),o(e.data.isSuccess)}})}catch(e){i(e)}}))},g.prototype.updateCode=function(e){},g.prototype.on=function(e,t){this.eventBus.on(e,t)},g.prototype.off=function(e){this.eventBus.off(e)},g.prototype.isConnected=function(){return this.serverConnect.isConnected()},g.prototype.setTokenAlarm=function(e){var t=this;(e=(this.tokenTimeout&&(clearTimeout(this.tokenTimeout),this.tokenTimeout=0),1e3*d.a.decodeTokenExpire(e.substring(2))-3e4-Date.now()))<0&&(e=0),this.tokenTimeout=window.setTimeout((function(){t.eventBus.emit(r.e.TokenWillExpire,{})}),e)},g.prototype.setUpdateCodeAlarm=function(e){var t=this;this.codeTimeout&&(clearTimeout(this.codeTimeout),this.codeTimeout=0),this.codeTimeout=window.setTimeout((function(){var e=c.a.createSpan(i.g.UpdateCode,{});t.login().then((function(n){e.setAttributes({error:n.code,code:n.data.code}),n.code!==r.d.Success&&t.setUpdateCodeAlarm(0)})).finally((function(){e.end(!0)}))}),e)},g.prototype.stopHeartbeat=function(){this.heartbeatTimeout&&(clearTimeout(this.heartbeatTimeout),this.heartbeatTimeout=0)},g.prototype.startHeartbeat=function(e,t,n){var o=this,a=p.a.getCurrentGame(),s=a.config.roomId||"";a.gameMode===r.h.GameModeMallGame&&(s=""),this.serverConnect.request(i.f.HEARTBEAT,{miniGameId:t,h5Version:n,roomId:s}),this.stopHeartbeat(),this.heartbeatTimeout=window.setTimeout((function(){o.startHeartbeat(e,t,n)}),e)},g);function g(){this.codeTimeout=0,this.tokenTimeout=0,this.heartbeatTimeout=0,this.gameInfoDetailMap=new Map,this.domId="",this.serverConnect=new s.a,this.eventBus=new l.a,this.gameConnect=new a.a(this.eventBus),this.cloudGameConnect=new u.a(this.eventBus),this.registerInnerEvent(),c.a.createTracer(this.serverConnect,o.a.appId,o.a.token,o.a.gameUserInfo.userId)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(e,t=!1){return this.onePassHasher.start().appendStr(e).end(t)}static hashAsciiStr(e,t=!1){return this.onePassHasher.start().appendAsciiStr(e).end(t)}static _hex(e){var t,n=r.hexChars,o=r.hexOut;let i,a,s;for(s=0;s<4;s+=1)for(t=8*s,i=e[s],a=0;a<8;a+=2)o[1+t+a]=n.charAt(15&i),i>>>=4,o[0+t+a]=n.charAt(15&i),i>>>=4;return o.join("")}static _md5cycle(e,t){var n=e[0],r=e[1],o=e[2],i=e[3];r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+t[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&o)+t[1]-389564586|0)<<12|i>>>20)+n|0)&n|~i&r)+t[2]+606105819|0)<<17|o>>>15)+i|0)&i|~o&n)+t[3]-1044525330|0)<<22|r>>>10)+o|0;r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+t[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&o)+t[5]+1200080426|0)<<12|i>>>20)+n|0)&n|~i&r)+t[6]-1473231341|0)<<17|o>>>15)+i|0)&i|~o&n)+t[7]-45705983|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+t[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&o)+t[9]-1958414417|0)<<12|i>>>20)+n|0)&n|~i&r)+t[10]-42063|0)<<17|o>>>15)+i|0)&i|~o&n)+t[11]-1990404162|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&o|~r&i)+t[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&o)+t[13]-40341101|0)<<12|i>>>20)+n|0)&n|~i&r)+t[14]-1502002290|0)<<17|o>>>15)+i|0)&i|~o&n)+t[15]+1236535329|0)<<22|r>>>10)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+t[1]-165796510|0)<<5|n>>>27)+r|0)&o|r&~o)+t[6]-1069501632|0)<<9|i>>>23)+n|0)&r|n&~r)+t[11]+643717713|0)<<14|o>>>18)+i|0)&n|i&~n)+t[0]-373897302|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+t[5]-701558691|0)<<5|n>>>27)+r|0)&o|r&~o)+t[10]+38016083|0)<<9|i>>>23)+n|0)&r|n&~r)+t[15]-660478335|0)<<14|o>>>18)+i|0)&n|i&~n)+t[4]-405537848|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+t[9]+568446438|0)<<5|n>>>27)+r|0)&o|r&~o)+t[14]-1019803690|0)<<9|i>>>23)+n|0)&r|n&~r)+t[3]-187363961|0)<<14|o>>>18)+i|0)&n|i&~n)+t[8]+1163531501|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r&i|o&~i)+t[13]-1444681467|0)<<5|n>>>27)+r|0)&o|r&~o)+t[2]-51403784|0)<<9|i>>>23)+n|0)&r|n&~r)+t[7]+1735328473|0)<<14|o>>>18)+i|0)&n|i&~n)+t[12]-1926607734|0)<<20|r>>>12)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+t[5]-378558|0)<<4|n>>>28)+r|0)^r^o)+t[8]-2022574463|0)<<11|i>>>21)+n|0)^n^r)+t[11]+1839030562|0)<<16|o>>>16)+i|0)^i^n)+t[14]-35309556|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+t[1]-1530992060|0)<<4|n>>>28)+r|0)^r^o)+t[4]+1272893353|0)<<11|i>>>21)+n|0)^n^r)+t[7]-155497632|0)<<16|o>>>16)+i|0)^i^n)+t[10]-1094730640|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+t[13]+681279174|0)<<4|n>>>28)+r|0)^r^o)+t[0]-358537222|0)<<11|i>>>21)+n|0)^n^r)+t[3]-722521979|0)<<16|o>>>16)+i|0)^i^n)+t[6]+76029189|0)<<23|r>>>9)+o|0,r=((r+=((o=((o+=((i=((i+=((n=((n+=(r^o^i)+t[9]-640364487|0)<<4|n>>>28)+r|0)^r^o)+t[12]-421815835|0)<<11|i>>>21)+n|0)^n^r)+t[15]+530742520|0)<<16|o>>>16)+i|0)^i^n)+t[2]-995338651|0)<<23|r>>>9)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+t[0]-198630844|0)<<6|n>>>26)+r|0)|~o))+t[7]+1126891415|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+t[14]-1416354905|0)<<15|o>>>17)+i|0)|~n))+t[5]-57434055|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+t[12]+1700485571|0)<<6|n>>>26)+r|0)|~o))+t[3]-1894986606|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+t[10]-1051523|0)<<15|o>>>17)+i|0)|~n))+t[1]-2054922799|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+t[8]+1873313359|0)<<6|n>>>26)+r|0)|~o))+t[15]-30611744|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+t[6]-1560198380|0)<<15|o>>>17)+i|0)|~n))+t[13]+1309151649|0)<<21|r>>>11)+o|0,r=((r+=((i=((i+=(r^((n=((n+=(o^(r|~i))+t[4]-145523070|0)<<6|n>>>26)+r|0)|~o))+t[11]-1120210379|0)<<10|i>>>22)+n|0)^((o=((o+=(n^(i|~r))+t[2]+718787259|0)<<15|o>>>17)+i|0)|~n))+t[9]-343485551|0)<<21|r>>>11)+o|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=o+e[2]|0,e[3]=i+e[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(r.stateIdentity),this}appendStr(e){var t,n=this._buffer8,o=this._buffer32;let i,a=this._bufferLength;for(i=0;i<e.length;i+=1){if((t=e.charCodeAt(i))<128)n[a++]=t;else{if(t<2048)n[a++]=192+(t>>>6);else{if(t<55296||56319<t)n[a++]=224+(t>>>12);else{if(1114111<(t=1024*(t-55296)+(e.charCodeAt(++i)-56320)+65536))throw new Error("Unicode standard supports code points up to U+10FFFF");n[a++]=240+(t>>>18),n[a++]=t>>>12&63|128}n[a++]=t>>>6&63|128}n[a++]=63&t|128}64<=a&&(this._dataLength+=64,r._md5cycle(this._state,o),a-=64,o[0]=o[16])}return this._bufferLength=a,this}appendAsciiStr(e){var t=this._buffer8,n=this._buffer32;let o,i=this._bufferLength,a=0;for(;;){for(o=Math.min(e.length-a,64-i);o--;)t[i++]=e.charCodeAt(a++);if(i<64)break;this._dataLength+=64,r._md5cycle(this._state,n),i=0}return this._bufferLength=i,this}appendByteArray(e){var t=this._buffer8,n=this._buffer32;let o,i=this._bufferLength,a=0;for(;;){for(o=Math.min(e.length-a,64-i);o--;)t[i++]=e[a++];if(i<64)break;this._dataLength+=64,r._md5cycle(this._state,n),i=0}return this._bufferLength=i,this}getState(){var e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}}setState(e){var t=e.buffer,n=e.state,r=this._state;let o;for(this._dataLength=e.length,this._bufferLength=e.buflen,r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],o=0;o<t.length;o+=1)this._buffer8[o]=t.charCodeAt(o)}end(e=!1){var t=this._bufferLength,n=this._buffer8,o=this._buffer32,i=1+(t>>2),a=(this._dataLength+=t,8*this._dataLength);if(n[t]=128,n[t+1]=n[t+2]=n[t+3]=0,o.set(r.buffer32Identity.subarray(i),i),55<t&&(r._md5cycle(this._state,o),o.set(r.buffer32Identity)),a<=4294967295)o[14]=a;else{if(null===(n=a.toString(16).match(/(.*?)(.{0,8})$/)))return;i=parseInt(n[2],16),t=parseInt(n[1],16)||0,o[14]=i,o[15]=t}return r._md5cycle(this._state,o),e?this._state:r._hex(this._state)}}if(r.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),r.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),r.hexChars="0123456789abcdef",r.hexOut=[],r.onePassHasher=new r,"5d41402abc4b2a76b9719d911017c592"!==r.hashStr("hello"))throw new Error("Md5 self test failed.")},function(module,exports,__webpack_require__){var e;e=function(){return function(e){var t={};function n(r){var o;return(t[r]||(o=t[r]={i:r,l:!1,exports:{}},e[r].call(o.exports,o,o.exports,n),o.l=!0,o)).exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=11)}([function(e,t,n){"use strict";var r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.typeMap=t.BrokenType=t.ConnectedType=t.DisconnectedType=t.Method=t.ConnectionClosedAction=t.NetWorkState=t.externalErrorList=t.Stick=t.PcConnectState=t.ENUM_CONNECT_STATE=t.StreamType=t.Mode=t.ZegoconnRunEnv=t.BusinessService=t.AccessHub_Error_Code=t.AccessHubMessageType=t.ENUM_NETWORK_STATE=void 0,(o=t.ENUM_NETWORK_STATE||(t.ENUM_NETWORK_STATE={}))[o.offline=0]="offline",o[o.online=1]="online",(o=t.AccessHubMessageType||(t.AccessHubMessageType={}))[o.MSG_TYPE_STREAM_CLOSED=2]="MSG_TYPE_STREAM_CLOSED",o[o.MSG_TYPE_CLOSE_CONNECTION=3]="MSG_TYPE_CLOSE_CONNECTION",o[o.MSG_TYPE_HTTP_REQUEST=4]="MSG_TYPE_HTTP_REQUEST",o[o.MSG_TYPE_HTTP_RESPONSE=5]="MSG_TYPE_HTTP_RESPONSE",o[o.MSG_TYPE_HB_REQUEST=12]="MSG_TYPE_HB_REQUEST",o[o.MSG_TYPE_HB_RESPONSE=13]="MSG_TYPE_HB_RESPONSE",o[o.MSG_TYPE_GET_CONFIG_REQUEST=14]="MSG_TYPE_GET_CONFIG_REQUEST",o[o.MSG_TYPE_GET_CONFIG_RESPONSE=15]="MSG_TYPE_GET_CONFIG_RESPONSE",o[o.MSG_TYPE_HTTP_REQUEST_ACK=16]="MSG_TYPE_HTTP_REQUEST_ACK",o[o.MSG_TYPE_PC_UPWARD_MESSAGE=17]="MSG_TYPE_PC_UPWARD_MESSAGE",o[o.MSG_TYPE_PC_UPWARD_MESSAGE_ACK=18]="MSG_TYPE_PC_UPWARD_MESSAGE_ACK",o[o.MSG_TYPE_PC_ESTABLISHED=19]="MSG_TYPE_PC_ESTABLISHED",o[o.MSG_TYPE_PC_BROKEN=20]="MSG_TYPE_PC_BROKEN",o[o.MSG_TYPE_PC_DOWNWARD_MESSAGE=21]="MSG_TYPE_PC_DOWNWARD_MESSAGE",o[o.MSG_TYPE_REDIRECT=22]="MSG_TYPE_REDIRECT",o[o.MSG_TYPE_GET_APPCONFIG_REQUEST=23]="MSG_TYPE_GET_APPCONFIG_REQUEST",o[o.MSG_TYPE_GET_APPCONFIG_RESPONSE=24]="MSG_TYPE_GET_APPCONFIG_RESPONSE",o[o.MSG_TYPE_PUSH_APPCONFIG=25]="MSG_TYPE_PUSH_APPCONFIG",o[o.MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST=26]="MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST",o[o.MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE=27]="MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE",o[o.MSG_TYPE_PUSH_EXCEPTION=30]="MSG_TYPE_PUSH_EXCEPTION",(r=o=t.AccessHub_Error_Code||(t.AccessHub_Error_Code={}))[r.ACCESSHUB_INVALID_FRAME=2e4]="ACCESSHUB_INVALID_FRAME",r[r.ACCESSHUB_NEED_ENCRYPT=20001]="ACCESSHUB_NEED_ENCRYPT",r[r.ACCESSHUB_DECRYPT=20002]="ACCESSHUB_DECRYPT",r[r.ACCESSHUB_MSGTYPE=20003]="ACCESSHUB_MSGTYPE",r[r.ACCESSHUB_UNMARSHAL=20004]="ACCESSHUB_UNMARSHAL",r[r.ACCESSHUB_TIMEOUT=20005]="ACCESSHUB_TIMEOUT",r[r.ACCESSHUB_CONNECT=20006]="ACCESSHUB_CONNECT",r[r.ACCESSHUB_BROKEN=20007]="ACCESSHUB_BROKEN",r[r.ACCESSHUB_INTERNAL_ERROR=20008]="ACCESSHUB_INTERNAL_ERROR",r[r.ACCESSHUB_MARSHAL=20009]="ACCESSHUB_MARSHAL",r[r.ACCESSHUB_UNSUPPORTED_SERVICE=20010]="ACCESSHUB_UNSUPPORTED_SERVICE",r[r.ACCESSHUB_TOO_FREQUENTLY=20011]="ACCESSHUB_TOO_FREQUENTLY",r[r.ACCESSHUB_INVALID_APPID=20012]="ACCESSHUB_INVALID_APPID",r[r.ACCESSHUB_HB_TIMEOUT=20013]="ACCESSHUB_HB_TIMEOUT",r[r.ACCESSHUB_INVALID_SIGNATURE=20014]="ACCESSHUB_INVALID_SIGNATURE",(r=t.BusinessService||(t.BusinessService={}))[r.SERVICE_UNSET=0]="SERVICE_UNSET",r[r.SERVICE_MEDIAGW=1]="SERVICE_MEDIAGW",r[r.SERVICE_LIVEROOM=2]="SERVICE_LIVEROOM",r[r.SERVICE_MIX=3]="SERVICE_MIX",r[r.SERVICE_ZEUS=4]="SERVICE_ZEUS",r[r.SERVICE_ZPUSH=5]="SERVICE_ZPUSH",r[r.SERVICE_L3=6]="SERVICE_L3",r[r.SERVICE_TALKLINE=7]="SERVICE_TALKLINE",r[r.SERVICE_EDUSUITE=8]="SERVICE_EDUSUITE",r[r.SERVICE_ZIM=9]="SERVICE_ZIM",r[r.SERVICE_ClOUD_SETTING=10]="SERVICE_ClOUD_SETTING",r[r.SERVICE_ZEUSHB=11]="SERVICE_ZEUSHB",r[r.SERVICE_USER_LOGIC=12]="SERVICE_USER_LOGIC",r[r.SERVICE_UNIFYDISPATCH=13]="SERVICE_UNIFYDISPATCH",r[r.SERVICE_QUALITY=14]="SERVICE_QUALITY",r[r.SERVICE_SECURITY=15]="SERVICE_SECURITY",r[r.SERVICE_KTVCPR=16]="SERVICE_KTVCPR",r[r.SERVICE_SWITCH4LIVEROOM=17]="SERVICE_SWITCH4LIVEROOM",r[r.SERVICE_WEBRTC_SIGNAL=18]="SERVICE_WEBRTC_SIGNAL",r[r.SERVICE_L3_WEBRTC_SIGNAL=19]="SERVICE_L3_WEBRTC_SIGNAL",r[r.SERVICE_VIDEOCPR=20]="SERVICE_VIDEOCPR",r[r.SERVICE_CDN=21]="SERVICE_CDN",r[r.SERVICE_CLOUDRECORD=22]="SERVICE_CLOUDRECORD",r[r.SERVICE_INNER_ECHO=23]="SERVICE_INNER_ECHO",r[r.SERVICE_OUTER_ECHO=24]="SERVICE_OUTER_ECHO",r[r.SERVICE_LOCALHOST_ECHO=25]="SERVICE_LOCALHOST_ECHO",r[r.SERVICE_ECHO=26]="SERVICE_ECHO",r[r.SERVICE_DOCSERVICE=27]="SERVICE_DOCSERVICE",r[r.SERVICE_AUTHSVR=28]="SERVICE_AUTHSVR",(r=t.ZegoconnRunEnv||(t.ZegoconnRunEnv={}))[r.ZEGOCONN_RUN_ENV_UNSET=0]="ZEGOCONN_RUN_ENV_UNSET",r[r.ZEGOCONN_RUN_ENV_BROWSER=1]="ZEGOCONN_RUN_ENV_BROWSER",r[r.ZEGOCONN_RUN_ENV_APPLET=2]="ZEGOCONN_RUN_ENV_APPLET",(r=t.Mode||(t.Mode={}))[r.Mode_UNSET=0]="Mode_UNSET",r[r.MODE_ONLINE=1]="MODE_ONLINE",r[r.MODE_TEST=2]="MODE_TEST",r[r.MODE_ALPHA=3]="MODE_ALPHA",(r=t.StreamType||(t.StreamType={}))[r.HTTP=0]="HTTP",r[r.PC=1]="PC",r[r.OTHER=2]="OTHER",t.ENUM_CONNECT_STATE={disconnect:0,connecting:1,connected:2},(r=t.PcConnectState||(t.PcConnectState={}))[r.CONNECTED=0]="CONNECTED",r[r.DISCONNECT=1]="DISCONNECT",r[r.BROKEN=2]="BROKEN",t.Stick={DISPATCH:"zego-action-dispatch",RETRY:"zego-action-retry",ABORT:"zego-action-abort",NEXT_GROUP:"zego-action-next-group",PUSH_APP_CONFIG:"push-app-config:"},t.externalErrorList=[o.ACCESSHUB_INVALID_APPID,o.ACCESSHUB_INVALID_SIGNATURE],(r=t.NetWorkState||(t.NetWorkState={}))[r.offline=0]="offline",r[r.online=1]="online",(o=t.ConnectionClosedAction||(t.ConnectionClosedAction={}))[o.ACTION_RESERVED=0]="ACTION_RESERVED",o[o.ACTION_DISPATCH=1]="ACTION_DISPATCH",o[o.ACTION_RETRY=2]="ACTION_RETRY",o[o.ACTION_NEXT_NODE=3]="ACTION_NEXT_NODE",o[o.ACTION_ABORT=4]="ACTION_ABORT",o[o.ACTION_NEXT_GROUP=5]="ACTION_NEXT_GROUP",(r=t.Method||(t.Method={}))[r.METHOD_UNSET=0]="METHOD_UNSET",r[r.METHOD_GET=1]="METHOD_GET",r[r.METHOD_POST=2]="METHOD_POST",(o=t.DisconnectedType||(t.DisconnectedType={}))[o.CLOSE=0]="CLOSE",o[o.TEMP=1]="TEMP",o[o.TIMEOUT=2]="TIMEOUT",(r=t.ConnectedType||(t.ConnectedType={}))[r.AUTO=0]="AUTO",r[r.MANUAL=1]="MANUAL",(o=t.BrokenType||(t.BrokenType={}))[o.EMPTY=0]="EMPTY",o[o.CLOSE=1]="CLOSE",t.typeMap={2:"stream_closed",3:"close_connection",4:"http_request",5:"http_response",12:"hb_request",13:"hb_response",14:"get_config_request",15:"get_config_response",16:"http_request_ack",17:"pc_upward_message",18:"pc_upward_message_ack",19:"pc_established",20:"pc_broken",21:"pc_downward_message",22:"redirect",23:"get_appconfig_request",24:"get_appconfig_response",25:"push_appconfig",26:"accesshub_dispatch_request",27:"accesshub_dispatch_response",30:"push_exception"}},function(e,t,n){"use strict";(function(e){var r=t;function o(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;++o)void 0!==e[r[o]]&&n||(e[r[o]]=t[r[o]]);return e}function i(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&o(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(17),r.base64=n(18),r.EventEmitter=n(19),r.float=n(20),r.inquire=n(21),r.utf8=n(22),r.pool=n(23),r.LongBits=n(24),r.isNode=Boolean(void 0!==e&&e&&e.process&&e.process.versions&&e.process.versions.node),r.global=r.isNode&&e||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"==typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!=typeof n||0<(Array.isArray(n)?n:Object.keys(n)).length)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){return e=r.LongBits.fromHash(e),r.Long?r.Long.fromBits(e.lo,e.hi,t):e.toNumber(Boolean(t))},r.merge=o,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;-1<n;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}}).call(this,n(16))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APP_CONFIG_KEY=t.NET_ACCESS_SERVERS=t.NET_ACCESS_CONFIG=void 0,n=n(0),t.NET_ACCESS_CONFIG={domains:["accesshub-wss.zego.im"],mode:"online",modeNo:n.Mode.MODE_ONLINE,sdkType:3,connectVer:2,pcEstablishTimeout:15,scheme:"wss",location:"accesshub",wssMessageType:1},t.NET_ACCESS_SERVERS="z_net_access_servers",t.APP_CONFIG_KEY="z_appconfig"},function(e,t,n){"use strict";e.exports=n(15)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorCodeList=void 0,t.errorCodeList={TIMEOUT:{code:1100002,msg:"network timeout."},SOCKET_CLOSE:{code:1100003,msg:"socket close"},NET_SOCKET_TIMEOUT:{code:1100004,msg:"net agent timeout"},NET_HB_TIMEOUT:{code:1100005,msg:"net hb timeout"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uuidNum=t.decodeString=t.encodeString=void 0,t.encodeString=function(e){return Uint8Array.from(Array.from(unescape(encodeURIComponent(e))).map((function(e){return e.charCodeAt(0)})))},t.decodeString=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(String,Array.from(e))))},t.uuidNum=function(e,t){var n,r,o="0123456789".split(""),i=[];if(t=o.length,e)for(n=0;n<e;n++)i[n]=o[0|Math.random()*t];else for(i[8]=i[13]=i[18]=i[23]="-",i[14]="4",n=0;n<36;n++)i[n]||(r=0|16*Math.random(),i[n]=o[19==n?3&r|8:r]);return i.join("")}},function(e,t,n){"use strict";e.exports=p;var r,o=n(1),i=o.LongBits,a=o.base64,s=o.utf8;function c(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function u(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function p(){this.len=0,this.head=new c(u,0,0),this.tail=this.head,this.states=null}function d(){return o.Buffer?function(){return(p.create=function(){return new r})()}:function(){return new p}}function h(e,t,n){t[n]=255&e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;127<e.lo;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function m(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}p.create=d(),p.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(p.alloc=o.pool(p.alloc,o.Array.prototype.subarray)),p.prototype._push=function(e,t,n){return this.tail=this.tail.next=new c(e,t,n),this.len+=t,this},(f.prototype=Object.create(c.prototype)).fn=function(e,t,n){for(;127<e;)t[n++]=127&e|128,e>>>=7;t[n]=e},p.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},p.prototype.int32=function(e){return e<0?this._push(g,10,i.fromNumber(e)):this.uint32(e)},p.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},p.prototype.int64=p.prototype.uint64=function(e){return e=i.from(e),this._push(g,e.length(),e)},p.prototype.sint64=function(e){return e=i.from(e).zzEncode(),this._push(g,e.length(),e)},p.prototype.bool=function(e){return this._push(h,1,e?1:0)},p.prototype.sfixed32=p.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},p.prototype.sfixed64=p.prototype.fixed64=function(e){return e=i.from(e),this._push(m,4,e.lo)._push(m,4,e.hi)},p.prototype.float=function(e){return this._push(o.float.writeFloatLE,4,e)},p.prototype.double=function(e){return this._push(o.float.writeDoubleLE,8,e)};var y=o.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};p.prototype.bytes=function(e){var t,n=e.length>>>0;return n?(o.isString(e)&&(t=p.alloc(n=a.length(e)),a.decode(e,t,0),e=t),this.uint32(n)._push(y,n,e)):this._push(h,1,0)},p.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(h,1,0)},p.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new c(u,0,0),this.len=0,this},p.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(u,0,0),this.len=0),this},p.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},p.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},p._configure=function(e){r=e,p.create=d(),r._configure()}},function(e,t,n){"use strict";e.exports=c;var r,o=n(1),i=o.LongBits,a=o.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}function u(){return o.Buffer?function(e){return(c.create=function(e){return o.Buffer.isBuffer(e)?new r(e):p(e)})(e)}:p}var l,p="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")};function d(){var e=new i(0,0),t=0;if(!(4<this.len-this.pos)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,4<this.len-this.pos){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function h(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw s(this,8);return new i(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}c.create=u(),c.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,c.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)||!((this.pos+=5)>this.len))return l;throw this.pos=this.len,s(this,10)}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return h(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|h(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},c.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){r=e,c.create=u(),r._configure();var t=o.Long?"toLong":"toNumber";o.merge(c.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetAgentPCRequest=void 0;var r=n(0),o=n(2),i=n(9),a=n(5),s=[r.BusinessService.SERVICE_WEBRTC_SIGNAL,r.BusinessService.SERVICE_L3_WEBRTC_SIGNAL];function c(e,t,n,o,a){this.logger=e,this.service=t,this.streamManager=n,this.pcEstablishTimeout=o,this.option=a,this.connectState=r.PcConnectState.DISCONNECT,this.lastConnectState=r.PcConnectState.DISCONNECT,this.brokenTimer=null,this.listenerList={connected:[],broken:[]},this.netPcStream=this.streamManager.createStream(r.StreamType.PC),this.eventManager=new i.EventManager,this.netPcStream.onPushEvent=this.onPushEvent.bind(this)}c.prototype.sendRequest=function(e,t,n){var i=this,c=e.payload,u=((s.includes(this.service)||null!=(u=this.option)&&u.encode)&&(c=(0,a.encodeString)(e.payload)),{service_no:this.service,ack:e.ack,payload:c,wss_message_type:o.NET_ACCESS_CONFIG.wssMessageType,wss_path:null==(u=this.option)?void 0:u.path,wss_raw_query:null==(c=this.option)?void 0:c.query,zegoconn_version:o.NET_ACCESS_CONFIG.connectVer});this.netPcStream.isConnect()||this.eventManager.emit("connectStart"),this.netPcStream.sendMessage(r.AccessHubMessageType.MSG_TYPE_PC_UPWARD_MESSAGE,u,(function(){i.logger.info("zn.napr.sr suc"),n&&n()}),(function(e){i.logger.error("zn.napr.sr fail"),t&&t(e)}),null,{isInSendMap:"boolean"==typeof e.isInSendMap&&e.isInSendMap}),this.netPcStream.isFirst=!1},c.prototype.onPushEvent=function(e,t){var n;switch(this.logger.info("zn.napr.ope"+" msgType: ".concat(e)),e){case r.AccessHubMessageType.MSG_TYPE_PC_ESTABLISHED:this.pcEstablished(t);break;case r.AccessHubMessageType.MSG_TYPE_PC_BROKEN:this.pcBroken();break;case r.AccessHubMessageType.MSG_TYPE_PC_DOWNWARD_MESSAGE:var o=t.payload;(s.includes(this.service)||null!=(n=this.option)&&n.encode)&&(o=(0,a.decodeString)(t.payload)),this.eventManager.emit("downLoadMessage",o)}},c.prototype.on=function(e,t){return this.eventManager.addEventHandler(e,t)},c.prototype.off=function(e,t){this.eventManager.removeEventHandler(e,t)},c.prototype.pcEstablished=function(e){this.logger.info("zn.napr.pe call "+JSON.stringify(e)),this.setConnectState(r.PcConnectState.CONNECTED);var t=r.ConnectedType.MANUAL;this.lastConnectState===r.PcConnectState.BROKEN&&this.connectState===r.PcConnectState.CONNECTED&&(t=r.ConnectedType.AUTO),this.eventManager.emit("connected",t),this.eventManager.emit("pcConnectedEvent",{proxy_link_sources:null==e?void 0:e.from}),this.brokenTimer&&clearTimeout(this.brokenTimer)},c.prototype.pcBroken=function(){var e=this;this.logger.info("zn.napr.pb call"),this.setConnectState(r.PcConnectState.BROKEN),this.eventManager.emit("broken"),this.brokenTimer=setTimeout((function(){e.eventManager.emit("disconnected",r.DisconnectedType.TEMP)}),1e3*this.pcEstablishTimeout)},c.prototype.resetBrokenTimer=function(){this.brokenTimer&&clearTimeout(this.brokenTimer)},c.prototype._close=function(e,t){var n;this.logger.info("zn.napr.cr call "+this.service+" "+this.connectState),this.connectState!==r.PcConnectState.DISCONNECT&&(this.netPcStream.closeStream(0,""),this.resetBrokenTimer(),n=this.streamManager.getStreamID(),this.netPcStream.refresh(n),this.eventManager.emit(e,t)),this.setConnectState(r.PcConnectState.DISCONNECT)},c.prototype.closePc=function(){this._close("broken")},c.prototype.closeRequest=function(){this._close("disconnected",r.DisconnectedType.CLOSE)},c.prototype.setConnectState=function(e){this.connectState!==e&&(this.lastConnectState=this.connectState,this.connectState=e)},t.NetAgentPCRequest=c},function(e,t,n){"use strict";function r(){this.handlerListMap={}}Object.defineProperty(t,"__esModule",{value:!0}),t.EventManager=void 0,r.prototype.addEventHandler=function(e,t){if(this.handlerListMap[e]||(this.handlerListMap[e]=[]),"function"!=typeof t)throw new Error("Params callBack is not a Function");return this.handlerListMap[e]&&-1==this.handlerListMap[e].indexOf(t)&&this.handlerListMap[e].push(t),!0},r.prototype.removeEventHandler=function(e,t){return!!this.handlerListMap[e]&&(this.handlerListMap[e]=t?this.handlerListMap[e].filter((function(e){return e!==t})):[],!0)},r.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.handlerListMap[e]&&this.handlerListMap[e].forEach((function(e){try{setTimeout((function(){e.apply(void 0,t)}),0)}catch(e){}}))},t.EventManager=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetAgentHttpRequest=void 0;var r=n(0),o=n(5),i=n(2);function a(e,t,n){this.logger=e,this.service=t,this.streamManager=n,this.netHttpStream=this.streamManager.createStream(r.StreamType.HTTP)}a.prototype.sendRequest=function(e,t,n,a,s){var c=this;e={service_no:this.service,ack:e.ack,headers:e.headers,body:(0,o.encodeString)(JSON.stringify(e.body)),id_name:e.idName,method_no:e.method_no,stick:e.stick,location:e.location,zegoconn_version:i.NET_ACCESS_CONFIG.connectVer},this.netHttpStream.sendMessage(r.AccessHubMessageType.MSG_TYPE_HTTP_REQUEST,e,(function(e){var n;e.body&&(n=(0,o.decodeString)(e.body),e.body=n),c.logger.info("zn.nahr.sr suc "+JSON.stringify(e)),t&&t(e)}),(function(e,t,r){c.logger.error("zn.nahr.sr fail"),n&&n(r||e)}),(function(e){c.logger.error("zn.nahr.sr ack"),a&&a(e)}),s),this.netHttpStream.isFirst=!1},t.NetAgentHttpRequest=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Method=t.Mode=t.DisconnectedType=t.ConnectedType=t.NET_ACCESS_CONFIG=t.BrokenType=t.BusinessService=t.NetAgentHttpRequest=t.NetAgentPCRequest=t.ZegoConnectionAgent=void 0;var r=n(0),o=(Object.defineProperty(t,"BrokenType",{enumerable:!0,get:function(){return r.BrokenType}}),Object.defineProperty(t,"BusinessService",{enumerable:!0,get:function(){return r.BusinessService}}),Object.defineProperty(t,"ConnectedType",{enumerable:!0,get:function(){return r.ConnectedType}}),Object.defineProperty(t,"DisconnectedType",{enumerable:!0,get:function(){return r.DisconnectedType}}),Object.defineProperty(t,"Mode",{enumerable:!0,get:function(){return r.Mode}}),Object.defineProperty(t,"Method",{enumerable:!0,get:function(){return r.Method}}),n(12)),i=(Object.defineProperty(t,"ZegoConnectionAgent",{enumerable:!0,get:function(){return o.ZegoConnectionAgent}}),n(10)),a=(Object.defineProperty(t,"NetAgentHttpRequest",{enumerable:!0,get:function(){return i.NetAgentHttpRequest}}),n(2)),s=(Object.defineProperty(t,"NET_ACCESS_CONFIG",{enumerable:!0,get:function(){return a.NET_ACCESS_CONFIG}}),n(8));Object.defineProperty(t,"NetAgentPCRequest",{enumerable:!0,get:function(){return s.NetAgentPCRequest}})},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},o=(Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoConnectionAgent=void 0,n(0)),i=n(13),a=n(31),s=n(36),c=n(37),u=n(38),l=n(2),p=n(9),d=n(39),h=n(4),f=n(40),g=n(5),m=n(41),y=n(10),_=n(42);function v(){var e=this;this.linkCheckTimer=null,this.connectServers=[],this.getAppConfigFailCount=0,this.getAppConfigTime=0,this.inited=!1,this.linkMsgMaxInterval=90,this.linkMsgCheckInterval=5,this.connectedTime=0,this.connectid="",this.reportSeq=0,this.connectSeq=0,this.onConnectedEvent=function(t){e.getConfig();var n=e.reportSeq++;e.eventManager.emit("dispatchEvent",n,"start"),e.dispatch().then((function(t){var r=t.servers;t=t.domains,e.eventManager.emit("dispatchEvent",n,"end",{domains:t}),0<r.length&&e.eventManager.emit("dispatchResultUpdate",{servers:r})})).catch((function(e){})),e.eventManager.emit("connected"),e.connectedTime=(new Date).getTime(),e.connectid=(0,g.uuidNum)(16),e.eventManager.emit("connectedEvent",e.connectSeq,"end",{servers:t,count:t.length,connectid:e.connectid})},this.onConnectingEvent=function(){e.logger.info("zn.zca.oce call")},this.onDisConnectedEvent=function(t){e.disConnect(),e.netAgentPCRequestMgr.updateConnectState(o.PcConnectState.BROKEN)},this.onPushEvent=function(t,n,r){switch(n){case o.AccessHubMessageType.MSG_TYPE_REDIRECT:e.redirect(r);break;case o.AccessHubMessageType.MSG_TYPE_CLOSE_CONNECTION:e.connectClosed(r);break;case o.AccessHubMessageType.MSG_TYPE_PC_BROKEN:case o.AccessHubMessageType.MSG_TYPE_PC_ESTABLISHED:case o.AccessHubMessageType.MSG_TYPE_PC_DOWNWARD_MESSAGE:e.streamManager.onPushEvent(t,n,r);break;case o.AccessHubMessageType.MSG_TYPE_PUSH_APPCONFIG:e.businessRequestMgr.decodeConfigMessage(r.data)}}}v.prototype.init=function(){this.logger=new m.ZegoLogger,this.protobuf=new i.AccessHubProtoBuf,this.stateCenter=new f.StateCenter,this.eventManager=new p.EventManager,this.checkLinkMsg(),this.inited=!0},v.prototype.unInit=function(){this.inited=!1},v.prototype.setAppInfo=function(e){this.stateCenter.appInfo=e,this.stateCenter.networkState=!navigator||navigator.onLine?o.ENUM_NETWORK_STATE.online:o.ENUM_NETWORK_STATE.offline,0===e.env?this.bindWindowListener():1===e.env&&this.bindWxListener(),this.zegoLink=new a.ZegoWssLink(e.appID,e.env,this.protobuf,this.logger,this.stateCenter),this.zegoLink.initEvent(this.onConnectedEvent,this.onDisConnectedEvent,this.onConnectingEvent,this.onPushEvent),this.streamManager=new _.StreamManager(this.zegoLink),this.businessRequestMgr=new s.NetAgentBusinessRequestMgr(this.streamManager,this.protobuf,this.logger,this.stateCenter),this.netHeartBeatHandler=new c.NetHeartBeatHandler(this.streamManager,this.logger),this.netAgentPCRequestMgr=new u.NetAgentPCRequestMgr(this.streamManager,this.logger),this.heartBeatHandler()},v.prototype.setUserInfo=function(e){this.stateCenter.userId=e},v.prototype.setNetAgentDefaultServers=function(e){this.connectServers=r([],e,!0)},v.prototype.setDispatchConnectServers=function(e){this.connect(e)},v.prototype.startHttpRequest=function(e,t,n,r,o){var i=this,a=this.reportSeq++;this.eventManager.emit("requestEvent",a,"start"),this.isConnect()||this.connectUa(),new y.NetAgentHttpRequest(this.logger,e.service,this.streamManager).sendRequest(e,(function(e){i.eventManager.emit("requestEvent",a,"end",{na_req_location:location,status_code:e.status_code}),t&&t(e)}),(function(e){i.eventManager.emit("requestEvent",a,"end",{na_req_location:location}),n&&n(e)}),r,o)},v.prototype.getAppConfigByAgent=function(e,t,n){return this.isConnect()||this.connectUa(),this.getAppConfig(e,this.stateCenter.userId,t,n)},v.prototype.getPCRequest=function(e,t){var n=this;return(t=this.netAgentPCRequestMgr.getRequest(e,t)).on("disconnected",(function(t){n.logger.warn("zn.zca.gpr "+e+" disconnect "+t),t===o.DisconnectedType.TEMP&&(n.disConnect(),n.connectStart())})),t.on("connectStart",(function(){n.connectUa()})),t},v.prototype.connectUa=function(){this.logger.info("zn.zca.cua call"),this.retryLinkHandler&&(this.retryLinkHandler.init(),this.connectStart(!1,!0))},v.prototype.destroyConnect=function(){this.logger.info("zn.zca.dc.0 call"),this.resetNetAgent()},v.prototype.isConnect=function(){return this.zegoLink&&this.zegoLink.isConnect()},v.prototype.on=function(e,t){return this.logger.info("zn.zca.o.0 "+e),this.eventManager.addEventHandler(e,t)},v.prototype.off=function(e,t){this.logger.info("zn.zca.o.1 "+e),this.eventManager.removeEventHandler(e,t)},v.prototype.setLogger=function(e){this.logger=e},v.prototype.setAccess=function(e){this.stateCenter.useNetAgent=e},v.prototype.heartBeatHandler=function(){var e=this;this.netHeartBeatHandler.netHbLogout=function(t){e.retryLinkHandler&&([h.errorCodeList.NET_HB_TIMEOUT.code].includes(t.code)?(e.retryLinkHandler.startMaxTime(),e.disConnect(),e.connectStart()):(e.retryLinkHandler.stopMaxTime(),e.retryLinkHandler.invalid(),e.eventManager.emit("disconnected")))}},v.prototype.bindWindowListener=function(){var e=this;window.addEventListener("offline",(function(){e.netOffLineHandle()})),window.addEventListener("online",(function(){e.netOnLineHandle()}))},v.prototype.bindWxListener=function(){var e=this;wx.onNetworkStatusChange((function(t){t.isConnected?e.netOnLineHandle():e.netOffLineHandle()}))},v.prototype.netOnLineHandle=function(){this.logger.info("zn.zca.noh.0 network is online"),this.stateCenter.networkState=o.ENUM_NETWORK_STATE.online,this.stateCenter.useNetAgent&&this.netOnLineHandler()},v.prototype.netOffLineHandle=function(){this.logger.info("zn.zca.noh.1 network is broken"),this.stateCenter.networkState=o.ENUM_NETWORK_STATE.offline,this.stateCenter.useNetAgent&&this.netOffLineHandler()},v.prototype.checkLinkMsg=function(){var e=this;if(this.stateCenter.useNetAgent){if(this.isConnect()){var t=Date.now()-this.zegoLink.updatedMsgTime;if(t>1e3*this.linkMsgMaxInterval)return this.logger.info("zn.zca.clm interval: "+t),void this.resetNetAgent()}this.linkCheckTimer&&clearTimeout(this.linkCheckTimer),this.linkCheckTimer=setTimeout((function(){e.checkLinkMsg()}),1e3*this.linkMsgCheckInterval)}},v.prototype.connect=function(e){var t=this;0<e.length&&(this.connectServers=r([],e,!0)),this.zegoLink.createSocket(this.connectServers),this.retryLinkHandler||(this.retryLinkHandler=new d.NetRetryLinkHandler(this.logger,this.stateCenter)),this.retryLinkHandler.init(),this.retryLinkHandler.initLink(this.zegoLink),this.retryLinkHandler.onactive=function(e,n){n===h.errorCodeList.NET_SOCKET_TIMEOUT&&(t.eventManager.emit("disconnected",n),t.netAgentPCRequestMgr.updateConnectState(o.PcConnectState.DISCONNECT,o.DisconnectedType.TIMEOUT,n))},this.connectStart(!1,!0)},v.prototype.resetNetAgent=function(){this.netHeartBeatHandler.reset(),this.zegoLink.destroySocket()},v.prototype.getConfig=function(){function e(e,n,r){r?t.logger.info("zn.zca.gc fail "+JSON.stringify(r)):0===e.code?(t.logger.info("zn.zca.gc suc "+JSON.stringify(e)),t.getConfigSuccess(e)):t.logger.info("zn.zca.gc fail")}var t=this;this.businessRequestMgr.getConfig(e,e)},v.prototype.getConfigSuccess=function(e){this.netHeartBeatHandler.init(e),this.netAgentPCRequestMgr.setEstablishTimeout(e.data.pc_establish_timeout)},v.prototype.dispatch=function(){var e=this;return new Promise((function(t,n){e.businessRequestMgr.dispatchURL((function(n){n=n.data.wss_groups;var r=(e.logger.info("zn.nab.du wss_groups: "+JSON.stringify(n)),e.handleWssGroups(n));t({servers:r,domains:n})}),(function(e){n(e)}))}))},v.prototype.handleWssGroups=function(e){return Array.isArray(e)&&0<e.length?e.map((function(e){return l.NET_ACCESS_CONFIG.scheme+"://"+e.host+"/"+l.NET_ACCESS_CONFIG.location})):[]},v.prototype.getAppConfig=function(e,t,n,r){var i=this;return new Promise((function(a,s){"string"==typeof t&&"string"==typeof n?i.businessRequestMgr.getAppConfig(e,t,n,r).then((function(e){a(e)})).catch((function(r){i.logger.error("zn.zca.gac "+JSON.stringify(r)),!(-1<o.externalErrorList.indexOf(r.code))&&(i.getAppConfigFailCount++,20008===r.code)&&i.getAppConfigFailCount<3?i.getAppConfig(e,t,n).then((function(e){return a(e)})).catch((function(e){return s(e)})):(i.getAppConfigFailCount=0,s(r))})):i.logger.error("zn.zca.gac userID or token must be string")}))},v.prototype.reportDisConnectEvent=function(){var e=(new Date).getTime()-this.connectedTime;this.eventManager.emit("disConnectedEvent",{duration:e,server:this.zegoLink.connectServer})},v.prototype.redirect=function(e){this.logger.info("zn.zca.rd"+" ".concat(JSON.stringify(e.wss_groups))),(e=this.handleWssGroups(e.wss_groups))&&Array.isArray(e)&&0<e.length?(this.disConnect(),this.zegoLink.createSocket(e),this.connectStart(!1,!0)):this.logger.warn("zn.zca.rd wss_groups null")},v.prototype.connectClosed=function(e){var t=this;switch(this.logger.info("zn.zca.cc"+" ".concat(e.reason," ").concat(e.msg," ").concat(e.action)),e.action){case o.ConnectionClosedAction.ACTION_DISPATCH:var n=this.reportSeq++;this.eventManager.emit("dispatchEvent",n,"start"),this.dispatch().then((function(e){var r=e.servers;e=e.domains,t.eventManager.emit("dispatchEvent",n,"end",{domains:e,reason:"ConnectClosed"}),Array.isArray(r)&&0<r.length&&(t.disConnect(),t.zegoLink.createSocket(r),t.eventManager.emit("dispatchResultUpdate",{servers:r}),t.connectStart(!1,!0))})).catch((function(e){t.logger.info("zn.zca.cc dispatch fail")}));break;case o.ConnectionClosedAction.ACTION_RETRY:this.disConnect(),this.connectStart(!1);break;case o.ConnectionClosedAction.ACTION_NEXT_GROUP:this.netAgentPCRequestMgr.closePCs(),this.eventManager.emit("broken",o.BrokenType.CLOSE),this.connectStart();break;case o.ConnectionClosedAction.ACTION_ABORT:case o.ConnectionClosedAction.ACTION_RESERVED:}},v.prototype.netOnLineHandler=function(){this.retryLinkHandler&&(this.zegoLink.isConnect()?this.retryLinkHandler.stopMaxTime():this.connectStart())},v.prototype.netOffLineHandler=function(){this.disConnect(),this.retryLinkHandler&&(this.retryLinkHandler.invalid(),this.retryLinkHandler.startMaxTime(),this.zegoLink.setState(o.ENUM_CONNECT_STATE.disconnect))},v.prototype.connectStart=function(e,t){this.retryLinkHandler.active(e,t)&&this.reportConnectEvent()},v.prototype.reportConnectEvent=function(){var e=this.reportSeq++;this.connectSeq=e,this.eventManager.emit("connectedEvent",e,"start")},v.prototype.disConnect=function(){this.netAgentPCRequestMgr.closePCs(),this.eventManager.emit("broken"),this.reportDisConnectEvent()},v.prototype.testConnect=function(){this.startHttpRequest({service:o.BusinessService.SERVICE_ClOUD_SETTING,headers:[],body:{appid:3349318446,biztype:0,deviceid:"27a315ae-ff78-4ded-8581-8b7b7afe6f2e",files:["init","room"],id_name:"sample1647345322471",mode:"online",param:{},product:"Web_SDK",timestamp:1647345362932,token:"eyJ2ZXIiOjEsImhhc2giOiIwOGQxMDYzMzQ0M2EzNjk1ZmE4YTg2ZDNmZGRlNGNiNyIsIm5vbmNlIjoiYWEyZDFmMDJmOGRiYjBlM2Q1YjY5NzA3NzMzOGYyODIiLCJleHBpcmVkIjoxNjQ5OTM3MzI2fQ=="},idName:"sample1647345322471",ack:!0,method_no:o.Method.METHOD_POST,location:"/cloud-setting/get"},(function(e){}),(function(e){}),(function(e){}))},t.ZegoConnectionAgent=v},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},c=(Object.defineProperty(t,"__esModule",{value:!0}),t.AccessHubProtoBuf=void 0,s(n(14))),u=(a=a(n(3)),n(0)),l=s(n(30));function p(){var e;this.protoInstance=l.default,this.protoMap=((e={})[u.AccessHubMessageType.MSG_TYPE_STREAM_CLOSED]=["proto_accesshub","ConnectionClosed"],e[u.AccessHubMessageType.MSG_TYPE_CLOSE_CONNECTION]=["proto_accesshub","CloseConnection"],e[u.AccessHubMessageType.MSG_TYPE_HTTP_REQUEST]=["proto_accesshub","HTTPRequest"],e[u.AccessHubMessageType.MSG_TYPE_HTTP_RESPONSE]=["proto_accesshub","HTTPResponse"],e[u.AccessHubMessageType.MSG_TYPE_HB_REQUEST]=["proto_accesshub","HBRequest"],e[u.AccessHubMessageType.MSG_TYPE_HB_RESPONSE]=["proto_accesshub","HBResponse"],e[u.AccessHubMessageType.MSG_TYPE_GET_CONFIG_REQUEST]=["proto_accesshub","GetConfigRequest"],e[u.AccessHubMessageType.MSG_TYPE_GET_CONFIG_RESPONSE]=["proto_accesshub","GetConfigResponse"],e[u.AccessHubMessageType.MSG_TYPE_HTTP_REQUEST_ACK]=["proto_accesshub","HBResponse"],e[u.AccessHubMessageType.MSG_TYPE_PC_UPWARD_MESSAGE]=["proto_accesshub","PCUpwardMessage"],e[u.AccessHubMessageType.MSG_TYPE_PC_UPWARD_MESSAGE_ACK]=["proto_accesshub","PCUpwardMessageAck"],e[u.AccessHubMessageType.MSG_TYPE_PC_ESTABLISHED]=["proto_accesshub","PCEstablished"],e[u.AccessHubMessageType.MSG_TYPE_PC_BROKEN]=["proto_accesshub","PCBroken"],e[u.AccessHubMessageType.MSG_TYPE_PC_DOWNWARD_MESSAGE]=["proto_accesshub","PCDownwardMessage"],e[u.AccessHubMessageType.MSG_TYPE_REDIRECT]=["proto_accesshub","Redirect"],e[u.AccessHubMessageType.MSG_TYPE_GET_APPCONFIG_REQUEST]=["proto_accesshub","GetAppConfigRequest"],e[u.AccessHubMessageType.MSG_TYPE_GET_APPCONFIG_RESPONSE]=["proto_accesshub","GetAppConfigResponse"],e[u.AccessHubMessageType.MSG_TYPE_PUSH_APPCONFIG]=["proto_accesshub","PushAppConfig"],e[u.AccessHubMessageType.MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST]=["proto_accesshub","AccesshubDispatchRequest"],e[u.AccessHubMessageType.MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE]=["proto_accesshub","AccesshubDispatchResponse"],e[u.AccessHubMessageType.MSG_TYPE_PUSH_EXCEPTION]=["proto_accesshub","PushException"],e)}a.util.Long=c.default,a.configure(),p.prototype.encodeRequest=function(e,t,n){var r=(o=this.protoMap[e])[0],o=o[1];return o=(r=this.encode(this.protoInstance[r][o],t)).length,(t=new Uint8Array(13+o))[0]=175,t[1]=0,t[2]=e>>8,t[3]=e-(t[2]<<8),t.set(new Uint8Array(Int32Array.from([o]).buffer).reverse(),4),t.set(new Uint8Array(Int32Array.from([n]).buffer).reverse(),8),t[12]=0,t.set(r,13),t},p.prototype.decodeResponse=function(e){var t=(e[2]<<8)+e[3],n=new DataView(e.buffer).getUint32(8),r=e.slice(13);try{var o=this.protoMap[t],i=o[0],a=o[1];return[n,t,this.decode(this.protoInstance[i][a],r)]}catch(e){return[n,t,{code:1}]}},p.prototype.decodeConfigMessage=function(e){return this.decode(this.protoInstance.proto_initconfig.InitConfig,e)},p.prototype.encode=function(e,t){return e.encode(new e(t)).finish()},p.prototype.decode=function(e,t){return r({},e.decode(t))},t.AccessHubProtoBuf=p},function(e,t,n){var r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}function o(e){var t=Math.clz32(e&-e);return e?31-t:t}Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var i={},a={};function s(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=a[e])?r:(n=u(e,0,!0),o&&(a[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=u(e,e<0?-1:0,!1),o&&(i[e]=n),n)}function c(e,t){if(isNaN(e))return t?_:y;if(t){if(e<0)return _;if(f<=e)return S}else{if(e<=-g)return E;if(g<=e+1)return b}return e<0?c(-e,t).neg():u(e%h|0,e/h|0,t)}function u(e,t,r){return new n(e,t,r)}n.fromInt=s,n.fromNumber=c,n.fromBits=u;var l=Math.pow;function p(e,t,n){if(0===e.length)throw Error("empty string");if(t="number"==typeof t?(n=t,!1):!!t,"NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t?_:y;if((n=n||10)<2||36<n)throw RangeError("radix");var r;if(0<(r=e.indexOf("-")))throw Error("interior hyphen");if(0===r)return p(e.substring(1),t,n).neg();for(var o=c(l(n,8)),i=y,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),u=parseInt(e.substring(a,a+s),n);i=(s<8?(s=c(l(n,s)),i.mul(s)):i=i.mul(o)).add(c(u))}return i.unsigned=t,i}function d(e,t){return"number"==typeof e?c(e,t):"string"==typeof e?p(e,t):u(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=p,n.fromValue=d;var h=4294967296,f=h*h,g=f/2,m=s(1<<24),y=s(0),_=(n.ZERO=y,s(0,!0)),v=(n.UZERO=_,s(1)),O=(n.ONE=v,s(1,!0)),C=(n.UONE=O,s(-1)),b=(n.NEG_ONE=C,u(-1,2147483647,!1)),S=(n.MAX_VALUE=b,u(-1,-1,!0)),E=(n.MAX_UNSIGNED_VALUE=S,u(0,-2147483648,!1)),T=(n.MIN_VALUE=E,n.prototype);return T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},T.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";var t,n;if(this.isNegative())return this.eq(E)?(n=c(e),n=(t=this.div(n)).mul(n).sub(this),t.toString(e)+n.toInt().toString(e)):"-"+this.neg().toString(e);for(var r=c(l(e,6),this.unsigned),o=this,i="";;){var a=o.div(r),s=(o.sub(a.mul(r)).toInt()>>>0).toString(e);if((o=a).isZero())return s+i;for(;s.length<6;)s="0"+s;i=""+s+i}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(E)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;0<t&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},T.isZero=function(){return 0===this.high&&0===this.low},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||0<=this.high},T.isOdd=function(){return 1==(1&this.low)},T.isEven=function(){return 0==(1&this.low)},T.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(e){return this.comp(e)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return this.comp(e)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(e){return 0<this.comp(e)},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return 0<=this.comp(e)},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(e){var t,n;return r(e)||(e=d(e)),this.eq(e)?0:(t=this.isNegative(),n=e.isNegative(),t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1)},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(E)?E:this.not().add(v)},T.neg=T.negate,T.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,o=this.low>>>16,i=65535&this.low,a=e.high>>>16,s=65535&e.high,c=e.low>>>16,l=0,p=0,h=0,f=0;return p+=(h=h+((f+=i+(65535&e.low))>>>16)+(o+c))>>>16,u((h&=65535)<<16|(f&=65535),((l+=(p+=n+s)>>>16)+(t+a)&65535)<<16|(p&=65535),this.unsigned)},T.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){var n,o,i,a,s,l,p,h,f,g,v;return this.isZero()?this:(r(e)||(e=d(e)),t?u(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):e.isZero()?this.unsigned?_:y:this.eq(E)?e.isOdd()?E:y:e.eq(E)?this.isOdd()?E:y:this.isNegative()?e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg():e.isNegative()?this.mul(e.neg()).neg():this.lt(m)&&e.lt(m)?c(this.toNumber()*e.toNumber(),this.unsigned):(n=this.high>>>16,o=65535&this.high,i=this.low>>>16,a=65535&this.low,s=e.high>>>16,l=65535&e.high,p=e.low>>>16,v=(v=g=f=h=0)+((f=f+((g+=a*(e=65535&e.low))>>>16)+i*e)>>>16)+((f=(65535&f)+a*p)>>>16),u((f&=65535)<<16|(g&=65535),(h=(h=(h+=(v+=o*e)>>>16)+((v=(65535&v)+i*p)>>>16)+((v=(65535&v)+a*l)>>>16))+(n*e+o*p+i*l+a*s)&65535)<<16|(v&=65535),this.unsigned)))},T.mul=T.multiply,T.divide=function(e){if((e=r(e)?e:d(e)).isZero())throw Error("division by zero");var n,o;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?_:y;if(this.unsigned){if((e=e.unsigned?e:e.toUnsigned()).gt(this))return _;if(e.gt(this.shru(1)))return O;o=_}else{if(this.eq(E))return e.eq(v)||e.eq(C)?E:e.eq(E)?v:(i=this.shr(1).div(e).shl(1)).eq(y)?e.isNegative()?v:C:(n=this.sub(e.mul(i)),i.add(n.div(e)));if(e.eq(E))return this.unsigned?_:y;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=y}for(n=this;n.gte(e);){for(var i=Math.max(1,Math.floor(n.toNumber()/e.toNumber())),a=Math.ceil(Math.log(i)/Math.LN2),s=a<=48?1:l(2,a-48),p=c(i),h=p.mul(e);h.isNegative()||h.gt(n);)h=(p=c(i-=s,this.unsigned)).mul(e);p.isZero()&&(p=v),o=o.add(p),n=n.sub(h)}return o},T.div=T.divide,T.modulo=function(e){return r(e)||(e=d(e)),t?u((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return u(~this.low,~this.high,this.unsigned)},T.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},T.clz=T.countLeadingZeros,T.countTrailingZeros=function(){return this.low?o(this.low):o(this.high)+32},T.ctz=T.countTrailingZeros,T.and=function(e){return r(e)||(e=d(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return r(e)||(e=d(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return r(e)||(e=d(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,0<=this.high?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>>e,this.unsigned):u(32===e?this.high:this.high>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.rotateLeft=function(e){var t;return r(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?u(this.high,this.low,this.unsigned):e<32?u(this.low<<e|this.high>>>(t=32-e),this.high<<e|this.low>>>t,this.unsigned):(t=32-(e-=32),u(this.high<<e|this.low>>>t,this.low<<e|this.high>>>t,this.unsigned))},T.rotl=T.rotateLeft,T.rotateRight=function(e){var t;return r(e)&&(e=e.toInt()),0==(e&=63)?this:32===e?u(this.high,this.low,this.unsigned):e<32?u(this.high<<(t=32-e)|this.low>>>e,this.low<<t|this.high>>>e,this.unsigned):(t=32-(e-=32),u(this.low<<t|this.high>>>e,this.high<<t|this.low>>>e,this.unsigned))},T.rotr=T.rotateRight,T.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},T.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)},e.default=n,"default"in e?e.default:e}({});void 0!==(t=function(){return r}.apply(t,[]))&&(e.exports=t)},function(e,t,n){"use strict";var r=t;function o(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(6),r.BufferWriter=n(25),r.Reader=n(7),r.BufferReader=n(26),r.util=n(1),r.rpc=n(27),r.roots=n(29),r.configure=o,o()},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports=function(e,t){for(var n=new Array(arguments.length-1),r=0,o=2,i=!0;o<arguments.length;)n[r++]=arguments[o++];return new Promise((function(o,a){n[r]=function(e){if(i)if(i=!1,e)a(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];o.apply(null,t)}};try{e.apply(t||null,n)}catch(e){i&&(i=!1,a(e))}}))}},function(e,t,n){"use strict";t.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;1<--t%4&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var r=new Array(64),o=new Array(123),i=0;i<64;)o[r[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;t.encode=function(e,t,n){for(var o,i=null,a=[],s=0,c=0;t<n;){var u=e[t++];switch(c){case 0:a[s++]=r[u>>2],o=(3&u)<<4,c=1;break;case 1:a[s++]=r[o|u>>4],o=(15&u)<<2,c=2;break;case 2:a[s++]=r[o|u>>6],a[s++]=r[63&u],c=0}8191<s&&((i=i||[]).push(String.fromCharCode.apply(String,a)),s=0)}return c&&(a[s++]=r[o],a[s++]=61,1===c)&&(a[s++]=61),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))},t.decode=function(e,t,n){for(var r,i=n,a=0,s=0;s<e.length;){var c=e.charCodeAt(s++);if(61===c&&1<a)break;if(void 0===(c=o[c]))throw Error("invalid encoding");switch(a){case 0:r=c,a=1;break;case 1:t[n++]=r<<2|(48&c)>>4,r=c,a=2;break;case 2:t[n++]=(15&r)<<4|(60&c)>>2,r=c,a=3;break;case 3:t[n++]=(3&r)<<6|c,a=0}}if(1===a)throw Error("invalid encoding");return n-i},t.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},function(e,t,n){"use strict";function r(){this._listeners={}}(e.exports=r).prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},r.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},r.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},function(e,t,n){"use strict";function r(e){return"undefined"!=typeof Float32Array?(h=new Float32Array([-0]),g=128===(f=new Uint8Array(h.buffer))[3],e.writeFloatLE=g?_:v,e.writeFloatBE=g?v:_,e.readFloatLE=g?O:C,e.readFloatBE=g?C:O):(e.writeFloatLE=m.bind(null,o),e.writeFloatBE=m.bind(null,i),e.readFloatLE=y.bind(null,a),e.readFloatBE=y.bind(null,s)),"undefined"!=typeof Float64Array?(p=new Float64Array([-0]),g=128===(d=new Uint8Array(p.buffer))[7],e.writeDoubleLE=g?r:c,e.writeDoubleBE=g?c:r,e.readDoubleLE=g?u:l,e.readDoubleBE=g?l:u):(e.writeDoubleLE=t.bind(null,o,0,4),e.writeDoubleBE=t.bind(null,i,4,0),e.readDoubleLE=n.bind(null,a,0,4),e.readDoubleBE=n.bind(null,s,4,0)),e;function t(e,t,n,r,o,i){var a,s,c=r<0?1:0;0===(r=c?-r:r)?(e(0,o,i+t),e(0<1/r?0:2147483648,o,i+n)):isNaN(r)?(e(0,o,i+t),e(2146959360,o,i+n)):17976931348623157e292<r?(e(0,o,i+t),e((c<<31|2146435072)>>>0,o,i+n)):r<22250738585072014e-324?(e((a=r/5e-324)>>>0,o,i+t),e((c<<31|a/4294967296)>>>0,o,i+n)):(1024===(s=Math.floor(Math.log(r)/Math.LN2))&&(s=1023),e(4503599627370496*(a=r*Math.pow(2,-s))>>>0,o,i+t),e((c<<31|s+1023<<20|1048576*a&1048575)>>>0,o,i+n))}function n(e,t,n,r,o){return t=e(r,o+t),r=2*((e=e(r,o+n))>>31)+1,n=4294967296*(1048575&e)+t,2047==(o=e>>>20&2047)?n?NaN:1/0*r:0==o?5e-324*r*n:r*Math.pow(2,o-1075)*(n+4503599627370496)}function r(e,t,n){p[0]=e,t[n]=d[0],t[n+1]=d[1],t[n+2]=d[2],t[n+3]=d[3],t[n+4]=d[4],t[n+5]=d[5],t[n+6]=d[6],t[n+7]=d[7]}function c(e,t,n){p[0]=e,t[n]=d[7],t[n+1]=d[6],t[n+2]=d[5],t[n+3]=d[4],t[n+4]=d[3],t[n+5]=d[2],t[n+6]=d[1],t[n+7]=d[0]}function u(e,t){return d[0]=e[t],d[1]=e[t+1],d[2]=e[t+2],d[3]=e[t+3],d[4]=e[t+4],d[5]=e[t+5],d[6]=e[t+6],d[7]=e[t+7],p[0]}function l(e,t){return d[7]=e[t],d[6]=e[t+1],d[5]=e[t+2],d[4]=e[t+3],d[3]=e[t+4],d[2]=e[t+5],d[1]=e[t+6],d[0]=e[t+7],p[0]}var p,d,h,f,g;function m(e,t,n,r){var o=t<0?1:0;0===(t=o?-t:t)?e(0<1/t?0:2147483648,n,r):isNaN(t)?e(2143289344,n,r):e(34028234663852886e22<t?(o<<31|2139095040)>>>0:t<11754943508222875e-54?(o<<31|Math.round(t/1401298464324817e-60))>>>0:(o<<31|(e=Math.floor(Math.log(t)/Math.LN2))+127<<23|8388607&Math.round(t*Math.pow(2,-e)*8388608))>>>0,n,r)}function y(e,t,n){return t=2*((e=e(t,n))>>31)+1,n=e>>>23&255,e&=8388607,255==n?e?NaN:1/0*t:0==n?1401298464324817e-60*t*e:t*Math.pow(2,n-150)*(8388608+e)}function _(e,t,n){h[0]=e,t[n]=f[0],t[n+1]=f[1],t[n+2]=f[2],t[n+3]=f[3]}function v(e,t,n){h[0]=e,t[n]=f[3],t[n+1]=f[2],t[n+2]=f[1],t[n+3]=f[0]}function O(e,t){return f[0]=e[t],f[1]=e[t+1],f[2]=e[t+2],f[3]=e[t+3],h[0]}function C(e,t){return f[3]=e[t],f[2]=e[t+1],f[1]=e[t+2],f[0]=e[t+3],h[0]}}function o(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function i(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=r(r)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,n){"use strict";t.length=function(e){for(var t,n=0,r=0;r<e.length;++r)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:55296==(64512&t)&&56320==(64512&e.charCodeAt(r+1))?(++r,n+=4):n+=3;return n},t.read=function(e,t,n){if(n-t<1)return"";for(var r,o=null,i=[],a=0;t<n;)(r=e[t++])<128?i[a++]=r:191<r&&r<224?i[a++]=(31&r)<<6|63&e[t++]:239<r&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[a++]=55296+(r>>10),i[a++]=56320+(1023&r)):i[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],8191<a&&((o=o||[]).push(String.fromCharCode.apply(String,i)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))},t.write=function(e,t,n){for(var r,o,i=n,a=0;a<e.length;++a)(r=e.charCodeAt(a))<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(55296==(64512&r)&&56320==(64512&(o=e.charCodeAt(a+1)))?(++a,t[n++]=(r=65536+((1023&r)<<10)+(1023&o))>>18|240,t[n++]=r>>12&63|128):t[n++]=r>>12|224,t[n++]=r>>6&63|128),t[n++]=63&r|128);return n-i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=n||8192,o=r>>>1,i=null,a=r;return function(n){return n<1||o<n?e(n):(r<a+n&&(i=e(r),a=0),n=t.call(i,a,a+=n),7&a&&(a=1+(7|a)),n)}}},function(e,t,n){"use strict";e.exports=o;var r=n(1);function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=o.zero=new o(0,0),a=(i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1},o.zeroHash="\0\0\0\0\0\0\0\0",o.fromNumber=function(e){var t,n;return 0===e?i:(n=(e=(t=e<0)?-e:e)>>>0,e=(e-n)/4294967296>>>0,t&&(e=~e>>>0,n=~n>>>0,4294967295<++n)&&(n=0,4294967295<++e)&&(e=0),new o(n,e))},o.from=function(e){if("number"==typeof e)return o.fromNumber(e);if(r.isString(e)){if(!r.Long)return o.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):i},o.prototype.toNumber=function(e){var t;return!e&&this.hi>>>31?(e=1+~this.lo>>>0,t=~this.hi>>>0,-(e+4294967296*(t=e?t:t+1>>>0))):this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}},String.prototype.charCodeAt);o.fromHash=function(e){return"\0\0\0\0\0\0\0\0"===e?i:new o((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0==n?0==t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},function(e,t,n){"use strict";e.exports=i;var r=n(6),o=((i.prototype=Object.create(r.prototype)).constructor=i,n(1));function i(){r.call(this)}function a(e,t,n){e.length<40?o.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},i.prototype.bytes=function(e){var t=(e=o.isString(e)?o._Buffer_from(e,"base64"):e).length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=o.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},i._configure()},function(e,t,n){"use strict";e.exports=i;var r=n(7),o=((i.prototype=Object.create(r.prototype)).constructor=i,n(1));function i(e){r.call(this,e)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()},function(e,t,n){"use strict";t.Service=n(28)},function(e,t,n){"use strict";e.exports=o;var r=n(1);function o(e,t,n){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}((o.prototype=Object.create(r.EventEmitter.prototype)).constructor=o).prototype.rpcCall=function e(t,n,o,i,a){if(!i)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(e,s,t,n,o,i);if(s.rpcImpl)try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,n){if(e)return s.emit("error",e,t),a(e);if(null!==n){if(!(n instanceof o))try{n=o[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",n,t),a(null,n)}s.end(!0)}))}catch(e){s.emit("error",e,t),setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"proto_accesshub",(function(){return c})),n.d(t,"proto_initconfig",(function(){return u})),n.d(t,"default",(function(){return s}));const o=(t=n(3)).Reader,i=t.Writer,a=t.util,s=t.roots.default||(t.roots.default={}),c=s.proto_accesshub=((n={}).MessageType=(t={},(r=Object.create(t))[t[0]="MSG_TYPE_EMPTY"]=0,r[t[1]="MSG_TYPE_CONNECTION_CLOSED"]=1,r[t[2]="MSG_TYPE_STREAM_CLOSED"]=2,r[t[3]="MSG_TYPE_CLOSE_CONNECTION"]=3,r[t[4]="MSG_TYPE_HTTP_REQUEST"]=4,r[t[5]="MSG_TYPE_HTTP_RESPONSE"]=5,r[t[6]="MSG_TYPE_HTTP_REQUEST_DROPED"]=6,r[t[7]="MSG_TYPE_PROXY_CONNECT"]=7,r[t[8]="MSG_TYPE_PROXY_CONNECTED"]=8,r[t[9]="MSG_TYPE_PROXY_CONNECTION_CLOSED"]=9,r[t[10]="MSG_TYPE_PROXY_SEND_DATA"]=10,r[t[11]="MSG_TYPE_PROXY_RECV_DATA"]=11,r[t[12]="MSG_TYPE_HB_REQUEST"]=12,r[t[13]="MSG_TYPE_HB_RESPONSE"]=13,r[t[14]="MSG_TYPE_GET_CONFIG_REQUEST"]=14,r[t[15]="MSG_TYPE_GET_CONFIG_RESPONSE"]=15,r[t[16]="MSG_TYPE_HTTP_REQUEST_ACK"]=16,r[t[17]="MSG_TYPE_PC_UPWARD_MESSAGE"]=17,r[t[18]="MSG_TYPE_PC_UPWARD_MESSAGE_ACK"]=18,r[t[19]="MSG_TYPE_PC_ESTABLISHED"]=19,r[t[20]="MSG_TYPE_PC_BROKEN"]=20,r[t[21]="MSG_TYPE_PC_DOWNWARD_MESSAGE"]=21,r[t[22]="MSG_TYPE_REDIRECT"]=22,r[t[23]="MSG_TYPE_GET_APPCONFIG_REQUEST"]=23,r[t[24]="MSG_TYPE_GET_APPCONFIG_RESPONSE"]=24,r[t[25]="MSG_TYPE_PUSH_APPCONFIG"]=25,r[t[26]="MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST"]=26,r[t[27]="MSG_TYPE_ACCESSHUB_DISPATCH_RESPONSE"]=27,r[t[28]="MSG_TYPE_GET_IM_CONFIG_REQUEST"]=28,r[t[29]="MSG_TYPE_GET_IM_CONFIG_RESPONSE"]=29,r[t[30]="MSG_TYPE_PUSH_EXCEPTION"]=30,r[t[50]="MSG_TYPE_UA_DISPATCH_REQUEST"]=50,r[t[51]="MSG_TYPE_UA_DISPATCH_RESPONSE"]=51,r[t[52]="MSG_TYPE_UA_ECHO_REQUEST"]=52,r[t[53]="MSG_TYPE_UA_ECHO_RESPONSE"]=53,r[t[100]="MSG_TYPE_NODE_REGISTER_REQUEST"]=100,r[t[101]="MSG_TYPE_NODE_REGISTER_RESPONSE"]=101,r[t[102]="MSG_TYPE_NODE_HB_REQUEST"]=102,r[t[103]="MSG_TYPE_NODE_HB_RESPONSE"]=103,r),n.ErrorCode=(t={},(r=Object.create(t))[t[0]="OK"]=0,r[t[1e4]="DISPATCH_NO_AVAILABLE_NODE"]=1e4,r[t[10001]="DISPATCH_INTERNAL_ERROR"]=10001,r[t[10002]="DISPATCH_INVALID_FRAME"]=10002,r[t[10003]="DISPATCH_UNMARSHAL"]=10003,r[t[10004]="DISPATCH_MSGTYPE"]=10004,r[t[10005]="DISPATCH_MARSHAL"]=10005,r[t[10006]="DISPATCH_TOO_FREQUENTLY"]=10006,r[t[2e4]="ACCESSHUB_INVALID_FRAME"]=2e4,r[t[20001]="ACCESSHUB_NEED_ENCRYPT"]=20001,r[t[20002]="ACCESSHUB_DECRYPT"]=20002,r[t[20003]="ACCESSHUB_MSGTYPE"]=20003,r[t[20004]="ACCESSHUB_UNMARSHAL"]=20004,r[t[20005]="ACCESSHUB_TIMEOUT"]=20005,r[t[20006]="ACCESSHUB_CONNECT"]=20006,r[t[20007]="ACCESSHUB_BROKEN"]=20007,r[t[20008]="ACCESSHUB_INTERNAL_ERROR"]=20008,r[t[20009]="ACCESSHUB_MARSHAL"]=20009,r[t[20010]="ACCESSHUB_UNSUPPORTED_SERVICE"]=20010,r[t[20011]="ACCESSHUB_TOO_FREQUENTLY"]=20011,r[t[20012]="ACCESSHUB_INVALID_APPID"]=20012,r[t[20013]="ACCESSHUB_HB_TIMEOUT"]=20013,r[t[20014]="ACCESSHUB_INVALID_SIGNATURE"]=20014,r[t[20015]="ACCESSHUB_AUTH_FAILED"]=20015,r[t[3e4]="ACCESSHUB_GET_STREAM_FAILED"]=3e4,r[t[30001]="ACCESSHUB_GET_CONN_FAILED"]=30001,r[t[30002]="ACCESSHUB_DO_HTTP_REQUEST_FAILED"]=30002,r[t[30003]="ACCESSHUB_UNMARSHAL_HB_FAILED"]=30003,r[t[30004]="ACCESSHUB_DO_BACKEND_DISPATCH_FAILED"]=30004,r),n.Mode=(t={},(r=Object.create(t))[t[0]="Mode_UNSET"]=0,r[t[1]="MODE_ONLINE"]=1,r[t[2]="MODE_TEST"]=2,r[t[3]="MODE_ALPHA"]=3,r),n.Service=(t={},(r=Object.create(t))[t[0]="SERVICE_UNSET"]=0,r[t[1]="SERVICE_MEDIAGW"]=1,r[t[2]="SERVICE_LIVEROOM"]=2,r[t[3]="SERVICE_MIX"]=3,r[t[4]="SERVICE_ZEUS"]=4,r[t[5]="SERVICE_ZPUSH"]=5,r[t[6]="SERVICE_L3"]=6,r[t[7]="SERVICE_TALKLINE"]=7,r[t[8]="SERVICE_EDUSUITE"]=8,r[t[9]="SERVICE_ZIM"]=9,r[t[10]="SERVICE_ClOUD_SETTING"]=10,r[t[11]="SERVICE_ZEUSHB"]=11,r[t[12]="SERVICE_USER_LOGIC"]=12,r[t[13]="SERVICE_UNIFYDISPATCH"]=13,r[t[14]="SERVICE_QUALITY"]=14,r[t[15]="SERVICE_SECURITY"]=15,r[t[16]="SERVICE_KTVCPR"]=16,r[t[17]="SERVICE_SWITCH4LIVEROOM"]=17,r[t[18]="SERVICE_WEBRTC_SIGNAL"]=18,r[t[19]="SERVICE_L3_WEBRTC_SIGNAL"]=19,r[t[20]="SERVICE_VIDEOCPR"]=20,r[t[21]="SERVICE_CDN"]=21,r[t[22]="SERVICE_CLOUDRECORD"]=22,r[t[23]="SERVICE_INNER_ECHO"]=23,r[t[24]="SERVICE_OUTER_ECHO"]=24,r[t[25]="SERVICE_LOCALHOST_ECHO"]=25,r[t[26]="SERVICE_ECHO"]=26,r[t[27]="SERVICE_DOCSERVICE"]=27,r[t[28]="SERVICE_AUTHSVR"]=28,r),n.Method=(t={},(r=Object.create(t))[t[0]="METHOD_UNSET"]=0,r[t[1]="METHOD_GET"]=1,r[t[2]="METHOD_POST"]=2,r),n.SdkType=(t={},(r=Object.create(t))[t[0]="SDK_TYPE_UNSET"]=0,r[t[1]="SDK_TYPE_QUIC_MTCP_NATIVE"]=1,r[t[2]="SDK_TYPE_WSS_NATIVE"]=2,r[t[3]="SDK_TYPE_WSS_WEB"]=3,r),n.ZegoconnRunEnv=(t={},(r=Object.create(t))[t[0]="ZEGOCONN_RUN_ENV_UNSET"]=0,r[t[1]="ZEGOCONN_RUN_ENV_BROWSER"]=1,r[t[2]="ZEGOCONN_RUN_ENV_APPLET"]=2,r),n.ConnectionClosed=(se.prototype.code=0,se.prototype.msg="",se.encode=function(e,t){return t=t||i.create(),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int32(e.code),null!=e.msg&&Object.hasOwnProperty.call(e,"msg")&&t.uint32(18).string(e.msg),t},se.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.ConnectionClosed;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.code=e.int32();break;case 2:r.msg=e.string();break;default:e.skipType(7&i)}}return r},se),n.StreamClosed=(ae.prototype.code=0,ae.prototype.msg="",ae.encode=function(e,t){return t=t||i.create(),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int32(e.code),null!=e.msg&&Object.hasOwnProperty.call(e,"msg")&&t.uint32(18).string(e.msg),t},ae.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.StreamClosed;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.code=e.int32();break;case 2:r.msg=e.string();break;default:e.skipType(7&i)}}return r},ae),n.CloseConnection=(ie.prototype.reason=0,ie.prototype.msg="",ie.prototype.action=0,ie.encode=function(e,t){return t=t||i.create(),null!=e.reason&&Object.hasOwnProperty.call(e,"reason")&&t.uint32(8).int32(e.reason),null!=e.msg&&Object.hasOwnProperty.call(e,"msg")&&t.uint32(18).string(e.msg),null!=e.action&&Object.hasOwnProperty.call(e,"action")&&t.uint32(24).int32(e.action),t},ie.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.CloseConnection;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.reason=e.int32();break;case 2:r.msg=e.string();break;case 3:r.action=e.int32();break;default:e.skipType(7&i)}}return r},ie.Action=(t={},(r=Object.create(t))[t[0]="ACTION_RESERVED"]=0,r[t[1]="ACTION_DISPATCH"]=1,r[t[2]="ACTION_RETRY"]=2,r[t[3]="ACTION_NEXT_NODE"]=3,r[t[4]="ACTION_ABORT"]=4,r[t[5]="ACTION_NEXT_GROUP"]=5,r),ie),n.HTTPRequest=(re.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,re.prototype.appid=0,re.prototype.biz_type=0,re.prototype.mode="",re.prototype.id_name="",re.prototype.reqid="",re.prototype.stick="",re.prototype.service="",re.prototype.location="",re.prototype.method="",re.prototype.headers=a.emptyArray,re.prototype.body=a.newBuffer([]),re.prototype.ack=!1,re.prototype.mode_no=0,re.prototype.service_no=0,re.prototype.method_no=0,re.prototype.sdk_type=0,re.prototype.zegoconn_run_env=0,re.prototype.zegoconn_version=0,re.encode=function(e,t){if(t=t||i.create(),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.appid&&Object.hasOwnProperty.call(e,"appid")&&t.uint32(16).uint32(e.appid),null!=e.biz_type&&Object.hasOwnProperty.call(e,"biz_type")&&t.uint32(24).uint32(e.biz_type),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(34).string(e.mode),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(42).string(e.id_name),null!=e.reqid&&Object.hasOwnProperty.call(e,"reqid")&&t.uint32(50).string(e.reqid),null!=e.stick&&Object.hasOwnProperty.call(e,"stick")&&t.uint32(58).string(e.stick),null!=e.service&&Object.hasOwnProperty.call(e,"service")&&t.uint32(66).string(e.service),null!=e.location&&Object.hasOwnProperty.call(e,"location")&&t.uint32(74).string(e.location),null!=e.method&&Object.hasOwnProperty.call(e,"method")&&t.uint32(82).string(e.method),null!=e.headers&&e.headers.length)for(let n=0;n<e.headers.length;++n)s.proto_accesshub.HTTPRequest.HTTPHeader.encode(e.headers[n],t.uint32(90).fork()).ldelim();return null!=e.body&&Object.hasOwnProperty.call(e,"body")&&t.uint32(98).bytes(e.body),null!=e.ack&&Object.hasOwnProperty.call(e,"ack")&&t.uint32(104).bool(e.ack),null!=e.mode_no&&Object.hasOwnProperty.call(e,"mode_no")&&t.uint32(112).int32(e.mode_no),null!=e.service_no&&Object.hasOwnProperty.call(e,"service_no")&&t.uint32(120).int32(e.service_no),null!=e.method_no&&Object.hasOwnProperty.call(e,"method_no")&&t.uint32(128).int32(e.method_no),null!=e.sdk_type&&Object.hasOwnProperty.call(e,"sdk_type")&&t.uint32(136).int32(e.sdk_type),null!=e.zegoconn_run_env&&Object.hasOwnProperty.call(e,"zegoconn_run_env")&&t.uint32(144).int32(e.zegoconn_run_env),null!=e.zegoconn_version&&Object.hasOwnProperty.call(e,"zegoconn_version")&&t.uint32(152).uint32(e.zegoconn_version),t},re.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.HTTPRequest;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.txid=e.uint64();break;case 2:r.appid=e.uint32();break;case 3:r.biz_type=e.uint32();break;case 4:r.mode=e.string();break;case 5:r.id_name=e.string();break;case 6:r.reqid=e.string();break;case 7:r.stick=e.string();break;case 8:r.service=e.string();break;case 9:r.location=e.string();break;case 10:r.method=e.string();break;case 11:r.headers&&r.headers.length||(r.headers=[]),r.headers.push(s.proto_accesshub.HTTPRequest.HTTPHeader.decode(e,e.uint32()));break;case 12:r.body=e.bytes();break;case 13:r.ack=e.bool();break;case 14:r.mode_no=e.int32();break;case 15:r.service_no=e.int32();break;case 16:r.method_no=e.int32();break;case 17:r.sdk_type=e.int32();break;case 18:r.zegoconn_run_env=e.int32();break;case 19:r.zegoconn_version=e.uint32();break;default:e.skipType(7&i)}}return r},re.HTTPHeader=(oe.prototype.name="",oe.prototype.val="",oe.encode=function(e,t){return t=t||i.create(),null!=e.name&&Object.hasOwnProperty.call(e,"name")&&t.uint32(10).string(e.name),null!=e.val&&Object.hasOwnProperty.call(e,"val")&&t.uint32(18).string(e.val),t},oe.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.HTTPRequest.HTTPHeader;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.name=e.string();break;case 2:r.val=e.string();break;default:e.skipType(7&i)}}return r},oe),re),n.HTTPResponse=(ne.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,ne.prototype.headers=a.emptyArray,ne.prototype.status_code=0,ne.prototype.body=a.newBuffer([]),ne.encode=function(e,t){if(t=t||i.create(),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.headers&&e.headers.length)for(let n=0;n<e.headers.length;++n)s.proto_accesshub.HTTPRequest.HTTPHeader.encode(e.headers[n],t.uint32(18).fork()).ldelim();return null!=e.status_code&&Object.hasOwnProperty.call(e,"status_code")&&t.uint32(24).int32(e.status_code),null!=e.body&&Object.hasOwnProperty.call(e,"body")&&t.uint32(34).bytes(e.body),t},ne.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.HTTPResponse;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.txid=e.uint64();break;case 2:r.headers&&r.headers.length||(r.headers=[]),r.headers.push(s.proto_accesshub.HTTPRequest.HTTPHeader.decode(e,e.uint32()));break;case 3:r.status_code=e.int32();break;case 4:r.body=e.bytes();break;default:e.skipType(7&i)}}return r},ne),n.HTTPRequestAck=(te.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,te.encode=function(e,t){return t=t||i.create(),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),t},te.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.HTTPRequestAck;e.pos<n;){var i=e.uint32();i>>>3==1?r.txid=e.uint64():e.skipType(7&i)}return r},te),n.HTTPRequestDroped=(ee.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,ee.prototype.reason=0,ee.prototype.msg="",ee.encode=function(e,t){return t=t||i.create(),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.reason&&Object.hasOwnProperty.call(e,"reason")&&t.uint32(16).int32(e.reason),null!=e.msg&&Object.hasOwnProperty.call(e,"msg")&&t.uint32(26).string(e.msg),t},ee.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.HTTPRequestDroped;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.txid=e.uint64();break;case 2:r.reason=e.int32();break;case 3:r.msg=e.string();break;default:e.skipType(7&i)}}return r},ee),n.HBRequest=($.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,$.prototype.ts=a.Long?a.Long.fromBits(0,0,!1):0,$.encode=function(e,t){return t=t||i.create(),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.ts&&Object.hasOwnProperty.call(e,"ts")&&t.uint32(16).int64(e.ts),t},$.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.HBRequest;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.txid=e.uint64();break;case 2:r.ts=e.int64();break;default:e.skipType(7&i)}}return r},$),n.HBResponse=(Q.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,Q.prototype.ts=a.Long?a.Long.fromBits(0,0,!1):0,Q.encode=function(e,t){return t=t||i.create(),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.ts&&Object.hasOwnProperty.call(e,"ts")&&t.uint32(16).int64(e.ts),t},Q.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.HBResponse;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.txid=e.uint64();break;case 2:r.ts=e.int64();break;default:e.skipType(7&i)}}return r},Q),n.GetConfigRequest=(J.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,J.prototype.appid=0,J.prototype.biz_type=0,J.prototype.mode="",J.prototype.id_name="",J.prototype.reqid="",J.prototype.zegoconn_version=0,J.prototype.sdk_type=0,J.prototype.zegoconn_run_env=0,J.encode=function(e,t){return t=t||i.create(),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.appid&&Object.hasOwnProperty.call(e,"appid")&&t.uint32(16).uint32(e.appid),null!=e.biz_type&&Object.hasOwnProperty.call(e,"biz_type")&&t.uint32(24).uint32(e.biz_type),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(34).string(e.mode),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(42).string(e.id_name),null!=e.reqid&&Object.hasOwnProperty.call(e,"reqid")&&t.uint32(50).string(e.reqid),null!=e.zegoconn_version&&Object.hasOwnProperty.call(e,"zegoconn_version")&&t.uint32(56).uint32(e.zegoconn_version),null!=e.sdk_type&&Object.hasOwnProperty.call(e,"sdk_type")&&t.uint32(64).int32(e.sdk_type),null!=e.zegoconn_run_env&&Object.hasOwnProperty.call(e,"zegoconn_run_env")&&t.uint32(72).int32(e.zegoconn_run_env),t},J.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.GetConfigRequest;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.txid=e.uint64();break;case 2:r.appid=e.uint32();break;case 3:r.biz_type=e.uint32();break;case 4:r.mode=e.string();break;case 5:r.id_name=e.string();break;case 6:r.reqid=e.string();break;case 7:r.zegoconn_version=e.uint32();break;case 8:r.sdk_type=e.int32();break;case 9:r.zegoconn_run_env=e.int32();break;default:e.skipType(7&i)}}return r},J),n.GetConfigResponseData=(Z.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,Z.prototype.quic_hb_interval=0,Z.prototype.quic_hb_timeout=0,Z.prototype.logic_hb_interval=0,Z.prototype.logic_hb_timeout=0,Z.prototype.pc_establish_timeout=0,Z.prototype.sdk_link_detect_interval=0,Z.prototype.sdk_link_detect_duration=0,Z.prototype.client_outer_ip="",Z.encode=function(e,t){return t=t||i.create(),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.quic_hb_interval&&Object.hasOwnProperty.call(e,"quic_hb_interval")&&t.uint32(16).uint32(e.quic_hb_interval),null!=e.quic_hb_timeout&&Object.hasOwnProperty.call(e,"quic_hb_timeout")&&t.uint32(24).uint32(e.quic_hb_timeout),null!=e.logic_hb_interval&&Object.hasOwnProperty.call(e,"logic_hb_interval")&&t.uint32(32).uint32(e.logic_hb_interval),null!=e.logic_hb_timeout&&Object.hasOwnProperty.call(e,"logic_hb_timeout")&&t.uint32(40).uint32(e.logic_hb_timeout),null!=e.pc_establish_timeout&&Object.hasOwnProperty.call(e,"pc_establish_timeout")&&t.uint32(48).uint32(e.pc_establish_timeout),null!=e.sdk_link_detect_interval&&Object.hasOwnProperty.call(e,"sdk_link_detect_interval")&&t.uint32(56).uint32(e.sdk_link_detect_interval),null!=e.sdk_link_detect_duration&&Object.hasOwnProperty.call(e,"sdk_link_detect_duration")&&t.uint32(64).uint32(e.sdk_link_detect_duration),null!=e.client_outer_ip&&Object.hasOwnProperty.call(e,"client_outer_ip")&&t.uint32(74).string(e.client_outer_ip),t},Z.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.GetConfigResponseData;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.txid=e.uint64();break;case 2:r.quic_hb_interval=e.uint32();break;case 3:r.quic_hb_timeout=e.uint32();break;case 4:r.logic_hb_interval=e.uint32();break;case 5:r.logic_hb_timeout=e.uint32();break;case 6:r.pc_establish_timeout=e.uint32();break;case 7:r.sdk_link_detect_interval=e.uint32();break;case 8:r.sdk_link_detect_duration=e.uint32();break;case 9:r.client_outer_ip=e.string();break;default:e.skipType(7&i)}}return r},Z),n.GetConfigResponse=(X.prototype.code=0,X.prototype.message="",X.prototype.data=null,X.encode=function(e,t){return t=t||i.create(),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int32(e.code),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&s.proto_accesshub.GetConfigResponseData.encode(e.data,t.uint32(26).fork()).ldelim(),t},X.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.GetConfigResponse;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.code=e.int32();break;case 2:r.message=e.string();break;case 3:r.data=s.proto_accesshub.GetConfigResponseData.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},X),n.PCUpwardMessage=(q.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,q.prototype.appid=0,q.prototype.biz_type=0,q.prototype.mode_no=0,q.prototype.id_name="",q.prototype.service_no=0,q.prototype.ack=!1,q.prototype.payload=a.newBuffer([]),q.prototype.sdk_type=0,q.prototype.wss_message_type=0,q.prototype.wss_path="",q.prototype.wss_raw_query="",q.prototype.zegoconn_version=0,q.prototype.zegoconn_run_env=0,q.encode=function(e,t){return t=t||i.create(),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.appid&&Object.hasOwnProperty.call(e,"appid")&&t.uint32(16).uint32(e.appid),null!=e.biz_type&&Object.hasOwnProperty.call(e,"biz_type")&&t.uint32(24).uint32(e.biz_type),null!=e.mode_no&&Object.hasOwnProperty.call(e,"mode_no")&&t.uint32(32).int32(e.mode_no),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(42).string(e.id_name),null!=e.service_no&&Object.hasOwnProperty.call(e,"service_no")&&t.uint32(48).int32(e.service_no),null!=e.ack&&Object.hasOwnProperty.call(e,"ack")&&t.uint32(56).bool(e.ack),null!=e.payload&&Object.hasOwnProperty.call(e,"payload")&&t.uint32(66).bytes(e.payload),null!=e.sdk_type&&Object.hasOwnProperty.call(e,"sdk_type")&&t.uint32(72).int32(e.sdk_type),null!=e.wss_message_type&&Object.hasOwnProperty.call(e,"wss_message_type")&&t.uint32(80).uint32(e.wss_message_type),null!=e.wss_path&&Object.hasOwnProperty.call(e,"wss_path")&&t.uint32(90).string(e.wss_path),null!=e.wss_raw_query&&Object.hasOwnProperty.call(e,"wss_raw_query")&&t.uint32(98).string(e.wss_raw_query),null!=e.zegoconn_version&&Object.hasOwnProperty.call(e,"zegoconn_version")&&t.uint32(104).uint32(e.zegoconn_version),null!=e.zegoconn_run_env&&Object.hasOwnProperty.call(e,"zegoconn_run_env")&&t.uint32(112).int32(e.zegoconn_run_env),t},q.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.PCUpwardMessage;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.txid=e.uint64();break;case 2:r.appid=e.uint32();break;case 3:r.biz_type=e.uint32();break;case 4:r.mode_no=e.int32();break;case 5:r.id_name=e.string();break;case 6:r.service_no=e.int32();break;case 7:r.ack=e.bool();break;case 8:r.payload=e.bytes();break;case 9:r.sdk_type=e.int32();break;case 10:r.wss_message_type=e.uint32();break;case 11:r.wss_path=e.string();break;case 12:r.wss_raw_query=e.string();break;case 13:r.zegoconn_version=e.uint32();break;case 14:r.zegoconn_run_env=e.int32();break;default:e.skipType(7&i)}}return r},q),n.PCUpwardMessageAck=(K.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,K.encode=function(e,t){return t=t||i.create(),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),t},K.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.PCUpwardMessageAck;e.pos<n;){var i=e.uint32();i>>>3==1?r.txid=e.uint64():e.skipType(7&i)}return r},K),n.PCEstablished=(Y.prototype.elapse=0,Y.prototype.from=0,Y.encode=function(e,t){return t=t||i.create(),null!=e.elapse&&Object.hasOwnProperty.call(e,"elapse")&&t.uint32(8).uint32(e.elapse),null!=e.from&&Object.hasOwnProperty.call(e,"from")&&t.uint32(16).uint32(e.from),t},Y.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.PCEstablished;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.elapse=e.uint32();break;case 2:r.from=e.uint32();break;default:e.skipType(7&i)}}return r},Y),n.PCBroken=(H.encode=function(e,t){return t||i.create()},H.decode=function(e,t){e instanceof o||(e=o.create(e));var n=void 0===t?e.len:e.pos+t;for(t=new s.proto_accesshub.PCBroken;e.pos<n;){var r=e.uint32();e.skipType(7&r)}return t},H),n.PCDownwardMessage=(z.prototype.payload=a.newBuffer([]),z.prototype.wss_message_type=0,z.encode=function(e,t){return t=t||i.create(),null!=e.payload&&Object.hasOwnProperty.call(e,"payload")&&t.uint32(10).bytes(e.payload),null!=e.wss_message_type&&Object.hasOwnProperty.call(e,"wss_message_type")&&t.uint32(16).uint32(e.wss_message_type),t},z.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.PCDownwardMessage;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.payload=e.bytes();break;case 2:r.wss_message_type=e.uint32();break;default:e.skipType(7&i)}}return r},z),n.Redirect=(j.prototype.rand="",j.prototype.secret="",j.prototype.groups=a.emptyArray,j.prototype.opt_ports=a.emptyArray,j.prototype.wss_groups=a.emptyArray,j.encode=function(e,t){if(t=t||i.create(),null!=e.rand&&Object.hasOwnProperty.call(e,"rand")&&t.uint32(10).string(e.rand),null!=e.secret&&Object.hasOwnProperty.call(e,"secret")&&t.uint32(18).string(e.secret),null!=e.groups&&e.groups.length)for(let n=0;n<e.groups.length;++n)s.proto_accesshub.AccesshubDispatchGroup.encode(e.groups[n],t.uint32(26).fork()).ldelim();if(null!=e.opt_ports&&e.opt_ports.length)for(let n=0;n<e.opt_ports.length;++n)t.uint32(32).uint32(e.opt_ports[n]);if(null!=e.wss_groups&&e.wss_groups.length)for(let n=0;n<e.wss_groups.length;++n)s.proto_accesshub.WssAccesshubDispatchGroup.encode(e.wss_groups[n],t.uint32(42).fork()).ldelim();return t},j.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.Redirect;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.rand=e.string();break;case 2:r.secret=e.string();break;case 3:r.groups&&r.groups.length||(r.groups=[]),r.groups.push(s.proto_accesshub.AccesshubDispatchGroup.decode(e,e.uint32()));break;case 4:if(r.opt_ports&&r.opt_ports.length||(r.opt_ports=[]),2==(7&i))for(var a=e.uint32()+e.pos;e.pos<a;)r.opt_ports.push(e.uint32());else r.opt_ports.push(e.uint32());break;case 5:r.wss_groups&&r.wss_groups.length||(r.wss_groups=[]),r.wss_groups.push(s.proto_accesshub.WssAccesshubDispatchGroup.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},j),n.GetAppConfigRequest=(U.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,U.prototype.appid=0,U.prototype.biz_type=0,U.prototype.mode_no=0,U.prototype.id_name="",U.prototype.config_key="",U.prototype.ts=a.Long?a.Long.fromBits(0,0,!0):0,U.prototype.signature=a.newBuffer([]),U.prototype.lite_sign="",U.prototype.token="",U.prototype.sdk_type=0,U.prototype.zegoconn_version=0,U.prototype.zegoconn_run_env=0,U.encode=function(e,t){return t=t||i.create(),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.appid&&Object.hasOwnProperty.call(e,"appid")&&t.uint32(16).uint32(e.appid),null!=e.biz_type&&Object.hasOwnProperty.call(e,"biz_type")&&t.uint32(24).uint32(e.biz_type),null!=e.mode_no&&Object.hasOwnProperty.call(e,"mode_no")&&t.uint32(32).int32(e.mode_no),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(42).string(e.id_name),null!=e.config_key&&Object.hasOwnProperty.call(e,"config_key")&&t.uint32(50).string(e.config_key),null!=e.ts&&Object.hasOwnProperty.call(e,"ts")&&t.uint32(56).uint64(e.ts),null!=e.signature&&Object.hasOwnProperty.call(e,"signature")&&t.uint32(66).bytes(e.signature),null!=e.lite_sign&&Object.hasOwnProperty.call(e,"lite_sign")&&t.uint32(74).string(e.lite_sign),null!=e.token&&Object.hasOwnProperty.call(e,"token")&&t.uint32(82).string(e.token),null!=e.sdk_type&&Object.hasOwnProperty.call(e,"sdk_type")&&t.uint32(88).int32(e.sdk_type),null!=e.zegoconn_version&&Object.hasOwnProperty.call(e,"zegoconn_version")&&t.uint32(96).uint32(e.zegoconn_version),null!=e.zegoconn_run_env&&Object.hasOwnProperty.call(e,"zegoconn_run_env")&&t.uint32(104).int32(e.zegoconn_run_env),t},U.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.GetAppConfigRequest;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.txid=e.uint64();break;case 2:r.appid=e.uint32();break;case 3:r.biz_type=e.uint32();break;case 4:r.mode_no=e.int32();break;case 5:r.id_name=e.string();break;case 6:r.config_key=e.string();break;case 7:r.ts=e.uint64();break;case 8:r.signature=e.bytes();break;case 9:r.lite_sign=e.string();break;case 10:r.token=e.string();break;case 11:r.sdk_type=e.int32();break;case 12:r.zegoconn_version=e.uint32();break;case 13:r.zegoconn_run_env=e.int32();break;default:e.skipType(7&i)}}return r},U),n.GetAppConfigResponseData=(B.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,B.prototype.data=a.newBuffer([]),B.prototype.ts=a.Long?a.Long.fromBits(0,0,!0):0,B.encode=function(e,t){return t=t||i.create(),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),null!=e.ts&&Object.hasOwnProperty.call(e,"ts")&&t.uint32(24).uint64(e.ts),t},B.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.GetAppConfigResponseData;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.txid=e.uint64();break;case 2:r.data=e.bytes();break;case 3:r.ts=e.uint64();break;default:e.skipType(7&i)}}return r},B),n.GetAppConfigResponse=(V.prototype.code=0,V.prototype.message="",V.prototype.data=null,V.encode=function(e,t){return t=t||i.create(),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int32(e.code),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&s.proto_accesshub.GetAppConfigResponseData.encode(e.data,t.uint32(26).fork()).ldelim(),t},V.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.GetAppConfigResponse;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.code=e.int32();break;case 2:r.message=e.string();break;case 3:r.data=s.proto_accesshub.GetAppConfigResponseData.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},V),n.PushAppConfig=(x.prototype.config_key="",x.prototype.data=a.newBuffer([]),x.encode=function(e,t){return t=t||i.create(),null!=e.config_key&&Object.hasOwnProperty.call(e,"config_key")&&t.uint32(10).string(e.config_key),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),t},x.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.PushAppConfig;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.config_key=e.string();break;case 2:r.data=e.bytes();break;default:e.skipType(7&i)}}return r},x),n.AccesshubDispatchRequest=(W.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,W.prototype.appid=0,W.prototype.biz_type=0,W.prototype.mode_no=0,W.prototype.id_name="",W.prototype.sdk_type=0,W.prototype.zegoconn_version=0,W.prototype.zegoconn_run_env=0,W.encode=function(e,t){return t=t||i.create(),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.appid&&Object.hasOwnProperty.call(e,"appid")&&t.uint32(16).uint32(e.appid),null!=e.biz_type&&Object.hasOwnProperty.call(e,"biz_type")&&t.uint32(24).uint32(e.biz_type),null!=e.mode_no&&Object.hasOwnProperty.call(e,"mode_no")&&t.uint32(32).int32(e.mode_no),null!=e.id_name&&Object.hasOwnProperty.call(e,"id_name")&&t.uint32(42).string(e.id_name),null!=e.sdk_type&&Object.hasOwnProperty.call(e,"sdk_type")&&t.uint32(48).int32(e.sdk_type),null!=e.zegoconn_version&&Object.hasOwnProperty.call(e,"zegoconn_version")&&t.uint32(56).uint32(e.zegoconn_version),null!=e.zegoconn_run_env&&Object.hasOwnProperty.call(e,"zegoconn_run_env")&&t.uint32(64).int32(e.zegoconn_run_env),t},W.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.AccesshubDispatchRequest;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.txid=e.uint64();break;case 2:r.appid=e.uint32();break;case 3:r.biz_type=e.uint32();break;case 4:r.mode_no=e.int32();break;case 5:r.id_name=e.string();break;case 6:r.sdk_type=e.int32();break;case 7:r.zegoconn_version=e.uint32();break;case 8:r.zegoconn_run_env=e.int32();break;default:e.skipType(7&i)}}return r},W),n.AccesshubDispatchGroup=(F.prototype.group="",F.prototype.quic_nodes=a.emptyArray,F.prototype.mtcp_nodes=a.emptyArray,F.prototype.wss_nodes=a.emptyArray,F.encode=function(e,t){if(t=t||i.create(),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(10).string(e.group),null!=e.quic_nodes&&e.quic_nodes.length)for(let n=0;n<e.quic_nodes.length;++n)t.uint32(18).string(e.quic_nodes[n]);if(null!=e.mtcp_nodes&&e.mtcp_nodes.length)for(let n=0;n<e.mtcp_nodes.length;++n)t.uint32(26).string(e.mtcp_nodes[n]);if(null!=e.wss_nodes&&e.wss_nodes.length)for(let n=0;n<e.wss_nodes.length;++n)t.uint32(34).string(e.wss_nodes[n]);return t},F.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.AccesshubDispatchGroup;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.group=e.string();break;case 2:r.quic_nodes&&r.quic_nodes.length||(r.quic_nodes=[]),r.quic_nodes.push(e.string());break;case 3:r.mtcp_nodes&&r.mtcp_nodes.length||(r.mtcp_nodes=[]),r.mtcp_nodes.push(e.string());break;case 4:r.wss_nodes&&r.wss_nodes.length||(r.wss_nodes=[]),r.wss_nodes.push(e.string());break;default:e.skipType(7&i)}}return r},F),n.WssAccesshubDispatchGroup=(N.prototype.group="",N.prototype.host="",N.encode=function(e,t){return t=t||i.create(),null!=e.group&&Object.hasOwnProperty.call(e,"group")&&t.uint32(10).string(e.group),null!=e.host&&Object.hasOwnProperty.call(e,"host")&&t.uint32(18).string(e.host),t},N.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.WssAccesshubDispatchGroup;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.group=e.string();break;case 2:r.host=e.string();break;default:e.skipType(7&i)}}return r},N),n.AccesshubDispatchResponseData=(A.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,A.prototype.rand="",A.prototype.secret="",A.prototype.groups=a.emptyArray,A.prototype.opt_ports=a.emptyArray,A.prototype.wss_groups=a.emptyArray,A.encode=function(e,t){if(t=t||i.create(),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.rand&&Object.hasOwnProperty.call(e,"rand")&&t.uint32(18).string(e.rand),null!=e.secret&&Object.hasOwnProperty.call(e,"secret")&&t.uint32(26).string(e.secret),null!=e.groups&&e.groups.length)for(let n=0;n<e.groups.length;++n)s.proto_accesshub.AccesshubDispatchGroup.encode(e.groups[n],t.uint32(34).fork()).ldelim();if(null!=e.opt_ports&&e.opt_ports.length)for(let n=0;n<e.opt_ports.length;++n)t.uint32(40).uint32(e.opt_ports[n]);if(null!=e.wss_groups&&e.wss_groups.length)for(let n=0;n<e.wss_groups.length;++n)s.proto_accesshub.WssAccesshubDispatchGroup.encode(e.wss_groups[n],t.uint32(50).fork()).ldelim();return t},A.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.AccesshubDispatchResponseData;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.txid=e.uint64();break;case 2:r.rand=e.string();break;case 3:r.secret=e.string();break;case 4:r.groups&&r.groups.length||(r.groups=[]),r.groups.push(s.proto_accesshub.AccesshubDispatchGroup.decode(e,e.uint32()));break;case 5:if(r.opt_ports&&r.opt_ports.length||(r.opt_ports=[]),2==(7&i))for(var a=e.uint32()+e.pos;e.pos<a;)r.opt_ports.push(e.uint32());else r.opt_ports.push(e.uint32());break;case 6:r.wss_groups&&r.wss_groups.length||(r.wss_groups=[]),r.wss_groups.push(s.proto_accesshub.WssAccesshubDispatchGroup.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},A),n.AccesshubDispatchResponse=(G.prototype.code=0,G.prototype.message="",G.prototype.data=null,G.encode=function(e,t){return t=t||i.create(),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int32(e.code),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&s.proto_accesshub.AccesshubDispatchResponseData.encode(e.data,t.uint32(26).fork()).ldelim(),t},G.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.AccesshubDispatchResponse;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.code=e.int32();break;case 2:r.message=e.string();break;case 3:r.data=s.proto_accesshub.AccesshubDispatchResponseData.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},G),n.GetIMConfigRequest=(L.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,L.prototype.appid=0,L.prototype.mode_no=0,L.prototype.user_id="",L.prototype.config_key="",L.prototype.token="",L.prototype.lite_sign="",L.prototype.sdk_type=0,L.prototype.zegoconn_version=0,L.prototype.zegoconn_run_env=0,L.encode=function(e,t){return t=t||i.create(),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.appid&&Object.hasOwnProperty.call(e,"appid")&&t.uint32(16).uint32(e.appid),null!=e.mode_no&&Object.hasOwnProperty.call(e,"mode_no")&&t.uint32(24).int32(e.mode_no),null!=e.user_id&&Object.hasOwnProperty.call(e,"user_id")&&t.uint32(34).string(e.user_id),null!=e.config_key&&Object.hasOwnProperty.call(e,"config_key")&&t.uint32(42).string(e.config_key),null!=e.token&&Object.hasOwnProperty.call(e,"token")&&t.uint32(50).string(e.token),null!=e.lite_sign&&Object.hasOwnProperty.call(e,"lite_sign")&&t.uint32(58).string(e.lite_sign),null!=e.sdk_type&&Object.hasOwnProperty.call(e,"sdk_type")&&t.uint32(64).int32(e.sdk_type),null!=e.zegoconn_version&&Object.hasOwnProperty.call(e,"zegoconn_version")&&t.uint32(72).uint32(e.zegoconn_version),null!=e.zegoconn_run_env&&Object.hasOwnProperty.call(e,"zegoconn_run_env")&&t.uint32(80).int32(e.zegoconn_run_env),t},L.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.GetIMConfigRequest;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.txid=e.uint64();break;case 2:r.appid=e.uint32();break;case 3:r.mode_no=e.int32();break;case 4:r.user_id=e.string();break;case 5:r.config_key=e.string();break;case 6:r.token=e.string();break;case 7:r.lite_sign=e.string();break;case 8:r.sdk_type=e.int32();break;case 9:r.zegoconn_version=e.uint32();break;case 10:r.zegoconn_run_env=e.int32();break;default:e.skipType(7&i)}}return r},L),n.GetIMConfigResponseData=(k.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,k.prototype.data=a.newBuffer([]),k.encode=function(e,t){return t=t||i.create(),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(8).uint64(e.txid),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&t.uint32(18).bytes(e.data),t},k.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.GetIMConfigResponseData;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.txid=e.uint64();break;case 2:r.data=e.bytes();break;default:e.skipType(7&i)}}return r},k),n.GetIMConfigResponse=(R.prototype.code=0,R.prototype.message="",R.prototype.data=null,R.encode=function(e,t){return t=t||i.create(),null!=e.code&&Object.hasOwnProperty.call(e,"code")&&t.uint32(8).int32(e.code),null!=e.message&&Object.hasOwnProperty.call(e,"message")&&t.uint32(18).string(e.message),null!=e.data&&Object.hasOwnProperty.call(e,"data")&&s.proto_accesshub.GetIMConfigResponseData.encode(e.data,t.uint32(26).fork()).ldelim(),t},R.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.GetIMConfigResponse;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.code=e.int32();break;case 2:r.message=e.string();break;case 3:r.data=s.proto_accesshub.GetIMConfigResponseData.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},R),n.PushException=(M.prototype.reason=0,M.prototype.msg="",M.prototype.txid=a.Long?a.Long.fromBits(0,0,!0):0,M.encode=function(e,t){return t=t||i.create(),null!=e.reason&&Object.hasOwnProperty.call(e,"reason")&&t.uint32(8).int32(e.reason),null!=e.msg&&Object.hasOwnProperty.call(e,"msg")&&t.uint32(18).string(e.msg),null!=e.txid&&Object.hasOwnProperty.call(e,"txid")&&t.uint32(24).uint64(e.txid),t},M.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_accesshub.PushException;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.reason=e.int32();break;case 2:r.msg=e.string();break;case 3:r.txid=e.uint64();break;default:e.skipType(7&i)}}return r},M),n),u=s.proto_initconfig=((t={}).ProtoVersion=(r={},(n=Object.create(r))[r[0]="RPOTO_V000000"]=0,n[r[65536]="RPOTO_V010000"]=65536,n),t.ResourceType=(r={},(n=Object.create(r))[r[0]="CDN"]=0,n[r[1]="RTC"]=1,n[r[2]="L3"]=2,n),t.ProtocolType=(r={},(n=Object.create(r))[r[0]="UDP"]=0,n[r[1]="RTMP"]=1,n[r[2]="FLV"]=2,n[r[3]="HLS"]=3,n[r[4]="WEBRTC"]=4,n),t.ResolveType=(r={},(n=Object.create(r))[r[0]="LOCAL_DNS"]=0,n[r[1]="DISPATCH"]=1,n),t.AppConfig=(w.prototype.test_id=null,w.prototype.domain=null,w.prototype.flexible_domain=null,w.prototype.replace_flexible_domain=null,Object.defineProperty(w.prototype,"_test_id",{get:a.oneOfGetter(r=["test_id"]),set:a.oneOfSetter(r)}),Object.defineProperty(w.prototype,"_domain",{get:a.oneOfGetter(r=["domain"]),set:a.oneOfSetter(r)}),Object.defineProperty(w.prototype,"_flexible_domain",{get:a.oneOfGetter(r=["flexible_domain"]),set:a.oneOfSetter(r)}),Object.defineProperty(w.prototype,"_replace_flexible_domain",{get:a.oneOfGetter(r=["replace_flexible_domain"]),set:a.oneOfSetter(r)}),w.encode=function(e,t){return t=t||i.create(),null!=e.test_id&&Object.hasOwnProperty.call(e,"test_id")&&t.uint32(8).int32(e.test_id),null!=e.domain&&Object.hasOwnProperty.call(e,"domain")&&t.uint32(18).string(e.domain),null!=e.flexible_domain&&Object.hasOwnProperty.call(e,"flexible_domain")&&t.uint32(26).string(e.flexible_domain),null!=e.replace_flexible_domain&&Object.hasOwnProperty.call(e,"replace_flexible_domain")&&t.uint32(34).string(e.replace_flexible_domain),t},w.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.AppConfig;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.test_id=e.int32();break;case 2:r.domain=e.string();break;case 3:r.flexible_domain=e.string();break;case 4:r.replace_flexible_domain=e.string();break;default:e.skipType(7&i)}}return r},w),t.RoomConfig=(D.prototype.license_url=null,Object.defineProperty(D.prototype,"_license_url",{get:a.oneOfGetter(n=["license_url"]),set:a.oneOfSetter(n)}),D.encode=function(e,t){return t=t||i.create(),null!=e.license_url&&Object.hasOwnProperty.call(e,"license_url")&&t.uint32(10).string(e.license_url),t},D.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.RoomConfig;e.pos<n;){var i=e.uint32();i>>>3==1?r.license_url=e.string():e.skipType(7&i)}return r},D),t.VEConfig=(I.prototype.audio_session_protect=null,Object.defineProperty(I.prototype,"_audio_session_protect",{get:a.oneOfGetter(r=["audio_session_protect"]),set:a.oneOfSetter(r)}),I.encode=function(e,t){return t=t||i.create(),null!=e.audio_session_protect&&Object.hasOwnProperty.call(e,"audio_session_protect")&&t.uint32(8).int32(e.audio_session_protect),t},I.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.VEConfig;e.pos<n;){var i=e.uint32();i>>>3==1?r.audio_session_protect=e.int32():e.skipType(7&i)}return r},I),t.SpeedlogConfig=(P.prototype.report_count=null,P.prototype.report_retry_interval=null,P.prototype.push_quality_sample_count=null,P.prototype.pull_quality_sample_count=null,P.prototype.hardware_report_cycle=null,P.prototype.room_user_max_count=null,P.prototype.room_stream_max_count=null,P.prototype.charge_info_report_cycle=null,P.prototype.charge_info_report_mode=null,P.prototype.disable_report_pull=a.emptyArray,P.prototype.report_max_bytes=null,Object.defineProperty(P.prototype,"_report_count",{get:a.oneOfGetter(n=["report_count"]),set:a.oneOfSetter(n)}),Object.defineProperty(P.prototype,"_report_retry_interval",{get:a.oneOfGetter(n=["report_retry_interval"]),set:a.oneOfSetter(n)}),Object.defineProperty(P.prototype,"_push_quality_sample_count",{get:a.oneOfGetter(n=["push_quality_sample_count"]),set:a.oneOfSetter(n)}),Object.defineProperty(P.prototype,"_pull_quality_sample_count",{get:a.oneOfGetter(n=["pull_quality_sample_count"]),set:a.oneOfSetter(n)}),Object.defineProperty(P.prototype,"_hardware_report_cycle",{get:a.oneOfGetter(n=["hardware_report_cycle"]),set:a.oneOfSetter(n)}),Object.defineProperty(P.prototype,"_room_user_max_count",{get:a.oneOfGetter(n=["room_user_max_count"]),set:a.oneOfSetter(n)}),Object.defineProperty(P.prototype,"_room_stream_max_count",{get:a.oneOfGetter(n=["room_stream_max_count"]),set:a.oneOfSetter(n)}),Object.defineProperty(P.prototype,"_charge_info_report_cycle",{get:a.oneOfGetter(n=["charge_info_report_cycle"]),set:a.oneOfSetter(n)}),Object.defineProperty(P.prototype,"_charge_info_report_mode",{get:a.oneOfGetter(n=["charge_info_report_mode"]),set:a.oneOfSetter(n)}),Object.defineProperty(P.prototype,"_report_max_bytes",{get:a.oneOfGetter(n=["report_max_bytes"]),set:a.oneOfSetter(n)}),P.encode=function(e,t){if(t=t||i.create(),null!=e.report_count&&Object.hasOwnProperty.call(e,"report_count")&&t.uint32(8).int32(e.report_count),null!=e.report_retry_interval&&Object.hasOwnProperty.call(e,"report_retry_interval")&&t.uint32(16).int32(e.report_retry_interval),null!=e.push_quality_sample_count&&Object.hasOwnProperty.call(e,"push_quality_sample_count")&&t.uint32(24).int32(e.push_quality_sample_count),null!=e.pull_quality_sample_count&&Object.hasOwnProperty.call(e,"pull_quality_sample_count")&&t.uint32(32).int32(e.pull_quality_sample_count),null!=e.hardware_report_cycle&&Object.hasOwnProperty.call(e,"hardware_report_cycle")&&t.uint32(40).int32(e.hardware_report_cycle),null!=e.room_user_max_count&&Object.hasOwnProperty.call(e,"room_user_max_count")&&t.uint32(48).int32(e.room_user_max_count),null!=e.room_stream_max_count&&Object.hasOwnProperty.call(e,"room_stream_max_count")&&t.uint32(56).int32(e.room_stream_max_count),null!=e.charge_info_report_cycle&&Object.hasOwnProperty.call(e,"charge_info_report_cycle")&&t.uint32(64).int32(e.charge_info_report_cycle),null!=e.charge_info_report_mode&&Object.hasOwnProperty.call(e,"charge_info_report_mode")&&t.uint32(72).int32(e.charge_info_report_mode),null!=e.disable_report_pull&&e.disable_report_pull.length){t.uint32(82).fork();for(let n=0;n<e.disable_report_pull.length;++n)t.int32(e.disable_report_pull[n]);t.ldelim()}return null!=e.report_max_bytes&&Object.hasOwnProperty.call(e,"report_max_bytes")&&t.uint32(88).int32(e.report_max_bytes),t},P.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.SpeedlogConfig;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.report_count=e.int32();break;case 2:r.report_retry_interval=e.int32();break;case 3:r.push_quality_sample_count=e.int32();break;case 4:r.pull_quality_sample_count=e.int32();break;case 5:r.hardware_report_cycle=e.int32();break;case 6:r.room_user_max_count=e.int32();break;case 7:r.room_stream_max_count=e.int32();break;case 8:r.charge_info_report_cycle=e.int32();break;case 9:r.charge_info_report_mode=e.int32();break;case 10:if(r.disable_report_pull&&r.disable_report_pull.length||(r.disable_report_pull=[]),2==(7&i))for(var a=e.uint32()+e.pos;e.pos<a;)r.disable_report_pull.push(e.int32());else r.disable_report_pull.push(e.int32());break;case 11:r.report_max_bytes=e.int32();break;default:e.skipType(7&i)}}return r},P),t.MediaServiceProtocolInfo=(T.prototype.config_id=null,T.prototype.protocol=null,T.prototype.url_template=null,T.prototype.resolve_type=null,T.prototype.push_cdn_authentication=null,T.prototype.cdn_quic_version=a.emptyArray,Object.defineProperty(T.prototype,"_config_id",{get:a.oneOfGetter(r=["config_id"]),set:a.oneOfSetter(r)}),Object.defineProperty(T.prototype,"_protocol",{get:a.oneOfGetter(r=["protocol"]),set:a.oneOfSetter(r)}),Object.defineProperty(T.prototype,"_url_template",{get:a.oneOfGetter(r=["url_template"]),set:a.oneOfSetter(r)}),Object.defineProperty(T.prototype,"_resolve_type",{get:a.oneOfGetter(r=["resolve_type"]),set:a.oneOfSetter(r)}),Object.defineProperty(T.prototype,"_push_cdn_authentication",{get:a.oneOfGetter(r=["push_cdn_authentication"]),set:a.oneOfSetter(r)}),T.encode=function(e,t){if(t=t||i.create(),null!=e.config_id&&Object.hasOwnProperty.call(e,"config_id")&&t.uint32(10).string(e.config_id),null!=e.protocol&&Object.hasOwnProperty.call(e,"protocol")&&t.uint32(16).int32(e.protocol),null!=e.url_template&&Object.hasOwnProperty.call(e,"url_template")&&t.uint32(26).string(e.url_template),null!=e.resolve_type&&Object.hasOwnProperty.call(e,"resolve_type")&&t.uint32(32).int32(e.resolve_type),null!=e.push_cdn_authentication&&Object.hasOwnProperty.call(e,"push_cdn_authentication")&&t.uint32(40).int32(e.push_cdn_authentication),null!=e.cdn_quic_version&&e.cdn_quic_version.length){t.uint32(50).fork();for(let n=0;n<e.cdn_quic_version.length;++n)t.int32(e.cdn_quic_version[n]);t.ldelim()}return t},T.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.MediaServiceProtocolInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.config_id=e.string();break;case 2:r.protocol=e.int32();break;case 3:r.url_template=e.string();break;case 4:r.resolve_type=e.int32();break;case 5:r.push_cdn_authentication=e.int32();break;case 6:if(r.cdn_quic_version&&r.cdn_quic_version.length||(r.cdn_quic_version=[]),2==(7&i))for(var a=e.uint32()+e.pos;e.pos<a;)r.cdn_quic_version.push(e.int32());else r.cdn_quic_version.push(e.int32());break;default:e.skipType(7&i)}}return r},T),t.MediaResourceInfo=(E.prototype.resource_type=null,E.prototype.service_info=a.emptyArray,Object.defineProperty(E.prototype,"_resource_type",{get:a.oneOfGetter(n=["resource_type"]),set:a.oneOfSetter(n)}),E.encode=function(e,t){if(t=t||i.create(),null!=e.resource_type&&Object.hasOwnProperty.call(e,"resource_type")&&t.uint32(8).int32(e.resource_type),null!=e.service_info&&e.service_info.length)for(let n=0;n<e.service_info.length;++n)s.proto_initconfig.MediaServiceProtocolInfo.encode(e.service_info[n],t.uint32(18).fork()).ldelim();return t},E.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.MediaResourceInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.resource_type=e.int32();break;case 2:r.service_info&&r.service_info.length||(r.service_info=[]),r.service_info.push(s.proto_initconfig.MediaServiceProtocolInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},E),t.TrafficControl=(S.prototype.enable_traffic_control=null,S.prototype.traffic_properties=null,Object.defineProperty(S.prototype,"_enable_traffic_control",{get:a.oneOfGetter(r=["enable_traffic_control"]),set:a.oneOfSetter(r)}),Object.defineProperty(S.prototype,"_traffic_properties",{get:a.oneOfGetter(r=["traffic_properties"]),set:a.oneOfSetter(r)}),S.encode=function(e,t){return t=t||i.create(),null!=e.enable_traffic_control&&Object.hasOwnProperty.call(e,"enable_traffic_control")&&t.uint32(8).int32(e.enable_traffic_control),null!=e.traffic_properties&&Object.hasOwnProperty.call(e,"traffic_properties")&&t.uint32(16).int32(e.traffic_properties),t},S.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.TrafficControl;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.enable_traffic_control=e.int32();break;case 2:r.traffic_properties=e.int32();break;default:e.skipType(7&i)}}return r},S),t.SupplementFrameControl=(b.prototype.enable=null,b.prototype.threshold=null,b.prototype.probability=null,Object.defineProperty(b.prototype,"_enable",{get:a.oneOfGetter(n=["enable"]),set:a.oneOfSetter(n)}),Object.defineProperty(b.prototype,"_threshold",{get:a.oneOfGetter(n=["threshold"]),set:a.oneOfSetter(n)}),Object.defineProperty(b.prototype,"_probability",{get:a.oneOfGetter(n=["probability"]),set:a.oneOfSetter(n)}),b.encode=function(e,t){return t=t||i.create(),null!=e.enable&&Object.hasOwnProperty.call(e,"enable")&&t.uint32(8).int32(e.enable),null!=e.threshold&&Object.hasOwnProperty.call(e,"threshold")&&t.uint32(16).int32(e.threshold),null!=e.probability&&Object.hasOwnProperty.call(e,"probability")&&t.uint32(24).int32(e.probability),t},b.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.SupplementFrameControl;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.enable=e.int32();break;case 2:r.threshold=e.int32();break;case 3:r.probability=e.int32();break;default:e.skipType(7&i)}}return r},b),t.VideoParam=(C.prototype.video_width=null,C.prototype.video_height=null,C.prototype.video_codec_id=null,C.prototype.video_bitrate=null,Object.defineProperty(C.prototype,"_video_width",{get:a.oneOfGetter(r=["video_width"]),set:a.oneOfSetter(r)}),Object.defineProperty(C.prototype,"_video_height",{get:a.oneOfGetter(r=["video_height"]),set:a.oneOfSetter(r)}),Object.defineProperty(C.prototype,"_video_codec_id",{get:a.oneOfGetter(r=["video_codec_id"]),set:a.oneOfSetter(r)}),Object.defineProperty(C.prototype,"_video_bitrate",{get:a.oneOfGetter(r=["video_bitrate"]),set:a.oneOfSetter(r)}),C.encode=function(e,t){return t=t||i.create(),null!=e.video_width&&Object.hasOwnProperty.call(e,"video_width")&&t.uint32(8).int32(e.video_width),null!=e.video_height&&Object.hasOwnProperty.call(e,"video_height")&&t.uint32(16).int32(e.video_height),null!=e.video_codec_id&&Object.hasOwnProperty.call(e,"video_codec_id")&&t.uint32(24).int32(e.video_codec_id),null!=e.video_bitrate&&Object.hasOwnProperty.call(e,"video_bitrate")&&t.uint32(32).int32(e.video_bitrate),t},C.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.VideoParam;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.video_width=e.int32();break;case 2:r.video_height=e.int32();break;case 3:r.video_codec_id=e.int32();break;case 4:r.video_bitrate=e.int32();break;default:e.skipType(7&i)}}return r},C),t.PushConfig=(O.prototype.channel_idx=null,O.prototype.mode=null,O.prototype.traffic_control=null,O.prototype.resolution_rate=null,O.prototype.video_param=a.emptyArray,Object.defineProperty(O.prototype,"_channel_idx",{get:a.oneOfGetter(n=["channel_idx"]),set:a.oneOfSetter(n)}),Object.defineProperty(O.prototype,"_mode",{get:a.oneOfGetter(n=["mode"]),set:a.oneOfSetter(n)}),Object.defineProperty(O.prototype,"_traffic_control",{get:a.oneOfGetter(n=["traffic_control"]),set:a.oneOfSetter(n)}),Object.defineProperty(O.prototype,"_resolution_rate",{get:a.oneOfGetter(n=["resolution_rate"]),set:a.oneOfSetter(n)}),O.encode=function(e,t){if(t=t||i.create(),null!=e.channel_idx&&Object.hasOwnProperty.call(e,"channel_idx")&&t.uint32(8).int32(e.channel_idx),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(16).int32(e.mode),null!=e.traffic_control&&Object.hasOwnProperty.call(e,"traffic_control")&&s.proto_initconfig.TrafficControl.encode(e.traffic_control,t.uint32(42).fork()).ldelim(),null!=e.resolution_rate&&Object.hasOwnProperty.call(e,"resolution_rate")&&t.uint32(48).int32(e.resolution_rate),null!=e.video_param&&e.video_param.length)for(let n=0;n<e.video_param.length;++n)s.proto_initconfig.VideoParam.encode(e.video_param[n],t.uint32(58).fork()).ldelim();return t},O.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.PushConfig;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.channel_idx=e.int32();break;case 2:r.mode=e.int32();break;case 5:r.traffic_control=s.proto_initconfig.TrafficControl.decode(e,e.uint32());break;case 6:r.resolution_rate=e.int32();break;case 7:r.video_param&&r.video_param.length||(r.video_param=[]),r.video_param.push(s.proto_initconfig.VideoParam.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},O),t.MediaPublishConfig=(v.prototype.push_type=null,v.prototype.resource_info=a.emptyArray,v.prototype.push_config=a.emptyArray,Object.defineProperty(v.prototype,"_push_type",{get:a.oneOfGetter(r=["push_type"]),set:a.oneOfSetter(r)}),v.encode=function(e,t){if(t=t||i.create(),null!=e.push_type&&Object.hasOwnProperty.call(e,"push_type")&&t.uint32(8).int32(e.push_type),null!=e.resource_info&&e.resource_info.length)for(let n=0;n<e.resource_info.length;++n)s.proto_initconfig.MediaResourceInfo.encode(e.resource_info[n],t.uint32(18).fork()).ldelim();if(null!=e.push_config&&e.push_config.length)for(let n=0;n<e.push_config.length;++n)s.proto_initconfig.PushConfig.encode(e.push_config[n],t.uint32(26).fork()).ldelim();return t},v.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.MediaPublishConfig;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.push_type=e.int32();break;case 2:r.resource_info&&r.resource_info.length||(r.resource_info=[]),r.resource_info.push(s.proto_initconfig.MediaResourceInfo.decode(e,e.uint32()));break;case 3:r.push_config&&r.push_config.length||(r.push_config=[]),r.push_config.push(s.proto_initconfig.PushConfig.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},v),t.TranscodingConfig=(_.prototype.video_codec_h264=null,Object.defineProperty(_.prototype,"_video_codec_h264",{get:a.oneOfGetter(n=["video_codec_h264"]),set:a.oneOfSetter(n)}),_.encode=function(e,t){return t=t||i.create(),null!=e.video_codec_h264&&Object.hasOwnProperty.call(e,"video_codec_h264")&&t.uint32(10).string(e.video_codec_h264),t},_.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.TranscodingConfig;e.pos<n;){var i=e.uint32();i>>>3==1?r.video_codec_h264=e.string():e.skipType(7&i)}return r},_),t.MediaPlayConfig=(y.prototype.pull_type=null,y.prototype.l3_play_buffer_ms=null,y.prototype.allow_playing_specific_url=null,y.prototype.resource_order=a.emptyArray,y.prototype.resource_info=a.emptyArray,y.prototype.play_order_protocol_type=a.emptyArray,y.prototype.jitter_buffer_flag=null,y.prototype.min_jitter_buffer=null,y.prototype.max_jitter_buffer=null,y.prototype.supplement_frame_control=null,y.prototype.open_l3_play_resource_prefer=null,y.prototype.switch_to_l3_after_online=null,y.prototype.transcoding=null,Object.defineProperty(y.prototype,"_pull_type",{get:a.oneOfGetter(r=["pull_type"]),set:a.oneOfSetter(r)}),Object.defineProperty(y.prototype,"_l3_play_buffer_ms",{get:a.oneOfGetter(r=["l3_play_buffer_ms"]),set:a.oneOfSetter(r)}),Object.defineProperty(y.prototype,"_allow_playing_specific_url",{get:a.oneOfGetter(r=["allow_playing_specific_url"]),set:a.oneOfSetter(r)}),Object.defineProperty(y.prototype,"_jitter_buffer_flag",{get:a.oneOfGetter(r=["jitter_buffer_flag"]),set:a.oneOfSetter(r)}),Object.defineProperty(y.prototype,"_min_jitter_buffer",{get:a.oneOfGetter(r=["min_jitter_buffer"]),set:a.oneOfSetter(r)}),Object.defineProperty(y.prototype,"_max_jitter_buffer",{get:a.oneOfGetter(r=["max_jitter_buffer"]),set:a.oneOfSetter(r)}),Object.defineProperty(y.prototype,"_supplement_frame_control",{get:a.oneOfGetter(r=["supplement_frame_control"]),set:a.oneOfSetter(r)}),Object.defineProperty(y.prototype,"_open_l3_play_resource_prefer",{get:a.oneOfGetter(r=["open_l3_play_resource_prefer"]),set:a.oneOfSetter(r)}),Object.defineProperty(y.prototype,"_switch_to_l3_after_online",{get:a.oneOfGetter(r=["switch_to_l3_after_online"]),set:a.oneOfSetter(r)}),Object.defineProperty(y.prototype,"_transcoding",{get:a.oneOfGetter(r=["transcoding"]),set:a.oneOfSetter(r)}),y.encode=function(e,t){if(t=t||i.create(),null!=e.pull_type&&Object.hasOwnProperty.call(e,"pull_type")&&t.uint32(8).int32(e.pull_type),null!=e.l3_play_buffer_ms&&Object.hasOwnProperty.call(e,"l3_play_buffer_ms")&&t.uint32(16).int32(e.l3_play_buffer_ms),null!=e.allow_playing_specific_url&&Object.hasOwnProperty.call(e,"allow_playing_specific_url")&&t.uint32(24).int32(e.allow_playing_specific_url),null!=e.resource_order&&e.resource_order.length){t.uint32(34).fork();for(let n=0;n<e.resource_order.length;++n)t.int32(e.resource_order[n]);t.ldelim()}if(null!=e.resource_info&&e.resource_info.length)for(let n=0;n<e.resource_info.length;++n)s.proto_initconfig.MediaResourceInfo.encode(e.resource_info[n],t.uint32(42).fork()).ldelim();if(null!=e.play_order_protocol_type&&e.play_order_protocol_type.length){t.uint32(50).fork();for(let n=0;n<e.play_order_protocol_type.length;++n)t.int32(e.play_order_protocol_type[n]);t.ldelim()}return null!=e.jitter_buffer_flag&&Object.hasOwnProperty.call(e,"jitter_buffer_flag")&&t.uint32(80).int32(e.jitter_buffer_flag),null!=e.min_jitter_buffer&&Object.hasOwnProperty.call(e,"min_jitter_buffer")&&t.uint32(88).int32(e.min_jitter_buffer),null!=e.max_jitter_buffer&&Object.hasOwnProperty.call(e,"max_jitter_buffer")&&t.uint32(96).int32(e.max_jitter_buffer),null!=e.supplement_frame_control&&Object.hasOwnProperty.call(e,"supplement_frame_control")&&s.proto_initconfig.SupplementFrameControl.encode(e.supplement_frame_control,t.uint32(106).fork()).ldelim(),null!=e.open_l3_play_resource_prefer&&Object.hasOwnProperty.call(e,"open_l3_play_resource_prefer")&&t.uint32(112).int32(e.open_l3_play_resource_prefer),null!=e.switch_to_l3_after_online&&Object.hasOwnProperty.call(e,"switch_to_l3_after_online")&&t.uint32(120).int32(e.switch_to_l3_after_online),null!=e.transcoding&&Object.hasOwnProperty.call(e,"transcoding")&&s.proto_initconfig.TranscodingConfig.encode(e.transcoding,t.uint32(130).fork()).ldelim(),t},y.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.MediaPlayConfig;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.pull_type=e.int32();break;case 2:r.l3_play_buffer_ms=e.int32();break;case 3:r.allow_playing_specific_url=e.int32();break;case 4:if(r.resource_order&&r.resource_order.length||(r.resource_order=[]),2==(7&i))for(var a=e.uint32()+e.pos;e.pos<a;)r.resource_order.push(e.int32());else r.resource_order.push(e.int32());break;case 5:r.resource_info&&r.resource_info.length||(r.resource_info=[]),r.resource_info.push(s.proto_initconfig.MediaResourceInfo.decode(e,e.uint32()));break;case 6:if(r.play_order_protocol_type&&r.play_order_protocol_type.length||(r.play_order_protocol_type=[]),2==(7&i))for(var c=e.uint32()+e.pos;e.pos<c;)r.play_order_protocol_type.push(e.int32());else r.play_order_protocol_type.push(e.int32());break;case 10:r.jitter_buffer_flag=e.int32();break;case 11:r.min_jitter_buffer=e.int32();break;case 12:r.max_jitter_buffer=e.int32();break;case 13:r.supplement_frame_control=s.proto_initconfig.SupplementFrameControl.decode(e,e.uint32());break;case 14:r.open_l3_play_resource_prefer=e.int32();break;case 15:r.switch_to_l3_after_online=e.int32();break;case 16:r.transcoding=s.proto_initconfig.TranscodingConfig.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},y),t.MediaDispatchProtocolInfo=(m.prototype.protocol=null,m.prototype.url_template=null,m.prototype.reusable=null,Object.defineProperty(m.prototype,"_protocol",{get:a.oneOfGetter(n=["protocol"]),set:a.oneOfSetter(n)}),Object.defineProperty(m.prototype,"_url_template",{get:a.oneOfGetter(n=["url_template"]),set:a.oneOfSetter(n)}),Object.defineProperty(m.prototype,"_reusable",{get:a.oneOfGetter(n=["reusable"]),set:a.oneOfSetter(n)}),m.encode=function(e,t){return t=t||i.create(),null!=e.protocol&&Object.hasOwnProperty.call(e,"protocol")&&t.uint32(8).int32(e.protocol),null!=e.url_template&&Object.hasOwnProperty.call(e,"url_template")&&t.uint32(18).string(e.url_template),null!=e.reusable&&Object.hasOwnProperty.call(e,"reusable")&&t.uint32(24).int32(e.reusable),t},m.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.MediaDispatchProtocolInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.protocol=e.int32();break;case 2:r.url_template=e.string();break;case 3:r.reusable=e.int32();break;default:e.skipType(7&i)}}return r},m),t.MediaDispatchResourceInfo=(g.prototype.resource_type=null,g.prototype.dispatch_protocol_info=a.emptyArray,Object.defineProperty(g.prototype,"_resource_type",{get:a.oneOfGetter(r=["resource_type"]),set:a.oneOfSetter(r)}),g.encode=function(e,t){if(t=t||i.create(),null!=e.resource_type&&Object.hasOwnProperty.call(e,"resource_type")&&t.uint32(8).int32(e.resource_type),null!=e.dispatch_protocol_info&&e.dispatch_protocol_info.length)for(let n=0;n<e.dispatch_protocol_info.length;++n)s.proto_initconfig.MediaDispatchProtocolInfo.encode(e.dispatch_protocol_info[n],t.uint32(18).fork()).ldelim();return t},g.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.MediaDispatchResourceInfo;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.resource_type=e.int32();break;case 2:r.dispatch_protocol_info&&r.dispatch_protocol_info.length||(r.dispatch_protocol_info=[]),r.dispatch_protocol_info.push(s.proto_initconfig.MediaDispatchProtocolInfo.decode(e,e.uint32()));break;default:e.skipType(7&i)}}return r},g),t.MediaDispatchConfig=(f.prototype.dispatch_resource_info=a.emptyArray,f.encode=function(e,t){if(t=t||i.create(),null!=e.dispatch_resource_info&&e.dispatch_resource_info.length)for(let n=0;n<e.dispatch_resource_info.length;++n)s.proto_initconfig.MediaDispatchResourceInfo.encode(e.dispatch_resource_info[n],t.uint32(10).fork()).ldelim();return t},f.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.MediaDispatchConfig;e.pos<n;){var i=e.uint32();i>>>3==1?(r.dispatch_resource_info&&r.dispatch_resource_info.length||(r.dispatch_resource_info=[]),r.dispatch_resource_info.push(s.proto_initconfig.MediaDispatchResourceInfo.decode(e,e.uint32()))):e.skipType(7&i)}return r},f),t.MediaServiceUrlList=(h.prototype.base_url=null,h.prototype.push_status_url=null,Object.defineProperty(h.prototype,"_base_url",{get:a.oneOfGetter(n=["base_url"]),set:a.oneOfSetter(n)}),Object.defineProperty(h.prototype,"_push_status_url",{get:a.oneOfGetter(n=["push_status_url"]),set:a.oneOfSetter(n)}),h.encode=function(e,t){return t=t||i.create(),null!=e.base_url&&Object.hasOwnProperty.call(e,"base_url")&&t.uint32(10).string(e.base_url),null!=e.push_status_url&&Object.hasOwnProperty.call(e,"push_status_url")&&t.uint32(18).string(e.push_status_url),t},h.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.MediaServiceUrlList;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.base_url=e.string();break;case 2:r.push_status_url=e.string();break;default:e.skipType(7&i)}}return r},h),t.ZeusMediaConfig=(d.prototype.push_dispatch_type=null,d.prototype.pull_dispatch_type=null,d.prototype.open_auth=null,d.prototype.send_anchor_login_after_push_cdn=null,Object.defineProperty(d.prototype,"_push_dispatch_type",{get:a.oneOfGetter(r=["push_dispatch_type"]),set:a.oneOfSetter(r)}),Object.defineProperty(d.prototype,"_pull_dispatch_type",{get:a.oneOfGetter(r=["pull_dispatch_type"]),set:a.oneOfSetter(r)}),Object.defineProperty(d.prototype,"_open_auth",{get:a.oneOfGetter(r=["open_auth"]),set:a.oneOfSetter(r)}),Object.defineProperty(d.prototype,"_send_anchor_login_after_push_cdn",{get:a.oneOfGetter(r=["send_anchor_login_after_push_cdn"]),set:a.oneOfSetter(r)}),d.encode=function(e,t){return t=t||i.create(),null!=e.push_dispatch_type&&Object.hasOwnProperty.call(e,"push_dispatch_type")&&t.uint32(8).int32(e.push_dispatch_type),null!=e.pull_dispatch_type&&Object.hasOwnProperty.call(e,"pull_dispatch_type")&&t.uint32(16).int32(e.pull_dispatch_type),null!=e.open_auth&&Object.hasOwnProperty.call(e,"open_auth")&&t.uint32(24).int32(e.open_auth),null!=e.send_anchor_login_after_push_cdn&&Object.hasOwnProperty.call(e,"send_anchor_login_after_push_cdn")&&t.uint32(32).int32(e.send_anchor_login_after_push_cdn),t},d.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.ZeusMediaConfig;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.push_dispatch_type=e.int32();break;case 2:r.pull_dispatch_type=e.int32();break;case 3:r.open_auth=e.int32();break;case 4:r.send_anchor_login_after_push_cdn=e.int32();break;default:e.skipType(7&i)}}return r},d),t.MediaConfig=(p.prototype.play_config=null,p.prototype.publish_config=null,p.prototype.dispatch_config=null,p.prototype.service_url_list=null,p.prototype.zeus_config=null,Object.defineProperty(p.prototype,"_play_config",{get:a.oneOfGetter(n=["play_config"]),set:a.oneOfSetter(n)}),Object.defineProperty(p.prototype,"_publish_config",{get:a.oneOfGetter(n=["publish_config"]),set:a.oneOfSetter(n)}),Object.defineProperty(p.prototype,"_dispatch_config",{get:a.oneOfGetter(n=["dispatch_config"]),set:a.oneOfSetter(n)}),Object.defineProperty(p.prototype,"_service_url_list",{get:a.oneOfGetter(n=["service_url_list"]),set:a.oneOfSetter(n)}),Object.defineProperty(p.prototype,"_zeus_config",{get:a.oneOfGetter(n=["zeus_config"]),set:a.oneOfSetter(n)}),p.encode=function(e,t){return t=t||i.create(),null!=e.play_config&&Object.hasOwnProperty.call(e,"play_config")&&s.proto_initconfig.MediaPlayConfig.encode(e.play_config,t.uint32(10).fork()).ldelim(),null!=e.publish_config&&Object.hasOwnProperty.call(e,"publish_config")&&s.proto_initconfig.MediaPublishConfig.encode(e.publish_config,t.uint32(18).fork()).ldelim(),null!=e.dispatch_config&&Object.hasOwnProperty.call(e,"dispatch_config")&&s.proto_initconfig.MediaDispatchConfig.encode(e.dispatch_config,t.uint32(26).fork()).ldelim(),null!=e.service_url_list&&Object.hasOwnProperty.call(e,"service_url_list")&&s.proto_initconfig.MediaServiceUrlList.encode(e.service_url_list,t.uint32(34).fork()).ldelim(),null!=e.zeus_config&&Object.hasOwnProperty.call(e,"zeus_config")&&s.proto_initconfig.ZeusMediaConfig.encode(e.zeus_config,t.uint32(42).fork()).ldelim(),t},p.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.MediaConfig;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.play_config=s.proto_initconfig.MediaPlayConfig.decode(e,e.uint32());break;case 2:r.publish_config=s.proto_initconfig.MediaPublishConfig.decode(e,e.uint32());break;case 3:r.dispatch_config=s.proto_initconfig.MediaDispatchConfig.decode(e,e.uint32());break;case 4:r.service_url_list=s.proto_initconfig.MediaServiceUrlList.decode(e,e.uint32());break;case 5:r.zeus_config=s.proto_initconfig.ZeusMediaConfig.decode(e,e.uint32());break;default:e.skipType(7&i)}}return r},p),t.InitConfig=(l.prototype.app_config=null,l.prototype.room_config=null,l.prototype.ve_config=null,l.prototype.speedlog_config=null,l.prototype.media_config=null,l.prototype.proto_version=null,Object.defineProperty(l.prototype,"_app_config",{get:a.oneOfGetter(r=["app_config"]),set:a.oneOfSetter(r)}),Object.defineProperty(l.prototype,"_room_config",{get:a.oneOfGetter(r=["room_config"]),set:a.oneOfSetter(r)}),Object.defineProperty(l.prototype,"_ve_config",{get:a.oneOfGetter(r=["ve_config"]),set:a.oneOfSetter(r)}),Object.defineProperty(l.prototype,"_speedlog_config",{get:a.oneOfGetter(r=["speedlog_config"]),set:a.oneOfSetter(r)}),Object.defineProperty(l.prototype,"_media_config",{get:a.oneOfGetter(r=["media_config"]),set:a.oneOfSetter(r)}),Object.defineProperty(l.prototype,"_proto_version",{get:a.oneOfGetter(r=["proto_version"]),set:a.oneOfSetter(r)}),l.encode=function(e,t){return t=t||i.create(),null!=e.app_config&&Object.hasOwnProperty.call(e,"app_config")&&s.proto_initconfig.AppConfig.encode(e.app_config,t.uint32(10).fork()).ldelim(),null!=e.room_config&&Object.hasOwnProperty.call(e,"room_config")&&s.proto_initconfig.RoomConfig.encode(e.room_config,t.uint32(18).fork()).ldelim(),null!=e.ve_config&&Object.hasOwnProperty.call(e,"ve_config")&&s.proto_initconfig.VEConfig.encode(e.ve_config,t.uint32(26).fork()).ldelim(),null!=e.speedlog_config&&Object.hasOwnProperty.call(e,"speedlog_config")&&s.proto_initconfig.SpeedlogConfig.encode(e.speedlog_config,t.uint32(34).fork()).ldelim(),null!=e.media_config&&Object.hasOwnProperty.call(e,"media_config")&&s.proto_initconfig.MediaConfig.encode(e.media_config,t.uint32(42).fork()).ldelim(),null!=e.proto_version&&Object.hasOwnProperty.call(e,"proto_version")&&t.uint32(48).int32(e.proto_version),t},l.decode=function(e,t){e instanceof o||(e=o.create(e));for(var n=void 0===t?e.len:e.pos+t,r=new s.proto_initconfig.InitConfig;e.pos<n;){var i=e.uint32();switch(i>>>3){case 1:r.app_config=s.proto_initconfig.AppConfig.decode(e,e.uint32());break;case 2:r.room_config=s.proto_initconfig.RoomConfig.decode(e,e.uint32());break;case 3:r.ve_config=s.proto_initconfig.VEConfig.decode(e,e.uint32());break;case 4:r.speedlog_config=s.proto_initconfig.SpeedlogConfig.decode(e,e.uint32());break;case 5:r.media_config=s.proto_initconfig.MediaConfig.decode(e,e.uint32());break;case 6:r.proto_version=e.int32();break;default:e.skipType(7&i)}}return r},l),t);function l(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function p(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function d(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function h(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function f(e){if(this.dispatch_resource_info=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function g(e){if(this.dispatch_protocol_info=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function m(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function y(e){if(this.resource_order=[],this.resource_info=[],this.play_order_protocol_type=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function _(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function v(e){if(this.resource_info=[],this.push_config=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function O(e){if(this.video_param=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function C(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function b(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function S(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function E(e){if(this.service_info=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function T(e){if(this.cdn_quic_version=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function P(e){if(this.disable_report_pull=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function I(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function D(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function w(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function M(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function R(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function k(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function L(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function G(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function A(e){if(this.groups=[],this.opt_ports=[],this.wss_groups=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function N(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function F(e){if(this.quic_nodes=[],this.mtcp_nodes=[],this.wss_nodes=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function W(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function x(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function V(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function B(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function U(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function j(e){if(this.groups=[],this.opt_ports=[],this.wss_groups=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function z(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function H(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function Y(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function K(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function q(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function X(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function Z(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function J(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function Q(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function $(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function ee(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function te(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function ne(e){if(this.headers=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function re(e){if(this.headers=[],e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function oe(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function ie(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function ae(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}function se(e){if(e)for(let t=Object.keys(e),n=0;n<t.length;++n)null!=e[t[n]]&&(this[t[n]]=e[t[n]])}},function(e,t,n){"use strict";var r,o,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},c=(Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoWssLink=void 0,n(32)),u=n(0),l=n(33),p=n(34),d=n(4),h=n(2);function f(e,t,n,r,i){var a=o.call(this)||this;return a.appID=e,a.env=t,a.protobuf=n,a.logger=r,a.stateCenter=i,a.socketService=new p.NetSocketService(a.env),a.urlIndex=0,a.updatedMsgTime=0,a.unUpdateMsgTimeTypes=[u.AccessHubMessageType.MSG_TYPE_HB_REQUEST,u.AccessHubMessageType.MSG_TYPE_HB_RESPONSE,u.AccessHubMessageType.MSG_TYPE_GET_CONFIG_REQUEST,u.AccessHubMessageType.MSG_TYPE_GET_CONFIG_RESPONSE],a.netLinkState=u.ENUM_CONNECT_STATE.disconnect,a.sendCommandList=new c.LinkedList,a.unSendCommandList=new c.LinkedList,a.sendCommandMap={},a.unSendCommandMap={},a.sendDataCheckOnceCount=100,a.sendDataDropTimeout=1e4,a.sendDataCheckInterval=2e3,a.timeout=5e3,a.connectInterval=1e4,a.connectTimer=null,a.connectRsp={},a.unlogTypes=[12,13],a.tryServers=[],a.updatedMsgTime=Date.now(),a}i(f,o=l.ZegoLink),f.prototype.initEvent=function(e,t,n,r){this.onConnectedEvent=e,this.onDisConnectedEvent=t,this.onConnectingEvent=n,this.onPushEvent=r},f.prototype.createSocket=function(e){this.servers=e,this.urlIndex=0},f.prototype.destroySocket=function(){this.logger.info("zn.wl.ds.0 call"),this.socketService.closeSocket(),this.netLinkState=u.ENUM_CONNECT_STATE.disconnect,this.resetConnect()},f.prototype.refreshServers=function(e){this.servers=s(s([],e,!0),this.servers,!0)},f.prototype.connectSocket=function(e,t,n){var r=this;return void 0===e&&(e=!0),this.logger.info("zn.wl.cs.0 call"),this.connectRsp.suc=t,this.connectRsp.fail=n,this.stateCenter.networkState===u.ENUM_NETWORK_STATE.online&&(e&&(this.urlIndex=(this.urlIndex+1)%this.servers.length),t=this.servers[this.urlIndex],this.connectServer=t,this.logger.info("zn.wl.cs.0 server "+t),this.tryServers.push(t),this.closeSocket(),this.netLinkState=u.ENUM_CONNECT_STATE.connecting,this.socketService.createSocket(t),this.onConnectingEvent&&this.onConnectingEvent(!0),this.bindSocketEvent(),this.connectTimer=setTimeout((function(){r.logger.info("zn.wl.cs.0 timeout"),r.connectRsp.fail&&r.connectRsp.fail()}),this.connectInterval),!0)},f.prototype.bindSocketEvent=function(){var e=this;this.openHandler((function(){e.logger.info("zn.wl.bse open"),e.resetConnect(),e.connectRsp.suc&&e.connectRsp.suc(),e.netLinkState=u.ENUM_CONNECT_STATE.connected,e.onConnectedEvent&&e.onConnectedEvent(e.tryServers),e.checkUnSendMsgs(e.unSendCommandList),e.startCheck()})),this.closeHandler((function(t){e.logger.warn("zn.wl.bse close "+JSON.stringify(t)),e.resetConnect(),e.connectRsp.fail&&e.connectRsp.fail(),e.onDisConnectedEvent&&e.onDisConnectedEvent(!0),e.netLinkState=u.ENUM_CONNECT_STATE.disconnect})),this.errorHandler((function(t){e.logger.warn("zn.wl.bse error "+JSON.stringify(t)),e.resetConnect(),e.connectRsp.fail&&e.connectRsp.fail(),e.onDisConnectedEvent&&e.onDisConnectedEvent(!0),e.netLinkState=u.ENUM_CONNECT_STATE.disconnect})),this.onMessage()},f.prototype.closeSocket=function(){this.logger.info("zn.wl.cs.1 call"),this.socketService.closeSocket(),this.netLinkState=u.ENUM_CONNECT_STATE.disconnect},f.prototype.resetConnect=function(){this.connectTimer&&(clearTimeout(this.connectTimer),this.connectTimer=null),this.stopCheck()},f.prototype.isConnect=function(){return this.netLinkState===u.ENUM_CONNECT_STATE.connected},f.prototype.isDisConnect=function(){return!this.socketService||this.socketService.isDisConnect()},f.prototype.isConnecting=function(){return this.netLinkState===u.ENUM_CONNECT_STATE.connecting},f.prototype.setState=function(e){this.netLinkState=e},f.prototype.closeHandler=function(e){this.socketService.closeHandler(e)},f.prototype.openHandler=function(e){this.socketService.openHandler(e)},f.prototype.errorHandler=function(e){this.socketService.errorHandler(e)},f.prototype.updateMsgTime=function(){this.updatedMsgTime=Date.now()},f.prototype.sendMessage=function(e,t,n,r,o,i,s,c){void 0===r&&(r=!0),void 0===o&&(o=null),void 0===i&&(i=null),void 0===s&&(s=null),void 0===(c=void 0===c?{}:c).timeout&&(c.timeout=5e3),void 0===c.isInSendMap&&(c.isInSendMap=!0),this.txid++,r={appid:this.appID,biz_type:0,mode_no:(null==(r=this.stateCenter.appInfo)?void 0:r.mode)||h.NET_ACCESS_CONFIG.modeNo,id_name:this.stateCenter.userId,sdk_type:h.NET_ACCESS_CONFIG.sdkType,zegoconn_run_env:0===this.env?u.ZegoconnRunEnv.ZEGOCONN_RUN_ENV_BROWSER:u.ZegoconnRunEnv.ZEGOCONN_RUN_ENV_APPLET},n={data:r=a(a({txid:this.txid},r),n),txid:this.txid,sendTime:Date.now(),streamID:t,type:e,timeOut:c.timeout||this.timeout,ack:n.ack,success:o,error:i,ackFunc:s,isSend:!0,isCheck:e!==u.AccessHubMessageType.MSG_TYPE_PC_UPWARD_MESSAGE},c.isInSendMap&&(o=this.sendCommandList.push(n),this.sendCommandMap[this.txid]=o),this.unUpdateMsgTimeTypes.includes(e)||(this.updatedMsgTime=Date.now()),-1===this.unlogTypes.indexOf(e)&&this.logger.info("zn.wl.sm type: "+e+"-"+u.typeMap[e]+" streamID: "+t+" txid: "+this.txid),this.isConnect()?this.sendUint8Data(e,r,t):(n.isSend=!1,i=this.unSendCommandList.push(n),this.unSendCommandMap[this.txid]=i)},f.prototype.checkUnSendMsgs=function(e){for(var t,n=e.getFirst();null!=n;)e.remove(n),n._data&&!1===(null==(t=n._data)?void 0:t.isSend)&&n._data.type&&n._data.streamID&&n._data.data&&(this.sendUint8Data(n._data.type,n._data.data,n._data.streamID),n._data.isSend=!0),n=e.getFirst()},f.prototype.sendUint8Data=function(e,t,n){e=this.protobuf.encodeRequest(e,t,n),this.socketService.sendMessage(e)},f.prototype.onMessage=function(){var e=this;this.socketService.onMessage=function(t){t=new Uint8Array(t);var n,r=(t=e.protobuf.decodeResponse(t))[0],o=t[1];t=t[2],e.unUpdateMsgTimeTypes.includes(o)||(e.updatedMsgTime=Date.now()),-1===e.unlogTypes.indexOf(o)&&e.logger.info("zn.wl.om"+" streamID: ".concat(r,", msgType: ").concat(o,"-").concat(u.typeMap[o])),(null!=t&&t.txid||null!=(n=null==t?void 0:t.data)&&n.txid)&&e.isRspMsg((null==t?void 0:t.txid)||(null==(n=null==t?void 0:t.data)?void 0:n.txid))?e.handleSendCommandMsgRsp(r,o,(null==t?void 0:t.txid)||(null==(n=null==t?void 0:t.data)?void 0:n.txid),t):e.onPushEvent(r,o,t)}},f.prototype.isRspMsg=function(e){return void 0!==this.sendCommandMap[e]},f.prototype.startCheck=function(){var e=this;this.checkMessageListTimeout(this.sendCommandList,this.sendCommandMap),this.sendDataCheckTimer=setTimeout((function(){e.startCheck()}),this.sendDataCheckInterval)},f.prototype.stopCheck=function(){this.checkSendMessageList(this.sendCommandList),clearTimeout(this.sendDataCheckTimer)},f.prototype.checkMessageListTimeout=function(e,t){for(var n,r=e.getFirst(),o=Date.now(),i=0,a=this;null!=r&&"break"!==function(){var s,c,u;return r._data&&r._data.sendTime+r._data.timeOut>o||(r._data&&delete t[r._data.data.txid],e.remove(r),r._data&&null==r._data.error||r._data&&r._data.sendTime+a.sendDataDropTimeout<o||(s=r&&r._data&&r._data.error,c=r&&r._data&&r._data.txid,u=r&&r._data&&(null==(n=r._data)?void 0:n.isCheck),setTimeout((function(){u&&s&&s({},c,d.errorCodeList.TIMEOUT)}),0)),++i>=a.sendDataCheckOnceCount)?"break":void(r=e.getFirst())}(););},f.prototype.checkSendMessageList=function(e){for(var t,n=e.getFirst();null!=n&&n._data;)!function(){var r,o,i;e.remove(n),n._data.isSend&&n._data.error&&(r=n&&n._data&&n._data.error,o=n&&n._data&&n._data.txid,i=n&&n._data&&(null==(t=n._data)?void 0:t.isCheck),setTimeout((function(){i&&r&&r({},o,d.errorCodeList.TIMEOUT)}),0)),n=e.getFirst()}()},f.prototype.handleSendCommandMsgRsp=function(e,t,n,r){var o,i=this.sendCommandMap[n];null!=i&&(null!=(o=i._data)&&o.ack||(delete this.sendCommandMap[n],this.sendCommandList.remove(i)),r.code&&0!==r.code?o&&null!=o.error&&o.error(r,n):t===u.AccessHubMessageType.MSG_TYPE_PUSH_EXCEPTION?(r.code=r.reason,r.message=r.msg,o&&null!=o.error&&o.error(r,n)):t===u.AccessHubMessageType.MSG_TYPE_HTTP_REQUEST_ACK?o&&null!=o.ackFunc&&o.ackFunc(r,n):o&&null!=o.success&&o.success(r,n))},n=f,t.ZegoWssLink=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedList=t.ListNode=void 0,Object.defineProperty(o.prototype,"id",{get:function(){return this._id||null},set:function(e){this._id=e},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!1,configurable:!0}),o.prototype.hasNext=function(){return this.next&&this.next.id},o.prototype.hasPrev=function(){return this.prev&&this.prev.id};var r=o;function o(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.next=null,this.prev=null,this._id=e,this._data=t}function i(){this.start=new r,this.end=new r,this._idCounter=0,this._numNodes=0,this.start.next=this.end,this.start.prev=null,this.end.prev=this.start,this.end.next=null}t.ListNode=r,i.prototype.insertBefore=function(e,t){return(t=new r(this._idCounter,t)).next=e,t.prev=e.prev,e.prev&&(e.prev.next=t),e.prev=t,++this._idCounter,++this._numNodes,t},i.prototype.addLast=function(e){return this.insertBefore(this.end,e)},i.prototype.add=function(e){return this.addLast(e)},i.prototype.getFirst=function(){return 0===this._numNodes?null:this.start.next},i.prototype.getLast=function(){return 0===this._numNodes?null:this.end.prev},i.prototype.size=function(){return this._numNodes},i.prototype.getFromFirst=function(e){var t=0,n=this.start.next;if(0<=e)for(;t<e&&null!==n;)n=n.next,++t;else n=null;if(null===n)throw"Index out of bounds.";return n},i.prototype.get=function(e){return 0===e?this.getFirst():e===this._numNodes-1?this.getLast():this.getFromFirst(e)},i.prototype.remove=function(e){return e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),--this._numNodes,e},i.prototype.removeFirst=function(){var e=null;return 0<this._numNodes&&this.start.next?this.remove(this.start.next):e},i.prototype.removeLast=function(){var e=null;return 0<this._numNodes&&this.end.prev?this.remove(this.end.prev):e},i.prototype.removeAll=function(){this.start.next=this.end,this.end.prev=this.start,this._numNodes=0,this._idCounter=0},i.prototype.each=function(e){for(var t=this.start;t.hasNext();)e(t=t.next)},i.prototype.find=function(e){for(var t=this.start,n=!1,r=null;t.hasNext()&&!n;)e(t=t.next)&&(r=t,n=!0);return r},i.prototype.map=function(e){for(var t=this.start,n=[];t.hasNext();)e(t=t.next)&&n.push(t);return n},i.prototype.push=function(e){return this.addLast(e)},i.prototype.unshift=function(e){0<this._numNodes?this.insertBefore(this.start.next,e):this.insertBefore(this.end,e)},i.prototype.pop=function(){return this.removeLast()},i.prototype.shift=function(){return this.removeFirst()},t.LinkedList=i},function(e,t,n){"use strict";function r(){this.txid=0,this.linkRetryTime=60,this.updatedMsgTime=0,this.connectServer=""}Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoLink=void 0,r.prototype.createSocket=function(e){},r.prototype.setState=function(e){},r.prototype.initEvent=function(e,t,n,r){},r.prototype.sendMessage=function(e,t,n,r,o,i,a,s){void 0===r&&(r=!0),void 0===o&&(o=null),void 0===i&&(i=null),void 0===a&&(a=null)},t.ZegoLink=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetSocketService=void 0;var r=n(35);function o(e){this.socket=null,this.ENV=e}o.prototype.createSocket=function(e){this.socket=(0,r.createZegoWebSocket)(e,this.ENV%2)},o.prototype.openHandler=function(e){var t=this;this.socket&&(this.socket.onopen=function(n){t.socket.binaryType="arraybuffer",t.responseHandler(),e(n)})},o.prototype.responseHandler=function(){var e=this;this.socket&&(this.socket.onmessage=function(t){t="string"==typeof t.data?JSON.parse(t.data):t.data,e.onMessage(t)})},o.prototype.onMessage=function(e){},o.prototype.closeHandler=function(e){this.socket&&(this.socket.onclose=function(t){e(t)})},o.prototype.errorHandler=function(e){this.socket&&(this.socket.onerror=e)},o.prototype.closeSocket=function(){this.socket&&(this.socket.onclose=null,this.socket.onerror=null,this.socket.close(),this.socket=null)},o.prototype.isDisConnect=function(){return!this.socket||1!==this.socket.readyState},o.prototype.sendMessage=function(e){this.isDisConnect()||this.socket&&this.ENV%2!=1&&this.socket.send(e)},t.NetSocketService=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createZegoWebSocket=t.ZegoWeiXinMiniWebSocket=t.ZEGO_ENV=void 0,(o=r=t.ZEGO_ENV||(t.ZEGO_ENV={}))[o.BROWSER=0]="BROWSER",o[o.WEIXINMINI=1]="WEIXINMINI",a.prototype.init=function(){var e=this;this._websocket&&(this.readyState=0,this._websocket.onOpen((function(t){e.readyState=e._websocket.readyState,"function"==typeof e.onopen&&(e.onopen(t),e._websocket.onClose((function(t){e.readyState=e._websocket.readyState,"function"==typeof e.onclose&&e.onclose(t)})),e._websocket.onMessage((function(t){"function"==typeof e.onmessage&&e.onmessage(t)})))})),this._websocket.onError((function(t){e.readyState=e._websocket.readyState,"function"==typeof e.onerror&&e.onerror(t)})))},a.prototype.onopen=function(e){},a.prototype.onerror=function(e){},a.prototype.onclose=function(e){},a.prototype.onmessage=function(e){},a.prototype.send=function(e){this._websocket&&this._websocket.send({data:e})},a.prototype.close=function(){this._websocket&&this._websocket.close()};var r,o,i=a;function a(e,t){this.url=e,this.readyState=3,this._websocket=wx.connectSocket({url:e}),this.init()}t.ZegoWeiXinMiniWebSocket=i,t.createZegoWebSocket=function(e,t){return new(t%2===r.BROWSER?WebSocket:i)(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetAgentBusinessRequestMgr=void 0;var r=n(0),o=n(2);function i(e,t,n,r){this.streamManager=e,this.protobuf=t,this.logger=n,this.stateCenter=r}i.prototype.getConfig=function(e,t){this.logger.info("zn.nab.gc call"),this.streamManager.createStream(r.StreamType.OTHER).sendMessage(r.AccessHubMessageType.MSG_TYPE_GET_CONFIG_REQUEST,{zegoconn_version:o.NET_ACCESS_CONFIG.connectVer},e,t)},i.prototype.dispatchURL=function(e,t){var n=this;this.logger.info("zn.nab.du call"),this.streamManager.createStream(r.StreamType.OTHER).sendMessage(r.AccessHubMessageType.MSG_TYPE_ACCESSHUB_DISPATCH_REQUEST,{},(function(t){n.logger.info("zn.nab.du suc "),e&&e(t)}),(function(e,r,o){n.logger.info("zn.nab.du fail"),t&&t(o||e)}))},i.prototype.getAppConfig=function(e,t,n,i){var a=this;return new Promise((function(s,c){function u(e,t,n){n?(a.logger.error("zn.nab.gac fail "+JSON.stringify(n)),c(n)):0===e.code?(a.logger.info("zn.nab.gac suc"),n=a.decodeConfigMessage(e.data.data),s({code:0,data:n})):(a.logger.error("zn.nab.gac fail "+e.code),c({code:e.code}))}a.logger.info("zn.nab.gac call");var l={id_name:t,config_key:e,token:n,mode_no:(null==(l=a.stateCenter.appInfo)?void 0:l.mode)||o.NET_ACCESS_CONFIG.modeNo};a.streamManager.createStream(r.StreamType.OTHER).sendMessage(r.AccessHubMessageType.MSG_TYPE_GET_APPCONFIG_REQUEST,l,u,u,null,{timeout:i})}))},i.prototype.decodeConfigMessage=function(e){return this.protobuf.decodeConfigMessage(e)},t.NetAgentBusinessRequestMgr=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetHeartBeatHandler=void 0;var r=n(4),o=n(0);function i(e,t){this.streamManager=e,this.logger=t,this.hbTimer=null,this.hbInterval=5,this.hbTimeout=10,this.hbTimeoutMaxCount=0,this.tryHbCount=0}i.prototype.init=function(e){var t=this;this.logger.info("zn.nhb.ii call"),this.hbStream||(this.hbStream=this.streamManager.createStream(o.StreamType.OTHER)),1<=e.data.logic_hb_interval&&e.data.logic_hb_interval<=10&&(this.hbInterval=e.data.logic_hb_interval),3<=e.data.logic_hb_timeout&&e.data.logic_hb_timeout<=30&&(this.hbTimeout=e.data.logic_hb_timeout),this.hbTimeoutMaxCount=this.hbTimeout/this.hbInterval,this.hbTimer&&clearTimeout(this.hbTimer),this.hbTimer=setTimeout((function(){t.start()}),1e3*this.hbInterval)},i.prototype.start=function(){var e,t,n,i=this;this.logger.debug("zn.nhb.s call "),this.tryHbCount++>this.hbTimeoutMaxCount?(this.logger.error("zn.nhb.s come to try limit"),this.reset(),this.netHbLogout(r.errorCodeList.NET_HB_TIMEOUT)):(e=(new Date).getTime(),t=function(t,n,r){i.logger.debug("zn.nhb.s hb callback "+((new Date).getTime()-e)),r&&0!==(null==r?void 0:r.code)?i.logger.info("zn.nhb.s fail "+JSON.stringify(r)):i.tryHbCount=0},n={ts:Date.now()},this.hbStream.sendMessage(o.AccessHubMessageType.MSG_TYPE_HB_REQUEST,n,t,t,null),this.hbTimer&&clearTimeout(this.hbTimer),this.hbTimer=setTimeout((function(){i.start()}),1e3*this.hbInterval))},i.prototype.netHbLogout=function(e){},i.prototype.reset=function(){this.hbTimer&&(clearTimeout(this.hbTimer),this.hbTimer=null),this.tryHbCount=0},t.NetHeartBeatHandler=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetAgentPCRequestMgr=void 0;var r=n(0),o=n(2),i=n(8);function a(e,t){this.streamManager=e,this.logger=t,this.pcStreamRequests=[],this.pcEstablishTimeout=o.NET_ACCESS_CONFIG.pcEstablishTimeout}a.prototype.getRequest=function(e,t){return e=new i.NetAgentPCRequest(this.logger,e,this.streamManager,this.pcEstablishTimeout,t),this.pcStreamRequests.push(e),e},a.prototype.updateConnectState=function(e,t,n){this.pcStreamRequests.forEach((function(o){e===r.PcConnectState.BROKEN?o.eventManager.emit("broken"):e===r.PcConnectState.DISCONNECT&&o.eventManager.emit("disconnected",t,n)}))},a.prototype.closePCs=function(){this.pcStreamRequests.forEach((function(e){e.closePc()}))},a.prototype.setEstablishTimeout=function(e){this.pcEstablishTimeout=e},t.NetAgentPCRequestMgr=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetRetryLinkHandler=void 0;var r=n(4),o=n(0);function i(e,t){this.logger=e,this.stateCenter=t,this.RETRY_START_TIME_INTERVAL=4,this.RETRY_CONTINUE_COUNT=2,this.RETRY_MAX_TIME_INTERVAL=32,this.retryTimer=null,this.maxTimer=null,this.retryStartTime=0,this.retryActiveCount=1,this.isOverTime=!1,this.RETRY_MAX_TIME=90}i.prototype.initLink=function(e){this.link=e},i.prototype.startMaxTime=function(){var e=this;this.maxTimer||(this.maxTimer=setTimeout((function(){e.logger.warn("zn.rlh.sm"+" over max time ".concat(e.RETRY_MAX_TIME,"s, stop retry")),e.isOverTime=!0,e.link.destroySocket(),e.stopMaxTime(),e.invalid(),e.onactive(!1,r.errorCodeList.NET_SOCKET_TIMEOUT)}),1e3*this.RETRY_MAX_TIME))},i.prototype.stopMaxTime=function(){this.maxTimer&&clearTimeout(this.maxTimer),this.maxTimer=null},i.prototype.active=function(e,t){var n,r=this;return this.logger.info("zn.rlh.at call "+e+" "+t),this.stateCenter.networkState==o.ENUM_NETWORK_STATE.offline?(this.logger.info("zn.rlh.at network is broken, stop retry"),!1):this.retryTimer?(this.logger.info("zn.rlh.at has actived, ignore"),!1):this.isOverTime?(this.logger.info("zn.rlh.at retry over time, stop retry"),!1):(1==this.retryActiveCount?this.retryActiveInterval=Math.floor(Math.random()*(1-this.RETRY_START_TIME_INTERVAL)+this.RETRY_START_TIME_INTERVAL):(n=Math.pow(2,Math.round(this.retryActiveCount/this.RETRY_CONTINUE_COUNT+1)),this.retryActiveInterval=n>this.RETRY_MAX_TIME_INTERVAL?this.RETRY_MAX_TIME_INTERVAL:n),this.logger.info("zn.rlh.at interval "+this.retryActiveInterval),this.retryTimer=setTimeout((function(){r.link.destroySocket(),r.link.connectSocket(e,(function(){r.logger.info("zn.rlh.at suc"),r.stopMaxTime(),r.invalid(),r.onactive(!0)}),(function(){r.logger.info("zn.rlh.at fail"),r.maxTimer||r.startMaxTime(),r.active(!0)})),r.retryTimer&&clearTimeout(r.retryTimer),r.retryTimer=null,r.retryActiveCount++}),t?0:1e3*this.retryActiveInterval),!0)},i.prototype.onactive=function(){for(var e=0;e<arguments.length;e++);},i.prototype.init=function(e,t,n,r){this.invalid(),this.stopMaxTime(),this.isOverTime=!1,"number"==typeof e&&e<3600&&(this.RETRY_MAX_TIME=e),"number"==typeof t&&(this.RETRY_START_TIME_INTERVAL=t),"number"==typeof n&&(this.RETRY_CONTINUE_COUNT=n),"number"==typeof r&&(this.RETRY_MAX_TIME_INTERVAL=r)},i.prototype.invalid=function(){this.retryTimer&&clearTimeout(this.retryTimer),this.retryTimer=null,this.retryStartTime=0,this.retryActiveCount=1},t.NetRetryLinkHandler=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StateCenter=void 0;var r=n(0);t.StateCenter=function(){this.networkState=r.ENUM_NETWORK_STATE.offline,this.useNetAgent=!0}},function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoLogger=void 0,r.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.join(" ")},r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.join(" ")},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.join(" ")},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.join(" ")},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.join(" ")},t.ZegoLogger=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StreamManager=void 0;var r=n(0),o=n(43);function i(e){this.zegoLink=e,this.streamID=1,this.httpStreams=[],this.pcStreams=[]}i.prototype.createStream=function(e){var t;return e!==r.StreamType.HTTP&&e===r.StreamType.PC?(t=new o.ZegoLinkStream(e,this.streamID++,this.zegoLink),this.pcStreams.push(t),t):this.getStream(e,this.httpStreams)},i.prototype.getStream=function(e,t){return(t=t.find((function(e){return!0===e.isFree})))?(t.isFree=!1,t.isFirst=!1):(t=new o.ZegoLinkStream(e,this.streamID++,this.zegoLink),this.httpStreams.push(t)),t},i.prototype.onPushEvent=function(e,t,n){var r=this.pcStreams.find((function(t){return t.StreamID===e}));r&&r.onPushEvent(t,n)},i.prototype.getStreamID=function(){return this.streamID++},t.StreamManager=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoLinkStream=void 0;var r=n(0);function o(e,t,n){this.type=e,this.streamID=t,this.zegoLink=n,this.isFree=!1,this.isFirst=!0}Object.defineProperty(o.prototype,"StreamID",{get:function(){return this.streamID},enumerable:!1,configurable:!0}),o.prototype.refresh=function(e){this.streamID=e},o.prototype.sendMessage=function(e,t,n,o,i,a){var s=this;void 0===n&&(n=null),void 0===o&&(o=null),this.zegoLink.sendMessage(e,this.streamID,t,this.isFirst,(function(e){s.type!==r.StreamType.PC&&(s.isFree=!0),n&&n(e)}),(function(e,t,n){s.type!==r.StreamType.PC&&(s.isFree=!0),o&&o(e,t,n)}),i=void 0===i?null:i,a=void 0===a?{timeout:5e3,isInSendMap:!0}:a)},o.prototype.onPushEvent=function(e,t){},o.prototype.closeStream=function(e,t){this.zegoLink.sendMessage(r.AccessHubMessageType.MSG_TYPE_STREAM_CLOSED,this.streamID,{code:e,msg:t})},o.prototype.isConnect=function(){return this.zegoLink.isConnect()},t.ZegoLinkStream=o}])},module.exports=e()},function(e,t,n){"use strict";var r=n(7);n.d(t,"a",(function(){return r.a})),n(10),n(11)},function(e,t,n){"use strict";n(7)},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";var r,o;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),(n=r=r||{})[n.Player=0]="Player",n[n.Audience=1]="Audience",(t=o=o||{})[t.ZegoGamePlayerStartPlay=0]="ZegoGamePlayerStartPlay",t[t.ZegoGamePlayerStopPlay=1]="ZegoGamePlayerStopPlay"},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),(n=r=r||{}).af="af",n.am="am",n.ar="ar",n.as="as",n.az="az",n.ba="ba",n.be="be",n.bem="bem",n.bg="bg",n.bi="bi",n.bn="bn",n.bo="bo",n.bs="bs",n.ca="ca",n.ceb="ceb",n.co="co",n.crs="crs",n.cs="cs",n.cy="cy",n.da="da",n.de="de",n.ee="ee",n.dv="dv",n.el="el",n.en="en",n.eo="eo",n.es="es",n.et="et",n.eu="eu",n.fa="fa",n.fi="fi",n.fil="fil",n.fj="fj",n.fo="fo",n.fr="fr",n.fy="fy",n.ga="ga",n.gd="gd",n.gl="gl",n.gu="gu",n.ha="ha",n.haw="haw",n.he="he",n.hi="hi",n.hr="hr",n.hsb="hsb",n.ht="ht",n.hu="hu",n.hy="hy",n.id="id",n.ig="ig",n.ikt="ikt",n.is="is",n.it="it",n.iu="iu",n.ja="ja",n.jv="jv",n.ka="ka",n.kek="kek",n.kg="kg",n.kk="kk",n.km="km",n.kmr="kmr",n.kn="kn",n.ko="ko",n.ku="ku",n.ky="ky",n.la="la",n.lb="lb",n.lg="lg",n.ln="ln",n.lo="lo",n.lt="lt",n.lv="lv",n.mg="mg",n.mhr="mhr",n.mi="mi",n.mk="mk",n.ml="ml",n.mn="mn",n.mr="mr",n.mrj="mrj",n.ms="ms",n.mt="mt",n.my="my",n.nb="nb",n.ne="ne",n.nl="nl",n.no="no",n.ny="ny",n.om="om",n.or="or",n.os="os",n.otq="otq",n.pa="pa",n.pap="pap",n.pl="pl",n.prs="prs",n.ps="ps",n.pt="pt",n.rn="rn",n.ro="ro",n.ru="ru",n.rw="rw",n.sd="sd",n.sg="sg",n.si="si",n.sk="sk",n.sl="sl",n.sm="sm",n.sn="sn",n.so="so",n.sq="sq",n.sr="sr",n.st="st",n.su="su",n.sv="sv",n.sw="sw",n.ta="ta",n.te="te",n.tg="tg",n.tn="tn",n.th="th",n.ti="ti",n.tig="tig",n.tk="tk",n.tlh="tlh",n.to="to",n.tpi="tpi",n.tr="tr",n.ts="ts",n.tt="tt",n.tw="tw",n.ty="ty",n.udm="udm",n.uk="uk",n.ur="ur",n.uz="uz",n.vi="vi",n.war="war",n.xh="xh",n.yi="yi",n.yo="yo",n.yua="yua",n.yue="yue",n.zh_CN="zh_CN",n.zh_TW="zh_TW",n.zu="zu"},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),(n=r=r||{})[n.Success=0]="Success",n[n.ErrorNetwork=7000001]="ErrorNetwork",n[n.ErrorInvalidUserInfo=7000002]="ErrorInvalidUserInfo",n[n.ErrorInvalidParams=7000003]="ErrorInvalidParams",n[n.ErrorInvalidToken=7000004]="ErrorInvalidToken",n[n.ErrorInvalidRoomId=7000005]="ErrorInvalidRoomId",n[n.ErrorInvalidGameId=7000006]="ErrorInvalidGameId",n[n.ErrorTimeout=7000007]="ErrorTimeout",n[n.ErrorAlreadyInit=7000008]="ErrorAlreadyInit",n[n.ErrorNotInit=7000009]="ErrorNotInit",n[n.ErrorNotSetGameContainer=7000010]="ErrorNotSetGameContainer",n[n.ErrorGameInfoIsNull=7000011]="ErrorGameInfoIsNull",n[n.ErrorGameIsNotRunning=7000012]="ErrorGameIsNotRunning",n[n.ErrorGameNotSupportThisMode=7000013]="ErrorGameNotSupportThisMode",n[n.SystemModuleJSONParseError=71e5]="SystemModuleJSONParseError",n[n.SystemModuleSeqNotFounded=7100001]="SystemModuleSeqNotFounded",n[n.SystemModuleCurrentGameIsNotFounded=7100002]="SystemModuleCurrentGameIsNotFounded",n[n.ErrorIframeIsNotFound=7100003]="ErrorIframeIsNotFound",n[n.ErrorUndefinedCode=7999999]="ErrorUndefinedCode",n[n.ErrorToken04Invalid=7200401]="ErrorToken04Invalid"},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),(n=r=r||{}).TokenWillExpire="tokenWillExpire",n.Unloaded="unloaded",n.ChargeRequire="chargeRequire",n.PlayerStateUpdate="playerStateUpdate",n.GameStateUpdate="gameStateUpdate",n.GameLoadStateUpdate="gameLoadStateUpdate",n.ActionEventUpdate="actionEventUpdate",n.GameResult="gameResult",n.GameError="gameError",n.GameSoundPlay="gameSoundPlay",n.GameSoundVolumeChange="gameSoundVolumeChange",n.RobotConfigRequire="robotConfigRequire",n.MicStateChange="micStateChange",n.SpeakerStateChange="speakerStateChange",n.ActionRequest="actionRequest",n.CloudGameFirstFrame="cloudGameFirstFrame",n.CloudGameError="cloudGameError"},function(e,t,n){"use strict";var r,o,i,a,s;n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s})),(n=r=r||{})[n.GameModeAll=0]="GameModeAll",n[n.GameModeHostsGame=1]="GameModeHostsGame",n[n.GameModeShowGame=2]="GameModeShowGame",n[n.GameModeMallGame=3]="GameModeMallGame",n[n.GameModeCloudGame=4]="GameModeCloudGame",n[n.GameModeMatchInGame=5]="GameModeMatchInGame",(t=o=o||{})[t.OrientationBoth=0]="OrientationBoth",t[t.OrientationPortrait=1]="OrientationPortrait",t[t.OrientationLandscape=2]="OrientationLandscape",(n=i=i||{}).BGMState="000100",n.BGMRange="000101",n.SoundEffectsState="000200",n.SoundEffectsRange="000201",n.VibrateState="000300",(t=a=a||{}).Close="0",t.Open="1",(n=s=s||{})[n.Loading=1]="Loading",n[n.Loaded=2]="Loaded"},function(e,t,n){},function(e,t,n){"use strict";var r,o,i,a,s;n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s})),(n=r=r||{}).Init="zego_game_common_init",n.GameLoaded="zego_game_common_loaded",n.ActionEvents="zego_game_common_button_events",n.GameLoading="zego_game_common_loading",n.GameOverDetail="zego_game_common_game_over_detail",n.UserMicChange="zego_game_user_mic_change",n.UserSpeakerChange="zego_game_user_speaker_change",(t=o=o||{}).Destroy="zego_game_destroy",t.GameOrientation="zego_game_common_game_orientation",t.Language="zego_game_language",t.PlayGameSound="zego_game_common_play_game_sound",t.ChangeGameSoundVolume="zego_game_common_change_game_sound_volume",t.GameRecharge="zego_game_recharge",t.GameIntroduction="zego_engine_game_introduction",t.GetConfig="zego_game_common_get_config",t.PlayerPlaying="zego_game_common_player_playing",t.GameState="zego_game_common_game_state",t.GameUploadError="zego_game_common_upload_error",t.GetRobotSetting="zego_engine_robot_setting",t.ActionRequest="zego_game_common_action_request",(n=i=i||{}).WalletUpdate="zego_engine_common_money_update",n.SetGameSetting="zego_engine_set_game_setting",n.UpdateCode="zego_engine_common_update_code",n.BeforeDestroy="zego_engine_before_destroy",(t=a=a||{}).GetGameSetting="zego_engine_get_game_setting",t.GetCustomComponents="zego_engine_get_custom_webviews",t.RunCustomComponent="zego_engine_run_custom_webview",t.GetCustomFunctions="zego_engine_get_custom_functions",t.RunCustomFunction="zego_engine_run_custom_function",(n=s=s||{}).CloudGameFirstFrame="zego_cloud_game_first_frame",n.CloudGameError="zego_cloud_game_err"},function(e,t,n){"use strict";function r(e){return e instanceof Array?e.forEach((function(e,t){r(e)})):e instanceof Object&&Object.keys(e).forEach((function(t){var n=t.replace(/_(\w)/g,(function(e,t){return t.toUpperCase()}));n!==t&&(e[n]=e[t],delete e[t]),r(e[n])})),e}function o(e,t){return e instanceof Array?e.forEach((function(e,t){o(e)})):e instanceof Object&&Object.keys(e).forEach((function(n){var r=n.replace(/([A-Z])/g,"_$1").toLowerCase();if(r!==n&&(e[r]=e[n],delete e[n]),null!=t&&t.filter((function(e){return e===r})).length)return!1;o(e[r])})),e}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}))},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=function(e){var t=(new Date).getTime();return"4xxx-yxxx-".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?n:3&n|8).toString(36)}))+e},o=function(e){return!!(e=document.querySelector(e))&&"iframe"===(null==(e=e.tagName)?void 0:e.toLowerCase())},i=function(e){return!!(e=document.querySelector(e))&&"div"===(null==(e=e.tagName)?void 0:e.toLowerCase())}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));t=n(0);var r=function(e,t){return{errorCode:e,message:t=t||o[e]}},o=((n={})[t.d.Success]="Success.",n[t.d.ErrorNetwork]="Network exception.",n[t.d.ErrorInvalidUserInfo]="Invalid user information.",n[t.d.ErrorInvalidParams]="Invalid parameter.",n[t.d.ErrorInvalidToken]="Invalid token.",n[t.d.ErrorInvalidRoomId]="Invalid roomId.",n[t.d.ErrorInvalidGameId]="Invalid GameId.",n[t.d.ErrorTimeout]="Timeout.",n[t.d.ErrorAlreadyInit]="The SDK has been initialized.",n[t.d.ErrorNotSetGameContainer]="The SDK has not setted container of The game.",n[t.d.ErrorGameInfoIsNull]="The information of game is null.",n[t.d.ErrorGameIsNotRunning]="The game is not running.",n[t.d.ErrorGameNotSupportThisMode]="The mode of game is not supported.",n[t.d.SystemModuleJSONParseError]="Json format error.",n[t.d.SystemModuleSeqNotFounded]="seq not founded.",n[t.d.SystemModuleCurrentGameIsNotFounded]="The Game is not founded.",n[t.d.ErrorIframeIsNotFound]="Cannot find dom node or dom node is not iframe.",n[t.d.ErrorUndefinedCode]="The Error has not been defined.",n)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),o.prototype.testUa=function(e){return e.test(this.ua)},o.prototype.testVs=function(e){return null==(e=this.ua.match(e))?void 0:e.toString().replace(/[^0-9|_.]/g,"").replace(/_/g,".")},o.prototype.getSystem=function(){return this.testUa(/windows|win32|win64|wow32|wow64/g)?this.system="windows":this.testUa(/macintosh|macintel/g)?this.system="macOS":this.testUa(/x11/g)?this.system="linux":this.testUa(/android|adr/g)?this.system="android":this.testUa(/ios|iphone|ipad|ipod|iwatch/g)&&(this.system="iOS"),this.system},o.prototype.getSystemVersion=function(){return"windows"===this.system?this.testUa(/windows nt 5.0|windows 2000/g)?this.systemVs="2000":this.testUa(/windows nt 5.1|windows xp/g)?this.systemVs="xp":this.testUa(/windows nt 5.2|windows 2003/g)?this.systemVs="2003":this.testUa(/windows nt 6.0|windows vista/g)?this.systemVs="vista":this.testUa(/windows nt 6.1|windows 7/g)?this.systemVs="7":this.testUa(/windows nt 6.2|windows 8/g)?this.systemVs="8":this.testUa(/windows nt 6.3|windows 8.1/g)?this.systemVs="8.1":this.testUa(/windows nt 10.0|windows 10/g)&&(this.systemVs="10"):"macOS"===this.system?this.systemVs=this.testVs(/os x [\d._]+/g):"android"===this.system?this.systemVs=this.testVs(/android [\d._]+/g):"iOS"===this.system&&(this.systemVs=this.testVs(/os [\d._]+/g)),this.systemVs},o.prototype.getBrowser=function(){return this.testUa(/applewebkit/g)?this.testUa(/edg/g)?this.browser="edge":this.testUa(/opr/g)?this.browser="opera":this.testUa(/chrome/g)?this.browser="chrome":this.testUa(/safari/g)&&(this.browser="safari"):this.testUa(/gecko/g)&&this.testUa(/firefox/g)?this.browser="firefox":this.testUa(/presto/g)?this.browser="opera":this.testUa(/trident|compatible|msie/g)&&(this.browser="ie"),this.browser},o.prototype.getBrowserVersion=function(){return"chrome"===this.browser?this.browserVs=this.testVs(/chrome\/[\d._]+/g):"safari"===this.browser?this.browserVs=this.testVs(/version\/[\d._]+/g):"firefox"===this.browser?this.browserVs=this.testVs(/firefox\/[\d._]+/g):"opera"===this.browser?this.browserVs=this.testVs(/opr\/[\d._]+/g):"iexplore"===this.browser?this.browserVs=this.testVs(/(msie [\d._]+)|(rv:[\d._]+)/g):"edge"===this.browser&&(this.browserVs=this.testVs(/edg\/[\d._]+/g)),this.browserVs},o.prototype.getInfo=function(){return{ua:this.ua,system:"".concat(this.getSystem()||""," ").concat(this.getSystemVersion()||""),browser:"".concat(this.getBrowser()||""," ").concat(this.getBrowserVersion()||"")}};var r=o;function o(){this.ua=navigator.userAgent.toLowerCase(),this.system="",this.systemVs="",this.browser="",this.browserVs=""}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(27),o=(i.getUint64=function(e,t,n){var r=n.getUint32(e,t);n=n.getUint32(e+4,t),e=t?r+Math.pow(2,32)*n:Math.pow(2,32)*r+n;return Number.isSafeInteger(e),e},i.decodeTokenExpire=function(e){try{var t,n=Uint8Array.from(r.a.base64decode(e),(function(e){return e.charCodeAt(0)})),o=new DataView(n.buffer);return 0<(t="function"==typeof o.getBigInt64?o.getBigUint64(0):i.getUint64(0,!1,o))?Number(t):Number(o.getBigUint64(0,!0))}catch(e){}return-1},i);function i(){}},function(e,t,n){function r(e){var t;return(i[e]||(t=i[e]={i:e,l:!1,exports:{}},o[e].call(t.exports,t,t.exports,r),t.l=!0,t)).exports}var o,i;e.exports=(i={},r.m=o=[function(e,t,n){(function(t){e.exports=function(e){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),!(r=!(r=!(r="undefined"!=typeof globalThis&&globalThis.crypto?globalThis.crypto:r)&&"undefined"!=typeof window&&window.msCrypto?window.msCrypto:r)&&void 0!==t&&t.crypto?t.crypto:r))try{r=n(44)}catch(a){}var o=Object.create||function(e){return i.prototype=e,e=new i,i.prototype=null,e};function i(){}var a={},s=a.lib={},c=s.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=s.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||p).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var a=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=a<<24-(r+i)%4*8}else for(var s=0;s<o;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}());return new u.init(t,e)}}),l=a.enc={},p=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(n,t/2)}},d=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(n,t)}},h=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},f=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,o=r.words,i=r.sigBytes,a=this.blockSize,s=i/(4*a),c=(t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a;i=e.min(4*c,i);if(c){for(var l=0;l<c;l+=a)this._doProcessBlock(o,l);n=o.splice(0,c),r.sigBytes-=i}return new u.init(n,i)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),g=(s.Hasher=f.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new g.HMAC.init(e,n).finalize(t)}}}),a.algo={});return a}(Math)}).call(this,n(6))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedList=t.ListNode=t.ENUM_CONNECT_STATE=t.ENUM_NETWORK_STATE=t.SOCKET_DISCONNECT=t.errorList=t.Queue=t.getSeq=t.E_CLIENT_TYPE=t.ENUM_LOG_LEVEL=t.ENUM_REMOTE_TYPE=t.ZEGO_BROWSER_TYPE=t.ZEGO_ENV=t.PROTO_VERSION=void 0,t.PROTO_VERSION="1.0.1",(o=t.ZEGO_ENV||(t.ZEGO_ENV={}))[o.BROWSER=0]="BROWSER",o[o.WEIXINMINI=1]="WEIXINMINI",(o=t.ZEGO_BROWSER_TYPE||(t.ZEGO_BROWSER_TYPE={}))[o.IE=0]="IE",o[o.FIREFOX=1]="FIREFOX",o[o.CHROME=2]="CHROME",o[o.SAFARI=3]="SAFARI",o[o.OPERA=4]="OPERA",o[o.WEIXIN=5]="WEIXIN",o[o.WEIXINMINI=6]="WEIXINMINI",o[o.UNKOWN=7]="UNKOWN",(o=t.ENUM_REMOTE_TYPE||(t.ENUM_REMOTE_TYPE={}))[o.DISABLE=0]="DISABLE",o[o.WEBSOCKET=1]="WEBSOCKET",o[o.HTTPS=2]="HTTPS",t.ENUM_LOG_LEVEL={DEBUG:0,INFO:1,WARN:2,ERROR:3,REPORT:99,DISABLE:100,debug:0,info:1,warn:2,error:3,report:99,disable:100},(o=t.E_CLIENT_TYPE||(t.E_CLIENT_TYPE={}))[o.ClientType_None=0]="ClientType_None",o[o.ClientType_H5=1]="ClientType_H5",o[o.ClientType_SmallPragram=2]="ClientType_SmallPragram",o[o.ClientType_Webrtc=3]="ClientType_Webrtc",t.getSeq=(r=1,function(){return r++}),i.prototype.isEmpty=function(){return 0==this.items.length},i.prototype.enqueue=function(e){this.items.push(e)},i.prototype.dequeue=function(){return this.isEmpty()?"Underflow":this.items.shift()},i.prototype.front=function(){return this.isEmpty()?"No elements in Queue":this.items[0]},i.prototype.size=function(){return this.items.length},i.prototype.clear=function(){this.items=[]},i.prototype.all=function(){return this.items};var r,o=i;function i(){this.items=[],this.items=[]}t.Queue=o,t.errorList={TIMEOUT:{code:100001,msg:"network timeout"},DATAEXIST:{code:100002,msg:"data exist"},BROKEN:{code:100003,msg:"network broken"}},t.SOCKET_DISCONNECT=-1,(o=t.ENUM_NETWORK_STATE||(t.ENUM_NETWORK_STATE={}))[o.offline=0]="offline",o[o.online=1]="online",(o=t.ENUM_CONNECT_STATE||(t.ENUM_CONNECT_STATE={}))[o.disconnected=0]="disconnected",o[o.connecting=1]="connecting",o[o.connected=2]="connected",Object.defineProperty(s.prototype,"id",{get:function(){return this._id||null},set:function(e){this._id=e},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!1,configurable:!0}),s.prototype.hasNext=function(){return this.next&&this.next.id},s.prototype.hasPrev=function(){return this.prev&&this.prev.id};var a=s;function s(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.next=null,this.prev=null,this._id=e,this._data=t}function c(){this.start=new a,this.end=new a,this._idCounter=0,this._numNodes=0,this.start.next=this.end,this.start.prev=null,this.end.prev=this.start,this.end.next=null}t.ListNode=a,c.prototype.insertBefore=function(e,t){return(t=new a(this._idCounter,t)).next=e,t.prev=e.prev,e.prev&&(e.prev.next=t),e.prev=t,++this._idCounter,++this._numNodes,t},c.prototype.addLast=function(e){return this.insertBefore(this.end,e)},c.prototype.add=function(e){return this.addLast(e)},c.prototype.getFirst=function(){return 0===this._numNodes?null:this.start.next},c.prototype.getLast=function(){return 0===this._numNodes?null:this.end.prev},c.prototype.size=function(){return this._numNodes},c.prototype.getFromFirst=function(e){var t=0,n=this.start.next;if(0<=e)for(;t<e&&null!==n;)n=n.next,++t;else n=null;if(null===n)throw"Index out of bounds.";return n},c.prototype.get=function(e){return 0===e?this.getFirst():e===this._numNodes-1?this.getLast():this.getFromFirst(e)},c.prototype.remove=function(e){return e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),--this._numNodes,e},c.prototype.removeFirst=function(){return 0<this._numNodes&&this.start.next?this.remove(this.start.next):null},c.prototype.removeLast=function(){return 0<this._numNodes&&this.end.prev?this.remove(this.end.prev):null},c.prototype.removeAll=function(){this.start.next=this.end,this.end.prev=this.start,this._numNodes=0,this._idCounter=0},c.prototype.each=function(e){for(var t=this.start;t.hasNext();)e(t=t.next)},c.prototype.find=function(e){for(var t=this.start,n=!1,r=null;t.hasNext()&&!n;)e(t=t.next)&&(r=t,n=!0);return r},c.prototype.map=function(e){for(var t=this.start,n=[];t.hasNext();)e(t=t.next)&&n.push(t);return n},c.prototype.push=function(e){return this.addLast(e)},c.prototype.unshift=function(e){0<this._numNodes?this.insertBefore(this.start.next,e):this.insertBefore(this.end,e)},c.prototype.pop=function(){return this.removeLast()},c.prototype.shift=function(){return this.removeFirst()},t.LinkedList=o=c},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=t.suppressInstrumentation=t.ROOT_CONTEXT=t.BaseContext=t.setSpan=t.getSpanContext=t.getSpan=t.createContextKey=void 0,n(20));function a(e){return Symbol.for(e)}var s=(t.createContextKey=a)("OpenTelemetry Context Key SUPPRESS_INSTRUMENTATION"),c=a("OpenTelemetry Context Key SPAN");function u(e){return e.getValue(c)||void 0}function l(e){this.name=e,this.contextManager=new i.StackContextManager}t.getSpan=u,t.getSpanContext=function(e){return null==(e=u(e))?void 0:e.context()},t.setSpan=function(e,t){return e.setValue(c,t)},t.BaseContext=n=function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(e){return n._currentContext.get(e)},n.setValue=function(t,r){var o=new e(n._currentContext);return o._currentContext.set(t,r),o},n.deleteValue=function(t){var r=new e(n._currentContext);return r._currentContext.delete(t),r}},t.ROOT_CONTEXT=new n,t.suppressInstrumentation=function(e){return e.setValue(s,!0)},l.getInstance=function(e){return void 0===e&&(e="context"),this._instance||(this._instance=new l(e)),this._instance},l.prototype.active=function(){return this.contextManager.active()},l.prototype.with=function(e,t,n){for(var r,i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return(r=this._getContextManager()).with.apply(r,o([e,t,n],i))},l.prototype._getContextManager=function(){return this.contextManager},t.ContextAPI=n=l},function(e,t,n){"use strict";var r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=t.TraceFlags=t.SpanKind=t.SpanStatusCode=void 0,(r=t.SpanStatusCode||(t.SpanStatusCode={}))[r.UNSET=0]="UNSET",r[r.OK=1]="OK",r[r.ERROR=2]="ERROR",(o=t.SpanKind||(t.SpanKind={}))[o.INTERNAL=0]="INTERNAL",o[o.SERVER=1]="SERVER",o[o.CLIENT=2]="CLIENT",o[o.PRODUCER=3]="PRODUCER",o[o.CONSUMER=4]="CONSUMER",(o=r=t.TraceFlags||(t.TraceFlags={}))[o.NONE=0]="NONE",o[o.SAMPLED=1]="SAMPLED",t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:r.NONE}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=t.ZegoLog=void 0,o.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.join("")},o.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.join("")},o.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.join("")},o.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.join("")},o.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.join("")};var r=o;function o(){}r=new(t.ZegoLog=r),t.log=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FAIL_TIME=t.FAIL_MAX_COUNT=t.FAIL_COUNT=t.STORE_SIZE=t.CACHE_SIZE=t.BUCKET_CONFIG=t.DEFAULT_CONFIG=void 0,t.DEFAULT_CONFIG={importantLevel:0,reportSize:3e3,reportNum:10,bps:16e3,netTimeout:10},t.BUCKET_CONFIG={bucketSize:1e4,tokensPerInterval:1600},t.CACHE_SIZE={totalAvailCache:102400,cacheMaxSize:2e4,cacheDelPer:.2},t.STORE_SIZE={totalDBSize:2048e3,storeDelPer:.2},t.FAIL_COUNT=5,t.FAIL_MAX_COUNT=10,t.FAIL_TIME=30},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=(Object.defineProperty(t,"__esModule",{value:!0}),t.uuid=t.calculateMemSize=t.analyzeKey=t.getCurrentTime=t.getCurrentEnv=t.getBrowser=void 0,n(1)),i=r(n(35)),a=(t.getBrowser=function(){var e=window.navigator.userAgent,t=null!=window.ActiveXObject&&-1!=e.indexOf("MSIE"),n=-1!=e.indexOf("Firefox"),r=null!=window.opr,i=e.indexOf("Chrome")&&window.chrome,a=-1!=e.indexOf("Safari")&&-1!=e.indexOf("Version");e=e.toLowerCase().match(/MicroMessenger/i)&&"micromessenger"===e.toLowerCase().match(/MicroMessenger/i)[0];return t?o.ZEGO_BROWSER_TYPE.IE:n?o.ZEGO_BROWSER_TYPE.FIREFOX:r?o.ZEGO_BROWSER_TYPE.OPERA:i?o.ZEGO_BROWSER_TYPE.CHROME:a?o.ZEGO_BROWSER_TYPE.SAFARI:e?o.ZEGO_BROWSER_TYPE.WEIXIN:o.ZEGO_BROWSER_TYPE.UNKOWN},t.getCurrentEnv=function(){var e=window.navigator.userAgent;return new Promise((function(t){-1==e.indexOf("MicroMessage")?t(o.ZEGO_ENV.BROWSER):wx.miniProgram.getEnv((function(e){e.miniprogram}))}))},["00","01","02","03","04","05","06","07","08","09"]);t.getCurrentTime=function(){var e=new Date;return[e.getFullYear()+"/",(a[e.getMonth()+1]||e.getMonth()+1)+"/",(a[e.getDate()]||e.getDate())+" ",(a[e.getHours()]||e.getHours())+":",(a[e.getMinutes()]||e.getMinutes())+":",a[e.getSeconds()]||e.getSeconds(),"."+e.getTime()%1e3].join("")},t.analyzeKey=function(e){return e=e.split("_"),{level:Number(e[0]),timestamp:e[1],seq:e[2]}},t.calculateMemSize=function(e){return i.default(e)},t.uuid=function(e,t){var n,r,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[];if(t=t||o.length,e)for(n=0;n<e;n++)i[n]=o[0|Math.random()*t];else for(i[8]=i[13]=i[18]=i[23]="-",i[14]="4",n=0;n<36;n++)i[n]||(r=0|16*Math.random(),i[n]=o[19==n?3&r|8:r]);return i.join("")}},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function i(e){return null==e||!Array.isArray(e)||function(e){var t,n,o;try{for(var i=r(e),a=i.next();!a.done;a=i.next()){var s=a.value;if(null!=s)if(o){if(typeof s!==o)return!1}else o=typeof s}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0}(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeAttributes=t.isAttributeValue=void 0,t.isAttributeValue=i,t.sanitizeAttributes=function(e){var t,n,a={};if(null!=e&&"object"==typeof e)try{for(var s=r(Object.entries(e)),c=s.next();!c.done;c=s.next()){var u=o(c.value,2),l=u[0],p=u[1];i(p)&&(Array.isArray(p)?a[l]=p.slice():a[l]=p)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IdGenerator=void 0;var r=Array(32);function o(e){return function(){for(var t=0;t<2*e;t++)r[t]=Math.floor(16*Math.random())+48,58<=r[t]&&(r[t]+=39);return String.fromCharCode.apply(null,r.slice(0,2*e))}}t.IdGenerator=function(){this.generateTraceId=o(16),this.generateSpanId=o(8),this.generateEventId=o(4)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Resource=t.SDK_INFO=t.SemanticResourceAttributes=void 0,t.SemanticResourceAttributes={PROCESS_RUNTIME_NAME:"process.runtime.name",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version"},t.SDK_INFO=((r={})[t.SemanticResourceAttributes.TELEMETRY_SDK_NAME]="opentelemetry",r[t.SemanticResourceAttributes.PROCESS_RUNTIME_NAME]="browser",r[t.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]="webjs",r[t.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]=t.VERSION,r),o.empty=function(){return o.EMPTY},o.createTelemetrySDKResource=function(){var e;return new o(((e={})[t.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE]=t.SDK_INFO[t.SemanticResourceAttributes.TELEMETRY_SDK_LANGUAGE],e[t.SemanticResourceAttributes.TELEMETRY_SDK_NAME]=t.SDK_INFO[t.SemanticResourceAttributes.TELEMETRY_SDK_NAME],e[t.SemanticResourceAttributes.TELEMETRY_SDK_VERSION]=t.SDK_INFO[t.SemanticResourceAttributes.TELEMETRY_SDK_VERSION],e))},o.prototype.merge=function(e){return e&&Object.keys(e.attributes).length?new o(Object.assign({},this.attributes,e.attributes)):this},o.EMPTY=new o({});var r=o;function o(e){this.attributes=e}t.Resource=r},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.Span=void 0,n(8)),a=n(2),s=n(3),c=n(9),u=n(21);function l(e,t,n,r,o,i,a,u){void 0===u&&(u=[]),this.attributes={},this.links=[],this.events=[],this.status={code:s.SpanStatusCode.UNSET},this.endTime=0,this._ended=!1,this._duration=0,this.exported=!0,this.contextAPI=e.context,this.reporter=e.reporter,this.spanProcessor=e.spanProcessor,this.parentTracer=e,this.name=n,this.level=r,this.spanContext=o,this.parentSpanId=a,this.kind=i,this.links=u,this.startTime=Date.now(),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._traceParams=e.getActiveTraceParams(),this._idGenerator=new c.IdGenerator}l.prototype.context=function(){return this.spanContext},l.prototype.setAttribute=function(e,t){return null!=t&&0!==e.length&&(!i.isAttributeValue(t)||Object.keys(this.attributes).length>=this._traceParams.numberOfAttributesPerSpan&&!Object.prototype.hasOwnProperty.call(this.attributes,e)||(this.attributes[e]=t)),this},l.prototype.appendAttribute=function(e,t){return null!=t&&0!==e.length&&(!i.isAttributeValue(t)||Object.keys(this.attributes).length>=this._traceParams.numberOfAttributesPerSpan&&!Object.prototype.hasOwnProperty.call(this.attributes,e)||(this.attributes[e]&&Array.isArray(this.attributes[e])?this.attributes[e].push(t):this.attributes[e]=[t])),this},l.prototype.setAttributes=function(e){var t,n;try{for(var i=r(Object.entries(e)),a=i.next();!a.done;a=i.next()){var s=o(a.value,2),c=s[0],u=s[1];this.setAttribute(c,u)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return this},l.prototype.addEvent=function(e,t,n){this.events.length>=this._traceParams.numberOfEventsPerSpan&&this.events.shift();var r=this._idGenerator.generateEventId();return u.isTimeInput(t)&&(void 0===n&&(n=t),t=void 0),void 0===n&&(n=u.hrTime()),this.events.push({name:e,attributes:t,time:u.timeInputToHrTime(n),event_id:r}),this},l.prototype.setStatus=function(e){return this.status=e,this},l.prototype.updateName=function(e){return this.name=e,this},l.prototype.end=function(e){var t,n=this;this._isSpanEnded()||(this._ended=!0,this.resource=this.parentTracer.resource,this.spanProcessor.spanBeforeEnd&&this.spanProcessor.spanBeforeEnd(this),t=u.getCurrentTime(),this.setAttribute("e_time_s",t),this.endTime=Date.now(),this._duration=this.endTime-this.startTime,this.contextAPI.with(a.suppressInstrumentation(this.contextAPI.active()),(function(){var t=n.toReporterSpan(n);n.spanProcessor.spanEnd&&n.spanProcessor.spanEnd(t,n.level),t.droped||!1===e||(delete t.droped,n.reporter.report(JSON.stringify(t),n.level))})))},l.prototype.spanReport=function(){var e=this.toReporterSpan(this);this.reporter.report(JSON.stringify(e),this.level)},l.prototype.isRecording=function(){return!1===this._ended},Object.defineProperty(l.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),l.prototype._isSpanEnded=function(){return this._ended,this._ended},l.prototype.toReporterSpan=function(e){var t=[],n=(e.events.forEach((function(e){var n={};Object.keys(e).forEach((function(t){"name"===t&&(n[t]=e[t]),"time"===t&&(n.timestamp=u.hrTimeToMilliseconds(e[t])),"attributes"===t&&(n.tags=e[t])})),t.push(n)})),[]);return e.links.forEach((function(e){n.push({span_id:e.context.spanId,trace_id:e.context.traceId})})),{trace_id:e.spanContext.traceId,parent_span_id:e.parentSpanId,name:e.name,span_id:e.spanContext.spanId,kind:e.kind,start_time:e.startTime,end_time:e.endTime,duration:e.duration,logs:t,tags:e.attributes,links:n}},t.Span=n=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoSpan=void 0;var r=n(4),o=n(11);function i(e,t){this.spanId=e,this.span=t}i.prototype.setAttribute=function(e,t){var n=this;return this.span?this.span.setAttribute(e,t):this._activeSpan().then((function(){n.span&&n.span.setAttribute(e,t)})),this},i.prototype.setAttributes=function(e){var t=this;return this.span?this.span.setAttributes(e):this._activeSpan().then((function(){t.span&&t.span.setAttributes(e)})),this},i.prototype.appendAttribute=function(e,t){var n=this;return this.span?this.span.appendAttribute(e,t):this._activeSpan().then((function(){n.span&&n.span.appendAttribute(e,t)})),this},i.prototype.addEvent=function(e,t,n){var r=this;return this.span?this.span.addEvent(e,t,n):this._activeSpan().then((function(){r.span&&r.span.addEvent(e,t,n)})),this},i.prototype.setStatus=function(e){var t=this;return this.span?this.span.setStatus(e):this._activeSpan().then((function(){t.span&&t.span.setStatus(e)})),this},i.prototype.updateName=function(e){var t=this;return this.span?this.span.updateName(e):this._activeSpan().then((function(){t.span&&t.span.updateName(e)})),this},i.prototype.end=function(e){var t=this;void 0===e&&(e=!0),this.span?this.span.end(e):this._activeSpan(!0).then((function(){t.span&&t.span.end(e),t._spanEnd()}))},i.prototype.setSpanActive=function(e){this.activeCallback=e},i.prototype.setSpanEnd=function(e){this.endCallback=e},i.prototype.spanReport=function(){var e;null!=(e=this.span)&&e.spanReport()},i.prototype._spanEnd=function(){this._isSpanNoop()||(this.removeStoreItem(this.spanId),this.endCallback&&this.endCallback(this.spanInfo))},i.prototype._isSpanNoop=function(){return"noop"===this.spanId},i.prototype._activeSpan=function(e){var t=this;return void 0===e&&(e=!1),new Promise((function(n,r){t.store.getItem(t.spanId).then((function(r){var a=new o.Span(i.tracer,i.tracer.context.active(),r.name,r.level,r.spanContext,r.kind,r.parentSpanId,r.links);a.setStatus(r.status),a.setAttributes(r.attributes),t.span=a,t.activeCallback&&t.activeCallback(t.spanId,e),n()})).catch((function(e){r(e)}))}))},i.prototype.removeStoreItem=function(e){var t=this;this.store.getItem(e).then((function(n){n&&t.store.removeItem(e).then((function(){r.log.log("remove suc")})).catch((function(e){r.log.warn("remove fail")}))}))},t.ZegoSpan=n=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createZegoStore=t.ZegoWechatMiniStore=t.ZEGO_ENV=void 0;var r,o,i=n(14),a=((o=r=t.ZEGO_ENV||(t.ZEGO_ENV={}))[o.BROWSER=0]="BROWSER",o[o.WEIXINMINI=1]="WEIXINMINI",n(4)),s=(c.prototype.getItem=function(e){var t=this;return new Promise((function(n,r){try{n(wx.getStorageSync(t.keyPrefix+e))}catch(n){r(n)}}))},c.prototype.setItem=function(e,t){var n=this;return new Promise((function(r,o){try{wx.setStorageSync(n.keyPrefix+e,t),r()}catch(r){o(r)}}))},c.prototype.removeItem=function(e){var t=this;return new Promise((function(n,r){try{n(wx.removeStorageSync(t.keyPrefix+e))}catch(n){r(n)}}))},c.prototype.clear=function(){return new Promise((function(e,t){try{wx.clearStorageSync(),e()}catch(e){t(e)}}))},c.prototype.keys=function(){var e=this;return new Promise((function(t,n){try{var r=wx.getStorageInfoSync().keys,o=(a.log.warn("keys",r),[]);r.forEach((function(t){0==t.indexOf(e.keyPrefix)&&o.push(t.replace(e.keyPrefix,""))})),a.log.warn("keyArr",JSON.stringify(o)),o.sort(),t(o)}catch(t){n(t)}}))},c);function c(e){this.storeName=e,this.keyPrefix=e+"/",this.storeName}t.ZegoWechatMiniStore=s,t.createZegoStore=function(e,t,n){return t===r.BROWSER?i.createInstance({name:e+":"+(n||"store")}):new s(e)}},function(e,t,n){(function(t){e.exports=function e(t,n,r){function o(i,a){if(!n[i]){var s;if(!t[i])throw(s=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",s;s=n[i]={exports:{}},t[i][0].call(s.exports,(function(e){return o(t[i][1][e]||e)}),s,s.exports,e,t,n,r)}return n[i].exports}for(var i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,n,r){(function(e){"use strict";var t,r,o,i,a=e.MutationObserver||e.WebKitMutationObserver,s=a?(t=0,a=new a(u),r=e.document.createTextNode(""),a.observe(r,{characterData:!0}),function(){r.data=t=++t%2}):e.setImmediate||void 0===e.MessageChannel?"document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)}:((o=new e.MessageChannel).port1.onmessage=u,function(){o.port2.postMessage(0)}),c=[];function u(){var e,t;i=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}i=!1}n.exports=function(e){1!==c.push(e)||i||s()}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var r=e(1);function o(){}var i={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==o&&h(this,e)}function l(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function p(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return i.reject(e,r)}r===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,r)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function h(e,t){var n=!1;function r(t){n||(n=!0,i.reject(e,t))}function o(t){n||(n=!0,i.resolve(e,t))}var a=f((function(){t(o,r)}));"error"===a.status&&r(a.value)}function f(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=u).prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){var n;return"function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a?this:(n=new this.constructor(o),this.state!==c?p(n,this.state===s?e:t,this.outcome):this.queue.push(new l(n,e,t)),n)},l.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){p(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){i.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){p(this.promise,this.onRejected,e)},i.resolve=function(e,t){var n=f(d,t);if("error"===n.status)return i.reject(e,n.value);if(n=n.value)h(e,n);else{e.state=s,e.outcome=t;for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callFulfilled(t)}return e},i.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:i.resolve(new this(o),e)},u.reject=function(e){var t=new this(o);return i.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,c=-1,u=new this(o);++c<n;)!function(e,o){t.resolve(e).then((function(e){a[o]=e,++s!==n||r||(r=!0,i.resolve(u,a))}),(function(e){r||(r=!0,i.reject(u,e))}))}(e[c],c);return u},u.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var r,a=-1,s=new this(o);++a<t;)r=e[a],this.resolve(r).then((function(e){n||(n=!0,i.resolve(s,e))}),(function(e){n||(n=!0,i.reject(s,e))}));return s}},{1:1}],3:[function(e,n,r){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){try{return"undefined"!=typeof indexedDB?indexedDB:"undefined"!=typeof webkitIndexedDB?webkitIndexedDB:"undefined"!=typeof mozIndexedDB?mozIndexedDB:"undefined"!=typeof OIndexedDB?OIndexedDB:"undefined"!=typeof msIndexedDB?msIndexedDB:void 0}catch(e){}}();function i(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var a=Promise;function s(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function c(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function u(e){return"string"!=typeof e?String(e):e}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var p="local-forage-detect-blob-support",d=void 0,h={},f=Object.prototype.toString,g="readonly",m="readwrite";function y(e){e=h[e.name];var t={};t.promise=new a((function(e,n){t.resolve=e,t.reject=n})),e.deferredOperations.push(t),e.dbReady?e.dbReady=e.dbReady.then((function(){return t.promise})):e.dbReady=t.promise}function _(e){(e=h[e.name].deferredOperations.pop())&&(e.resolve(),e.promise)}function v(e,t){if(e=h[e.name].deferredOperations.pop())return e.reject(t),e.promise}function O(e,t){return new a((function(n,r){if(h[e.name]=h[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);y(e),e.db.close()}var i=[e.name],a=(t&&i.push(e.version),o.open.apply(o,i));t&&(a.onupgradeneeded=function(t){var n=a.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(p)}catch(n){if("ConstraintError"!==n.name)throw n}}),a.onerror=function(e){e.preventDefault(),r(a.error)},a.onsuccess=function(){var t=a.result;t.onversionchange=function(e){e.target.close()},n(t),_(e)}}))}function C(e){return O(e,!1)}function b(e){return O(e,!0)}function S(e){var t,n,r;return!e.db||(t=!e.db.objectStoreNames.contains(e.storeName),n=e.version<e.db.version,r=e.version>e.db.version,n&&(e.version,e.version=e.db.version),(r||t)&&(t&&(t=e.db.version+1)>e.version&&(e.version=t),1))}function E(e){return i([function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}(atob(e.data))],{type:e.type})}function T(e){return e&&e.__local_forage_encoded_blob}function P(e){var t=this,n=t._initReady().then((function(){var e=h[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return c(n,e,e),n}function I(e,t,n,r){void 0===r&&(r=1);try{var o=e.db.transaction(e.storeName,t);n(null,o)}catch(o){if(0<r&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return a.resolve().then((function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),b(e)})).then((function(){return function(e){y(e);for(var t=h[e.name],n=t.forages,r=0;r<n.length;r++){var o=n[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,C(e).then((function(t){return e.db=t,S(e)?b(e):t})).then((function(r){e.db=t.db=r;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=r})).catch((function(t){throw v(e,t),t}))}(e).then((function(){I(e,t,n,r-1)}))})).catch(n);n(o)}}var D={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var o=h[n.name],i=(o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},h[n.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=P),[]);function s(){return a.resolve()}for(var c=0;c<o.forages.length;c++){var u=o.forages[c];u!==t&&i.push(u._initReady().catch(s))}var l=o.forages.slice(0);return a.all(i).then((function(){return n.db=o.db,C(n)})).then((function(e){return n.db=e,S(n,t._defaultConfig.version)?b(n):e})).then((function(e){n.db=o.db=e,t._dbInfo=n;for(var r=0;r<l.length;r++){var i=l[r];i!==t&&(i._dbInfo.db=n.db,i._dbInfo.version=n.version)}}))},_support:function(){try{var e,t;return!(!o||!o.open)&&(e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code"),(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange)}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=new a((function(t,r){n.ready().then((function(){I(n._dbInfo,g,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n,r=a.result;r?(T(n=r.value)&&(n=E(n)),void 0!==(n=e(n,r.key,s++))?t(n):r.continue()):t()},a.onerror=function(){r(a.error)}}catch(o){r(o)}}))})).catch(r)}));return s(r,t),r},getItem:function(e,t){var n=this,r=(e=u(e),new a((function(t,r){n.ready().then((function(){I(n._dbInfo,g,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;T(e=void 0===e?null:e)&&(e=E(e)),t(e)},a.onerror=function(){r(a.error)}}catch(o){r(o)}}))})).catch(r)})));return s(r,t),r},setItem:function(e,t,n){var r=this,o=(e=u(e),new a((function(n,o){var s;r.ready().then((function(){return s=r._dbInfo,"[object Blob]"===f.call(t)?(e=s.db,("boolean"==typeof d?a.resolve(d):(n=e,new a((function(e){var t=n.transaction(p,m),r=i([""]);t.objectStore(p).put(r,"key"),t.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},t.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||43<=parseInt(t[1],10))}})).catch((function(){return!1})).then((function(e){return d=e})))).then((function(e){return e?t:(n=t,new a((function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){t=btoa(t.target.result||""),e({__local_forage_encoded_blob:!0,data:t,type:n.type})},r.readAsBinaryString(n)})));var n}))):t;var e,n})).then((function(t){I(r._dbInfo,m,(function(i,a){if(i)return o(i);try{var s=a.objectStore(r._dbInfo.storeName),c=(null===t&&(t=void 0),s.put(t,e));a.oncomplete=function(){n(t=void 0===t?null:t)},a.onabort=a.onerror=function(){var e=c.error||c.transaction.error;o(e)}}catch(i){o(i)}}))})).catch(o)})));return s(o,n),o},removeItem:function(e,t){var n=this,r=(e=u(e),new a((function(t,r){n.ready().then((function(){I(n._dbInfo,m,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName).delete(e);i.oncomplete=function(){t()},i.onerror=function(){r(a.error)},i.onabort=function(){var e=a.error||a.transaction.error;r(e)}}catch(o){r(o)}}))})).catch(r)})));return s(r,t),r},clear:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){I(t._dbInfo,m,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=i.error||i.transaction.error;n(e)}}catch(r){n(r)}}))})).catch(n)}));return s(n,e),n},length:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){I(t._dbInfo,g,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).count();i.onsuccess=function(){e(i.result)},i.onerror=function(){n(i.error)}}catch(r){n(r)}}))})).catch(n)}));return s(n,e),n},key:function(e,t){var n=this,r=new a((function(t,r){e<0?t(null):n.ready().then((function(){I(n._dbInfo,g,(function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),s=!1,c=a.openKeyCursor();c.onsuccess=function(){var n=c.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},c.onerror=function(){r(c.error)}}catch(o){r(o)}}))})).catch(r)}));return s(r,t),r},keys:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){I(t._dbInfo,g,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];i.onsuccess=function(){var t=i.result;t?(a.push(t.key),t.continue()):e(a)},i.onerror=function(){n(i.error)}}catch(r){n(r)}}))})).catch(n)}));return s(n,e),n},dropInstance:function(e,t){t=l.apply(this,arguments);var n,r=this.config();return(e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName),s(n=e.name?(n=e.name===r.name&&this._dbInfo.db?a.resolve(this._dbInfo.db):C(e).then((function(t){var n=h[e.name],r=n.forages;n.db=t;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=t;return t})),e.storeName?n.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1,r=(y(e),h[e.name]),i=r.forages;t.close();for(var s=0;s<i.length;s++){var c=i[s];c._dbInfo.db=null,c._dbInfo.version=n}return new a((function(t,r){var i=o.open(e.name,n);i.onerror=function(e){i.result.close(),r(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),t(e)}})).then((function(e){r.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e,_(n._dbInfo)}})).catch((function(t){throw(v(e,t)||a.resolve()).catch((function(){})),t}))}})):n.then((function(t){y(e);var n=h[e.name],r=n.forages;t.close();for(var i=0;i<r.length;i++)r[i]._dbInfo.db=null;return new a((function(t,n){var r=o.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}})).then((function(e){n.db=e;for(var t=0;t<r.length;t++)_(r[t]._dbInfo)})).catch((function(t){throw(v(e,t)||a.resolve()).catch((function(){})),t}))}))):a.reject("Invalid arguments"),t),n}},w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M=/^~~local_forage_type~([^~]+)~/,R="__lfsc__:",k=R.length,L="arbf",G="blob",A=k+L.length,N=Object.prototype.toString;function F(e){var t,n,r,o,i=.75*e.length,a=e.length,s=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2])&&i--;i=new ArrayBuffer(i);for(var c=new Uint8Array(i),u=0;u<a;u+=4)t=w.indexOf(e[u]),n=w.indexOf(e[u+1]),r=w.indexOf(e[u+2]),o=w.indexOf(e[u+3]),c[s++]=t<<2|n>>4,c[s++]=(15&n)<<4|r>>2,c[s++]=(3&r)<<6|63&o;return i}function W(e){for(var t=new Uint8Array(e),n="",r=0;r<t.length;r+=3)n=(n=(n=(n+=w[t[r]>>2])+w[(3&t[r])<<4|t[r+1]>>4])+w[(15&t[r+1])<<2|t[r+2]>>6])+w[63&t[r+2]];return t.length%3==2?n=n.substring(0,n.length-1)+"=":t.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}var x={serialize:function(e,t){var n="";if(e&&(n=N.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===N.call(e.buffer))){var r,o=R;e instanceof ArrayBuffer?(r=e,o+=L):(r=e.buffer,"[object Int8Array]"===n?o+="si08":"[object Uint8Array]"===n?o+="ui08":"[object Uint8ClampedArray]"===n?o+="uic8":"[object Int16Array]"===n?o+="si16":"[object Uint16Array]"===n?o+="ur16":"[object Int32Array]"===n?o+="si32":"[object Uint32Array]"===n?o+="ui32":"[object Float32Array]"===n?o+="fl32":"[object Float64Array]"===n?o+="fl64":t(new Error("Failed to get type for BinaryArray"))),t(o+W(r))}else if("[object Blob]"===n)(n=new FileReader).onload=function(){var n="~~local_forage_type~"+e.type+"~"+W(this.result);t(R+G+n)},n.readAsArrayBuffer(e);else try{t(JSON.stringify(e))}catch(n){t(null,n)}},deserialize:function(e){if(e.substring(0,k)!==R)return JSON.parse(e);var t,n=e.substring(A),r=e.substring(k,A),o=(r===G&&M.test(n)&&(t=(e=n.match(M))[1],n=n.substring(e[0].length)),F(n));switch(r){case L:return o;case G:return i([o],{type:t});case"si08":return new Int8Array(o);case"ui08":return new Uint8Array(o);case"uic8":return new Uint8ClampedArray(o);case"si16":return new Int16Array(o);case"ur16":return new Uint16Array(o);case"si32":return new Int32Array(o);case"ui32":return new Uint32Array(o);case"fl32":return new Float32Array(o);case"fl64":return new Float64Array(o);default:throw new Error("Unkown type: "+r)}},stringToBuffer:F,bufferToString:W};function V(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function B(e,t,n,r,o,i){e.executeSql(n,r,o,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?i(e,a):V(e,t,(function(){e.executeSql(n,r,o,i)}),i)}),i):i(e,a)}),i)}function U(e,t,n,r){var o=this,i=(e=u(e),new a((function(i,a){o.ready().then((function(){var s=t=void 0===t?null:t,c=o._dbInfo;c.serializer.serialize(t,(function(t,u){u?a(u):c.db.transaction((function(n){B(n,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){i(s)}),(function(e,t){a(t)}))}),(function(t){t.code===t.QUOTA_ERR&&(0<r?i(U.apply(o,[e,s,n,r-1])):a(t))}))}))})).catch(a)})));return s(i,n),i}var j={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new a((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(o){V(o,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=x,o},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new a((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){B(n,o,"SELECT * FROM "+o.storeName,[],(function(n,r){for(var i=r.rows,a=i.length,s=0;s<a;s++){var c=i.item(s),u=(u=c.value)&&o.serializer.deserialize(u);if(void 0!==(u=e(u,c.key,s+1)))return void t(u)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},getItem:function(e,t){var n=this,r=(e=u(e),new a((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){B(n,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){n=(n=n.rows.length?n.rows.item(0).value:null)&&o.serializer.deserialize(n),t(n)}),(function(e,t){r(t)}))}))})).catch(r)})));return s(r,t),r},setItem:function(e,t,n){return U.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this,r=(e=u(e),new a((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){B(n,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)})));return s(r,t),r},clear:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){B(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},length:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){B(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){n=n.rows.item(0).c,e(n)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},key:function(e,t){var n=this,r=new a((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){B(n,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){n=n.rows.length?n.rows.item(0).key:null,t(n)}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,t),r},keys:function(e){var t=this,n=new a((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){B(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,e),n},dropInstance:function(e,t){t=l.apply(this,arguments);var n=this.config(),r=((e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName),this),o=e.name?new a((function(t){var o,i=e.name===n.name?r._dbInfo.db:openDatabase(e.name,"","",0);e.storeName?t({db:i,storeNames:[e.storeName]}):t((o=i,new a((function(e,t){o.transaction((function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).name);e({db:o,storeNames:r})}),(function(e,n){t(n)}))}),(function(e){t(e)}))}))))})).then((function(e){return new a((function(t,n){e.db.transaction((function(r){for(var o=[],i=0,s=e.storeNames.length;i<s;i++)o.push(function(e){return new a((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}(e.storeNames[i]));a.all(o).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):a.reject("Invalid arguments");return s(o,t),o}};function z(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}e={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=z(e,this._defaultConfig),!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),0}catch(e){return 1}}()||0<localStorage.length?((this._dbInfo=t).serializer=x,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,o=r.length,i=localStorage.length,a=1,s=0;s<i;s++){var c=localStorage.key(s);if(0===c.indexOf(r)){var u=(u=localStorage.getItem(c))&&t.serializer.deserialize(u);if(void 0!==(u=e(u,c.substring(o),a++)))return u}}}));return s(r,t),r},getItem:function(e,t){var n=this,r=(e=u(e),n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&t.serializer.deserialize(r)})));return s(r,t),r},setItem:function(e,t,n){var r=this,o=(e=u(e),r.ready().then((function(){var n=t=void 0===t?null:t;return new a((function(o,i){var a=r._dbInfo;a.serializer.serialize(t,(function(t,r){if(r)i(r);else try{localStorage.setItem(a.keyPrefix+e,t),o(n)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||i(t),i(t)}}))}))})));return s(o,n),o},removeItem:function(e,t){var n=this,r=(e=u(e),n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)})));return s(r,t),r},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;0<=n;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return s(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return s(t,e),t},key:function(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(r){t=null}return t&&t.substring(r.keyPrefix.length)}));return s(r,t),r},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++){var i=localStorage.key(o);0===i.indexOf(e.keyPrefix)&&r.push(i.substring(e.keyPrefix.length))}return r}));return s(n,e),n},dropInstance:function(e,t){t=l.apply(this,arguments),(e="function"!=typeof e&&e||{}).name||(r=this.config(),e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var n=this,r=e.name?new a((function(t){e.storeName?t(z(e,n._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;0<=t;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):a.reject("Invalid arguments");return s(r,t),r}};var H=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Y={},K={},q={INDEXEDDB:D,WEBSQL:j,LOCALSTORAGE:e},X=(e=[q.INDEXEDDB._driver,q.WEBSQL._driver,q.LOCALSTORAGE._driver],["dropInstance"]),Z=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(X),J={description:"",driver:e.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Q(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var r in n)n.hasOwnProperty(r)&&(H(n[r])?e[r]=n[r].slice():e[r]=n[r])}return e}function $(e){var t,n,r;if(!(this instanceof $))throw new TypeError("Cannot call a class as a function");for(t in q)q.hasOwnProperty(t)&&(r=(n=q[t])._driver,this[t]=r,Y[r]||this.defineDriver(n));this._defaultConfig=Q({},J),this._config=Q({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}$.prototype.config=function(e){if("object"!==(void 0===e?"undefined":r(e)))return"string"==typeof e?this._config[e]:this._config;if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)},$.prototype.defineDriver=function(e,t,n){var r=new a((function(t,n){try{var r=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(e._driver){for(var i=Z.concat("_initStorage"),c=0,u=i.length;c<u;c++){var l=i[c];if((!function(e,t){for(var n,r,o=e.length,i=0;i<o;){if((n=e[i])===(r=t)||"number"==typeof n&&"number"==typeof r&&isNaN(n)&&isNaN(r))return 1;i++}}(X,l)||e[l])&&"function"!=typeof e[l])return void n(o)}for(var p=0,d=X.length;p<d;p++){var h=X[p];e[h]||(e[h]=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver");return s(t=a.reject(t),arguments[arguments.length-1]),t}}(h))}var f=function(n){Y[r]=e,K[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(f,n):f(!!e._support):f(!0)}else n(o)}catch(o){n(o)}}));return c(r,t,n),r},$.prototype.driver=function(){return this._driver||null},$.prototype.getDriver=function(e,t,n){return c(e=Y[e]?a.resolve(Y[e]):a.reject(new Error("Driver not found.")),t,n),e},$.prototype.getSerializer=function(e){var t=a.resolve(x);return c(t,e),t},$.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return c(n,e,e),n},$.prototype.setDriver=function(e,t,n){var r=this,o=(H(e)||(e=[e]),this._getSupportedDrivers(e));function i(){r._config.driver=r.driver()}function s(e){return r._extend(e),i(),r._ready=r._initStorage(r._config),r._ready}return e=null!==this._driverSet?this._driverSet.catch((function(){return a.resolve()})):a.resolve(),this._driverSet=e.then((function(){var e=o[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){var t;r._driver=e._driver,i(),r._wrapLibraryMethodsWithReady(),r._initDriver=(t=o,function(){var e=0;return function n(){for(;e<t.length;){var o=t[e];return e++,r._dbInfo=null,r._ready=null,r.getDriver(o).then(s).catch(n)}i();var c=new Error("No available storage method found.");return r._driverSet=a.reject(c),r._driverSet}()})}))})).catch((function(){i();var e=new Error("No available storage method found.");return r._driverSet=a.reject(e),r._driverSet})),c(this._driverSet,t,n),this._driverSet},$.prototype.supports=function(e){return!!K[e]},$.prototype._extend=function(e){Q(this,e)},$.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];this.supports(o)&&t.push(o)}return t},$.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=Z.length;e<t;e++)!function(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}(this,Z[e])},$.prototype.createInstance=function(e){return new $(e)},e=new $,t.exports=e},{3:3}]},{},[4])(4)}).call(this,n(6))},function(e,t,n){var r;e.exports=(r=n(0),function(e){var t=r,n=(i=t.lib).WordArray,o=i.Hasher,i=t.algo,a=[];function s(e,t,n,r,o,i,a){return((a=e+(t&n|~t&r)+o+a)<<i|a>>>32-i)+t}function c(e,t,n,r,o,i,a){return((a=e+(t&r|n&~r)+o+a)<<i|a>>>32-i)+t}function u(e,t,n,r,o,i,a){return((a=e+(t^n^r)+o+a)<<i|a>>>32-i)+t}function l(e,t,n,r,o,i,a){return((a=e+(n^(t|~r))+o+a)<<i|a>>>32-i)+t}for(var p=0;p<64;p++)a[p]=4294967296*e.abs(e.sin(p+1))|0;i=i.MD5=o.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,o=e[r];e[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8)}var i=this._hash.words,p=e[t+0],d=e[t+1],h=e[t+2],f=e[t+3],g=e[t+4],m=e[t+5],y=e[t+6],_=e[t+7],v=e[t+8],O=e[t+9],C=e[t+10],b=e[t+11],S=e[t+12],E=e[t+13],T=e[t+14],P=e[t+15],I=s(i[0],M=i[1],w=i[2],D=i[3],p,7,a[0]),D=s(D,I,M,w,d,12,a[1]),w=s(w,D,I,M,h,17,a[2]),M=s(M,w,D,I,f,22,a[3]);I=s(I,M,w,D,g,7,a[4]),D=s(D,I,M,w,m,12,a[5]),w=s(w,D,I,M,y,17,a[6]),M=s(M,w,D,I,_,22,a[7]);I=s(I,M,w,D,v,7,a[8]),D=s(D,I,M,w,O,12,a[9]),w=s(w,D,I,M,C,17,a[10]),M=s(M,w,D,I,b,22,a[11]),I=s(I,M,w,D,S,7,a[12]),D=s(D,I,M,w,E,12,a[13]),w=s(w,D,I,M,T,17,a[14]),I=c(I,M=s(M,w,D,I,P,22,a[15]),w,D,d,5,a[16]),D=c(D,I,M,w,y,9,a[17]),w=c(w,D,I,M,b,14,a[18]),M=c(M,w,D,I,p,20,a[19]),I=c(I,M,w,D,m,5,a[20]),D=c(D,I,M,w,C,9,a[21]),w=c(w,D,I,M,P,14,a[22]),M=c(M,w,D,I,g,20,a[23]),I=c(I,M,w,D,O,5,a[24]),D=c(D,I,M,w,T,9,a[25]),w=c(w,D,I,M,f,14,a[26]),M=c(M,w,D,I,v,20,a[27]),I=c(I,M,w,D,E,5,a[28]),D=c(D,I,M,w,h,9,a[29]),w=c(w,D,I,M,_,14,a[30]),I=u(I,M=c(M,w,D,I,S,20,a[31]),w,D,m,4,a[32]),D=u(D,I,M,w,v,11,a[33]),w=u(w,D,I,M,b,16,a[34]),M=u(M,w,D,I,T,23,a[35]),I=u(I,M,w,D,d,4,a[36]),D=u(D,I,M,w,g,11,a[37]),w=u(w,D,I,M,_,16,a[38]),M=u(M,w,D,I,C,23,a[39]),I=u(I,M,w,D,E,4,a[40]),D=u(D,I,M,w,p,11,a[41]),w=u(w,D,I,M,f,16,a[42]),M=u(M,w,D,I,y,23,a[43]),I=u(I,M,w,D,O,4,a[44]),D=u(D,I,M,w,S,11,a[45]),w=u(w,D,I,M,P,16,a[46]),I=l(I,M=u(M,w,D,I,h,23,a[47]),w,D,p,6,a[48]),D=l(D,I,M,w,_,10,a[49]),w=l(w,D,I,M,T,15,a[50]),M=l(M,w,D,I,m,21,a[51]),I=l(I,M,w,D,S,6,a[52]),D=l(D,I,M,w,f,10,a[53]),w=l(w,D,I,M,C,15,a[54]),M=l(M,w,D,I,d,21,a[55]),I=l(I,M,w,D,v,6,a[56]),D=l(D,I,M,w,P,10,a[57]),w=l(w,D,I,M,y,15,a[58]),M=l(M,w,D,I,E,21,a[59]),I=l(I,M,w,D,g,6,a[60]),D=l(D,I,M,w,b,10,a[61]),w=l(w,D,I,M,h,15,a[62]),M=l(M,w,D,I,O,21,a[63]),i[0]=i[0]+I|0,i[1]=i[1]+M|0,i[2]=i[2]+w|0,i[3]=i[3]+D|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes,i=(n[o>>>5]|=128<<24-o%32,e.floor(r/4294967296));n[15+(64+o>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),n[14+(64+o>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(n.length+1),this._process();for(var a=(n=this._hash).words,s=0;s<4;s++){var c=a[s];a[s]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return n},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),t.MD5=o._createHelper(i),t.HmacMD5=o._createHmacHelper(i)}(Math),r.MD5)},function(e,t,n){var r,o,i,a,s;e.exports=(e=n(0),n(47),n(48),r=(a=(n=e).lib).Base,o=a.WordArray,a=(i=n.algo).MD5,s=i.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,i=r.hasher.create(),a=o.create(),s=a.words,c=r.keySize,u=r.iterations;s.length<c;){n&&i.update(n),n=i.update(e).finalize(t),i.reset();for(var l=1;l<u;l++)n=i.finalize(n),i.reset();a.concat(n)}return a.sigBytes=4*c,a}}),n.EvpKDF=function(e,t,n){return s.create(n).compute(e,t)},e.EvpKDF)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicCode=t.ZegoTracer=t.ZegoSpan=void 0;var r=n(18),o=(Object.defineProperty(t,"ZegoTracer",{enumerable:!0,get:function(){return r.ZegoTracer}}),n(53)),i=(Object.defineProperty(t,"DynamicCode",{enumerable:!0,get:function(){return o.DynamicCode}}),n(12));Object.defineProperty(t,"ZegoSpan",{enumerable:!0,get:function(){return i.ZegoSpan}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoTracer=void 0;var r=n(19),o=n(25),i=n(12),a=n(26),s=n(4),c=n(2),u=n(10),l=n(27),p=n(42),d=n(13),h=n(51),f=n(52);function g(){this.tracingSpans=[],this._maxTracingSpanSize=a.DEFAULT_MAX_SPAN_SIZE,this.level=0,this.log=new h.ZegoLog,this.stateCenter=new f.StateCenter(this.log)}g.prototype.init=function(e){this.options=e,this.name=e.product,this.reporter=new l.ZegoDataReport(this.name,this.stateCenter),this.reporter.init({appID:e.appID,env:e.env||0,importantLevel:e.importantLevel,levels:e.levels,deviceID:e.deviceID,bps:e.bps,serverUrl:e.serverUrl}),this.tracer=new r.Tracer({name:this.name,version:e.version},{resource:new u.Resource(e.resources)},this.reporter,{spanStart:e.spanStart,spanBeforeEnd:e.spanBeforeEnd,spanEnd:e.spanEnd}),this.reporter.setProcessData(this.tracer.resource.attributes),this.initRoot(this.options),this.dyStore=d.createZegoStore(e.product+"_"+e.appID+"_dy",e.env||0)},g.prototype.initRoot=function(e){this.rootSpan=this.tracer.startSpan("root",0);var t=c.setSpan(this.tracer.context.active(),this.rootSpan);this.tracer.context._getContextManager()._currentContext=t,this.rootSpan.end()},g.prototype.createSpan=function(e,t,n){var r,u;return e<=this.level?(r=void 0,r=n&&n.parent?c.setSpan(this.tracer.context.active(),n.parent.span):c.setSpan(this.tracer.context.active(),this.rootSpan),u=[],n&&n.linkSpans&&(n.linkSpans.forEach((function(e){u.push({context:e.span.context()})})),delete n.linkSpans),r=this.tracer.startSpan(t,e,Object.assign({},n,{links:u}),r),this.tracingSpans.length>=this._maxTracingSpanSize&&s.log.warn("max to limit"),r=new i.ZegoSpan(r.spanContext.spanId,r),i.ZegoSpan.tracer=this.tracer,this.tracingSpans.push(r),r):(s.log.warn("createSpan level not fix"),new i.ZegoSpan(a.NOOP_SPAN_ID,new o.NoopSpan))},g.prototype.setLogger=function(e){this.stateCenter.logger=e},g.prototype.setTimeOffset=function(e){this.reporter.setTimeOffset(e)},g.prototype.setWaitNtpTimeout=function(e){this.reporter.setWaitNtpTimeout(e)},g.prototype.setLogLevel=function(e){return this.stateCenter._log.setLogLevel(e)},g.prototype.startReport=function(e){return this.reporter.startReport(e)},g.prototype.setConfig=function(e){this.reporter.setConfig(e)},g.prototype.loadJs=function(e,t,n,r,o,i){return p.loadJS(e,this.dyStore,t,n,r,o,i)},g.prototype.flush=function(e){this.reporter.flush(e)},g.prototype.setUnloadState=function(e){this.reporter.setUnloadState(e)},g.prototype.shutdown=function(){this.reporter.saveDataBeforeUnload()},g.prototype.setProcessorCallBack=function(e,t){},g.prototype.setSampleConfig=function(e){this.level=e.level||this.level},g.prototype.setResource=function(e){this.tracer.setResource(e),this.reporter.setProcessData(this.tracer.resource.attributes)},g.prototype.setNetStateCheck=function(){this.reporter.setNetStateCheck()},t.ZegoTracer=n=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tracer=void 0;var r=n(8),o=n(2),i=n(3),a=n(9),s=n(10),c=n(11),u=n(22),l=n(23);function p(e,t,n,r){var i=l.mergeConfig(t);this._traceParams=i.traceParams,this._idGenerator=new a.IdGenerator,this.resource=null!=(t=t.resource)?t:s.Resource.createTelemetrySDKResource(),this.instrumentationLibrary=e,e=Math.random().toString(36).slice(-6),this.context=new o.ContextAPI(e),this.reporter=n,this.spanProcessor=r||{}}p.prototype.startSpan=function(e,t,n,a){var s,l,p,d=function(e,t){if(!e.root)return o.getSpanContext(t)}(n=void 0===n?{}:n,a=void 0===a?this.context.active():a),h=this._idGenerator.generateSpanId(),f=(d&&u.isSpanContextValid(d)?(s=d.traceId,l=d.traceState,p=d.spanId):s=this._idGenerator.generateTraceId(),null!=(g=n.kind)?g:i.SpanKind.INTERNAL),g=null!=(d=n.links)?d:[];d=r.sanitizeAttributes(n.attributes);return n=i.TraceFlags.NONE,(g=new c.Span(this,a,e,t,{traceId:s,spanId:h,traceFlags:n,traceState:l},f,p,g)).setAttributes(d),this.spanProcessor.spanStart&&this.spanProcessor.spanStart(g),g},p.prototype.setResource=function(e){this.resource=this.resource.merge(new s.Resource(e))},p.prototype.getActiveTraceParams=function(){return this._traceParams},t.Tracer=n=p},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.StackContextManager=void 0,n(2));function a(){this._enabled=!1,this._currentContext=i.ROOT_CONTEXT}a.prototype._bindFunction=function(e,t){function n(){for(var n=this,o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return r.with(t,(function(){return e.apply(n,o)}))}void 0===t&&(t=i.ROOT_CONTEXT);var r=this;return Object.defineProperty(n,"length",{enumerable:!1,configurable:!0,writable:!1,value:e.length}),n},a.prototype.active=function(){return this._currentContext},a.prototype.bind=function(e,t){return void 0===(t=void 0===t?i.ROOT_CONTEXT:t)&&(t=this.active()),"function"==typeof e?this._bindFunction(e,t):e},a.prototype.disable=function(){return this._currentContext=i.ROOT_CONTEXT,this._enabled=!1,this},a.prototype.enable=function(){return this._enabled||(this._enabled=!0,this._currentContext=i.ROOT_CONTEXT),this},a.prototype.with=function(e,t,n){for(var r=[],a=3;a<arguments.length;a++)r[a-3]=arguments[a];var s=this._currentContext;this._currentContext=e||i.ROOT_CONTEXT;try{return t.call.apply(t,o([n],r))}finally{this._currentContext=s}},t.StackContextManager=n=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentTime=t.isTimeInput=t.hrTimeToMilliseconds=t.hrTimeDuration=t.timeInputToHrTime=t.isTimeInputHrTime=t.hrTime=void 0;var r=Math.pow(10,9),o=["00","01","02","03","04","05","06","07","08","09"];function i(e){var t=e/1e3;return[e=Math.trunc(t),Number((t-e).toFixed(9))*r]}function a(){var e,t=performance.timeOrigin;return"number"!=typeof t?(e=performance).timing&&e.timing.fetchStart:t}function s(e){var t=i(a()),n=i("number"==typeof e?e:performance.now());return e=t[0]+n[0],n=t[1]+n[1],r<n&&(n-=r,e+=1),[e,n]}function c(e){return Array.isArray(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}t.hrTime=s,t.isTimeInputHrTime=c,t.timeInputToHrTime=function(e){if(c(e))return e;if("number"==typeof e)return(e<a()?s:i)(e);if(e instanceof Date)return i(e.getTime());throw TypeError("Invalid input type")},t.hrTimeDuration=function(e,t){var n=t[0]-e[0];return(e=t[1]-e[1])<0&&(--n,e+=r),[n,e]},t.hrTimeToMilliseconds=function(e){return Math.round(1e3*e[0]+e[1]/1e6)},t.isTimeInput=function(e){return c(e)||"number"==typeof e||e instanceof Date},t.getCurrentTime=function(){var e=new Date;return[e.getFullYear()+"/",(o[e.getMonth()+1]||e.getMonth()+1)+"/",(o[e.getDate()]||e.getDate())+" ",(o[e.getHours()]||e.getHours())+":",(o[e.getMinutes()]||e.getMinutes())+":",o[e.getSeconds()]||e.getSeconds(),"."+e.getTime()%1e3].join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0,n=n(3);var r=/^([0-9a-f]{32})$/i,o=/^[0-9a-f]{16}$/i;function i(e){return r.test(e)&&e!==t.INVALID_TRACEID}function a(e){return o.test(e)&&e!==t.INVALID_SPANID}t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE},t.isValidTraceId=i,t.isValidSpanId=a,t.isSpanContextValid=function(e){return i(e.traceId)&&a(e.spanId)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeConfig=void 0;var r=n(24);t.mergeConfig=function(e){var t=Object.assign({},r.DEFAULT_CONFIG,e);return t.traceParams=Object.assign({},r.DEFAULT_CONFIG.traceParams,e.traceParams||{}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CONFIG=void 0,t.DEFAULT_CONFIG={traceParams:{numberOfAttributesPerSpan:128,numberOfLinksPerSpan:128,numberOfEventsPerSpan:128}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoopSpan=void 0;var r=n(3);function o(e){void 0===e&&(e=r.INVALID_SPAN_CONTEXT),this._spanContext=e}o.prototype.context=function(){return this._spanContext},o.prototype.setAttribute=function(e,t){return this},o.prototype.appendAttribute=function(e,t){return this},o.prototype.setAttributes=function(e){return this},o.prototype.addEvent=function(e,t,n){return this},o.prototype.setStatus=function(e){return this},o.prototype.updateName=function(e){return this},o.prototype.end=function(e){},o.prototype.isRecording=function(){return!1},o.prototype.spanReport=function(){},o.prototype.recordException=function(e,t){},t.NoopSpan=n=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_SPAN_ID=t.SCHEDULED_DELAY_MILLIS=t.DEFAULT_MAX_SPAN_SIZE=t.readSpanKeys=void 0,t.readSpanKeys=["name","level","kind","spanContext","parentSpanId","startTime","endTime","status","attributes","links","events","duration","ended","resource","instrumentationLibrary"],t.DEFAULT_MAX_SPAN_SIZE=1e3,t.SCHEDULED_DELAY_MILLIS=3e3,t.NOOP_SPAN_ID="noop"},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n=n||Promise)((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var c=[a,s];if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,(c=o?[2&c[0],o.value]:c)[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=0<(o=i.trys).length&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3]))i.label=c[1];else if(6===c[0]&&i.label<o[1])i.label=o[1],o=c;else{if(!(o&&i.label<o[2])){o[2]&&i.ops.pop(),i.trys.pop();continue}i.label=o[2],i.ops.push(c)}}c=t.call(e,i)}catch(s){c=[6,s],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e},c=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},u=(Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoDataReport=void 0,n(1)),l=n(28),p=n(34),d=n(41),h=n(7),f=n(5);function g(e,t){this.stateCenter=t,this.QUEUE_MAX=100,this.cacheMaxSize=f.CACHE_SIZE.cacheMaxSize,this.cacheDelPer=f.CACHE_SIZE.cacheDelPer,this.state="normal",this.forceDataTotalLen=0,this.reportPackagesSize=0,this.staticConfig={totalAvailCache:f.CACHE_SIZE.totalAvailCache,totalDBSize:f.STORE_SIZE.totalDBSize,bps:1600},this.dataInDb=[],this.listenerList={progressUpdate:[],forceResult:[],postFail:[],dataDroped:[]},this.tempBuffer=[],this.traceType={MEM_I_API:0,MEM_O_DONE:0,MEM_O_DUMP:0,MEM_I_LOAD:0,DB_O_DROP:0,DB_O_DONE:0,DB_I_BACKUP:0},this.isPaused=!1,this.pro="json",this.isLoadReportData=!1,this.dropCount=0,this.timeInterval=!1,this.isWaitNtpTimeout=!1,this.waitNtpTimeout=2e3,this.postDataState="",this.product=e,this.reporterCommonField=new Map,this.reportMap=new Map}g.prototype.init=function(e){return o(this,void 0,void 0,(function(){var t=this;return i(this,(function(n){switch(n.label){case 0:return this.config=r(r({},f.DEFAULT_CONFIG),e),this.config.env%2!=1&&this.bindWindowListener(),this.zegoService=new l.ZegoService(this.config.env||u.ZEGO_ENV.BROWSER,this.config.bps||f.DEFAULT_CONFIG.bps,this.product,this.pro,this.stateCenter),this.zegoService.setLogUrlParams({product:this.product,signature:this.config.token||"",appid:this.config.appID,id_name:this.config.userID||"",deviceid:this.config.deviceID||""}),this.config.serverUrl&&this.zegoService.setLogServer(this.config.serverUrl),this.zegoService.setPostSucCallback(this.product,this.postSucHandler.bind(this)),this.zegoService.setPostFailCallback(this.product,(function(e){return o(t,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return this.stateCenter.logger.warn("zt.zd.i fail"),this.postDataState="fail",this.dropCount++,this.storePackagesDataToDB(e),[4,this.storePendingDataToDB(1)];case 1:return t.sent(),this._actionListener("postFail"),[2]}}))}))})),this.initPendingQueue(),this.storeHandler=new p.ZegoStoreHandler(this.product+"_"+this.config.appID+"_datareporter",h.uuid(6),this.config,this.traceType,this.staticConfig,this.stateCenter),this.storeHandler.setDropCallBack((function(e){t.traceType.DB_O_DROP+=h.calculateMemSize(e),t._actionListener("dataDroped",e)})),[4,this.storeHandler.loadPendingData()];case 1:return n.sent(),this.storeHandler.init().then((function(){t.loadReportData()})).catch((function(e){})),this.startReportTimer(),this.setWaitNtpTimer(),this.checkCacheDataTimer(),[2]}}))}))},g.prototype.uninit=function(){this.isWaitNtpTimeout=!1,this.ntpTimer&&(clearTimeout(this.ntpTimer),this.ntpTimer=null)},g.prototype.setConfig=function(e){"object"==typeof e&&"number"==typeof e.bps&&(this.config.bps=e.bps,this.zegoService.setBps(this.config.bps)),"object"==typeof e&&"number"==typeof e.totalDBSize&&(this.staticConfig.totalDBSize=e.totalDBSize),"object"==typeof e&&"string"==typeof e.serverUrl&&""!==e.serverUrl&&(this.config.serverUrl=e.serverUrl,this.zegoService.setLogServer(this.config.serverUrl))},g.prototype.pause=function(){this.isPaused=!0},g.prototype.resume=function(){this.isPaused=!1;var e=(t=this.pendingQueue.getPendingDataInfo()).pendingDataSize,t=t.size;this.checkPendingQueue(e,t)},g.prototype.startReport=function(e){var t=e.get("userID"),n=e.get("token");return!(!t||"string"!=typeof t||!n||"string"!=typeof n||(this.startCommonField=e,this.config.userID=t,this.config.token=n,this.zegoService.setLogUrlParams({product:this.product,signature:this.config.token,appid:this.config.appID,id_name:this.config.userID||"",deviceid:this.config.deviceID||""}),this.isWithNtp()&&this.bufferDump(),(n=e.get("serverUrl"))&&(this.config.serverUrl=n,this.zegoService.setLogServer(this.config.serverUrl)),this.isConfigOK(this.config)&&(n=(e=this.pendingQueue.getPendingDataInfo()).pendingDataSize,e=e.size,this.checkPendingQueue(n,e)),0))},g.prototype.setTimeOffset=function(e){var t=this;this.clientTimeOffset=e,this.tempBuffer.forEach((function(e){(e=e.data).tags.time_offset||(e.tags.time_offset=t.clientTimeOffset)})),this.config.userID&&this.bufferDump()},g.prototype.setProcessData=function(e){this.stateCenter.processData=e},g.prototype.on=function(e,t){return this._bindListener(e,t)},g.prototype.off=function(e,t){return this._deleteListener(e,t)},g.prototype.report=function(e,t){var n,r;if(15e3<e.length)return!1;try{r=JSON.parse(e)}catch(e){return!1}return this.stateCenter._log.debug(e+" "+t),(null!=r&&r.id_name||null!=(n=null==r?void 0:r.tags)&&n.id_name||this.config.userID)&&this.isWithNtp()?(null!=r&&r.id_name||null!=(n=null==r?void 0:r.tags)&&n.id_name?this.clientTimeOffset&&(r.tags.time_offset=this.clientTimeOffset):(this.clientTimeOffset&&(r.tags.time_offset=this.clientTimeOffset),r.tags.id_name=this.config.userID),this.dumpData(JSON.stringify(r),t)):this.tempBuffer.push({data:r,level:t}),!0},g.prototype.setUnloadState=function(e){this.unloadLevel=e,this.state="unload"},g.prototype.dumpData=function(e,t){var n=this,r=h.calculateMemSize(e),o=(this.traceType.MEM_I_API+=r,u.getSeq()),i=(new Date).getTime(),a={seq:o,content:e,level:t,timestamp:i,packagedContent:""};"unload"===this.state?void 0!==this.unloadLevel&&t<=this.unloadLevel?(this.storeHandler.saveDataToStorage(a),this.pendingQueue.enqueue(a,t)):this.stateCenter._log.debug("level is low"):t<=this.config.importantLevel?(a.key=t+"_"+i+"_"+o,this.dataInDb.push(a.key),this.storeHandler.storeData(a).then((function(e){n.pendingQueue.enqueue(a,t),n.traceType.DB_I_BACKUP+=r})).catch((function(e){var r=n.dataInDb.findIndex((function(e){return e===a.key}));-1<r&&n.dataInDb.splice(r,1),n.pendingQueue.enqueue(a,t)}))):this.pendingQueue.enqueue(a,t),"force"===this.state&&(e=h.calculateMemSize(e),this.forceDataTotalLen+=e)},g.prototype.isWithNtp=function(){return this.isWaitNtpTimeout||void 0!==this.clientTimeOffset},g.prototype.bufferDump=function(){var e,t=this.tempBuffer.shift();t&&(e=t.data,t=t.level,e.tags.id_name=this.config.userID,this.dumpData(JSON.stringify(e),t),this.bufferDump())},g.prototype.isConfigOK=function(e){return""!==e.userID&&""!==e.token&&""!==e.server},g.prototype.testSize=function(e){},g.prototype.flush=function(e){var t;"force"!==this.state&&(this.state="force",t=16e6,"object"==typeof e&&"number"==typeof e.bps&&(t=e.bps),this.zegoService.setBps(t),this.forceDataTotalLen=this.storeHandler.storeSize+this.pendingQueue.pendingDataSize+this.reportPackagesSize,t=(e=this.pendingQueue.getPendingDataInfo()).pendingDataSize,e=e.size,0<t?this.checkPendingQueue(t,e):this.loadReportData())},g.prototype.setWaitNtpTimeout=function(e){this.waitNtpTimeout=e},g.prototype.setWaitNtpTimer=function(){var e=this;this.ntpTimer=setTimeout((function(){e.isWaitNtpTimeout=!0,e.config.userID&&e.bufferDump()}),this.waitNtpTimeout)},g.prototype.startReportTimer=function(){var e=this,t=(this.stateCenter._log.debug("startReportTimer "+new Date),this.timeInterval=!0,(n=this.pendingQueue.getPendingDataInfo()).pendingDataSize),n=n.size;this.checkPendingQueue(t,n),this.reportTimer=window.setTimeout((function(){e.startReportTimer()}),3e4)},g.prototype.checkCacheDataTimer=function(){return o(this,void 0,void 0,(function(){var e,t,n=this;return i(this,(function(r){switch(r.label){case 0:return t=this.pendingQueue.getPendingDataInfo(),e=t.pendingDataSize,t=t.size,e>this.config.reportSize||t>this.config.reportNum?[4,this.checkPendingQueue(e,t)]:[3,2];case 1:return r.sent(),[3,3];case 2:this.loadReportData(),r.label=3;case 3:return this.checkDataTimer=window.setTimeout((function(){n.checkCacheDataTimer()}),15e3),[2]}}))}))},g.prototype.bindWindowListener=function(){var e=this,t=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i);navigator.userAgent.indexOf("Firefox"),window.addEventListener(t?"pagehide":"beforeunload",(function(){window.event&&(window.event.cancelBubble=!0),e.saveDataBeforeUnload()}))},g.prototype.saveDataBeforeUnload=function(){var e=this.pendingQueue.readStoreData(1),t=(e.totalLen,e.storeArr);this.storeHandler.resetCommonStore(),(e=[]).push.apply(e,s(t)),t=this.zegoService.readReportQueueData(),e.push.apply(e,s(t)),0<e.length&&this.storeHandler.storePendingData(e)},g.prototype.setNetStateCheck=function(){"fail"===this.postDataState&&this.zegoService.handleNetConnect()},g.prototype.postSucHandler=function(e,t,n){return o(this,void 0,void 0,(function(){var n,r,o,a,s,c=this;return i(this,(function(i){switch(i.label){case 0:for(this.stateCenter._log.debug("post suc"),this.postDataState="suc",e.forEach((function(e){c.traceType.MEM_O_DONE+=h.calculateMemSize(e.content)})),n=function(t){var n=e[t];r.storeHandler.removeDataItem(n).then((function(e){n.key&&c.reportMap.delete(n.key)})).catch((function(e){}))},r=this,o=0;o<e.length;o++)n(o);return this.reportPackagesSize-=t,s=this.pendingQueue.getPendingDataInfo(),a=s.pendingDataSize,s=s.size,a>this.config.reportSize||s>this.config.reportNum?[4,this.checkPendingQueue(a,s)]:[3,2];case 1:return i.sent(),[3,3];case 2:this.loadReportData(),i.label=3;case 3:return"force"===this.state&&0==this.reportPackagesSize&&(s=this.reportPackagesSize+this.pendingQueue.pendingDataSize+this.storeHandler.storeSize,s=1-Number((s/this.forceDataTotalLen).toFixed(2)),this.listenerList.progressUpdate&&this._actionListener("progressUpdate",s),0<this.storeHandler.storeSize)&&this.loadReportData((function(e){0===e&&(c.state="normal",c.zegoService.setBps(c.config.bps||f.DEFAULT_CONFIG.bps),c.listenerList.forceSuccessCallback)&&c._actionListener("forceResult","SUCCESS")})),[2]}}))}))},g.prototype.checkPendingQueue=function(e,t){return o(this,void 0,void 0,(function(){var n,r,o,a,s;return i(this,(function(i){switch(i.label){case 0:return e>this.config.reportSize||t>this.config.reportNum||["force","unload"].includes(this.state)||this.timeInterval?(this.timeInterval=!1,!this.isPaused&&this.config.userID&&this.config.token&&this.config.serverUrl?[3,3]:(this.stateCenter._log.debug("isPaused "+this.isPaused+" "+this.userID+" "+this.config.token+" "+this.config.serverUrl),e>=this.cacheMaxSize||this.staticConfig.totalAvailCache<=0?[4,this.storePendingDataToDB(this.cacheDelPer)]:[3,2])):[3,7];case 1:i.sent(),i.label=2;case 2:return[2];case 3:return this.zegoService.reportAllowed()?[3,6]:(this.zegoService.resumeReport(),e>=this.cacheMaxSize||this.staticConfig.totalAvailCache<=0?[4,this.storePendingDataToDB(this.cacheDelPer)]:[3,5]);case 4:i.sent(),i.label=5;case 5:return[2];case 6:if(o=this.pendingQueue.readReportData(this.config.reportSize),n=o.totalLen,o=o.reportDataArr,n<=0)return[2];for(o=this.setCommonField(o),r=o.packageArr,o=o.packageLen,this.zegoService.report(r,o,this.product,"unload"===this.state),a=0;a<r.length;a++)s=r[a],this.reportMap.set(s.key,s);this.reportPackagesSize+=o,this.pendingQueue.refresh(n),i.label=7;case 7:return[2]}}))}))},g.prototype.initPendingQueue=function(){var e=this;this.pendingQueue=new d.PendingQueue(this.config.levels,this.product,this.staticConfig,this.stateCenter),this.pendingQueue.setListener({enCallback:function(t,n,r){return o(e,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.checkPendingQueue(r,n)];case 1:return e.sent(),[2]}}))}))}})},g.prototype.loadDBDataToMem=function(){var e=this;this.storeHandler.readStoreDataItem().then((function(t){var n=h.calculateMemSize(t.content);e.traceType.MEM_I_LOAD+=n,e.pendingQueue.enqueue(t,t.level)})).catch((function(e){}))},g.prototype.storePendingDataToDB=function(e){return o(this,void 0,void 0,(function(){var t,n,r,o,a,s,u,l;return i(this,(function(p){switch(p.label){case 0:n=this.pendingQueue.readStoreData(e),t=n.totalLen,s=n.storeArr,n=function(e){var n,o;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,r.storeDataItem(e,t)];case 1:return i.sent(),n=e.level+"_"+e.timestamp+"_"+e.seq,-1<(o=r.dataInDb.findIndex((function(e){return e===n})))&&r.dataInDb.splice(o,1),[3,3];case 2:return i.sent(),[3,3];case 3:return[2]}}))},r=this,p.label=1;case 1:p.trys.push([1,6,7,8]),o=c(s),a=o.next(),p.label=2;case 2:return a.done?[3,5]:(s=a.value,[5,n(s)]);case 3:p.sent(),p.label=4;case 4:return a=o.next(),[3,2];case 5:return[3,8];case 6:return u={error:u=p.sent()},[3,8];case 7:try{a&&!a.done&&(l=o.return)&&l.call(o)}finally{if(u)throw u.error}return[7];case 8:return[2]}}))}))},g.prototype.storePackagesDataToDB=function(e){var t=this;e.length&&e.forEach((function(e){t.storeHandler.storeData(e).then((function(n){var r=h.calculateMemSize(e.content);t.traceType.MEM_O_DUMP+=r})).catch((function(e){}))}))},g.prototype.storeDataItem=function(e,t){var n=this;return new Promise((function(t,r){return o(n,void 0,void 0,(function(){var n;return i(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.storeHandler.storeData(e)];case 1:return o.sent(),n=h.calculateMemSize(e.content),this.traceType.MEM_O_DUMP+=n,t(),[3,3];case 2:return n=o.sent(),r(n),[3,3];case 3:return[2]}}))}))}))},g.prototype.loadReportData=function(e){var t=this;this.storeHandler.storeSize<=0||this.isLoadReportData||(this.isLoadReportData=!0,this.storeHandler.loadDBData(this.config.reportSize,5,Math.floor(this.cacheMaxSize/3),(function(e){return-1<t.dataInDb.indexOf(e)})).then((function(n){t.isLoadReportData=!1,n.datas.forEach((function(e){var n;t.reportMap.has(e.key)||t.pendingQueue.findInQueue(e)||(n=h.calculateMemSize(e.content),t.traceType.MEM_I_LOAD+=n,t.pendingQueue.enqueue(e,e.level),t.dataInDb.push(e.key))})),e&&e(n.len)})).catch((function(e){t.isLoadReportData=!1})))},g.prototype.setCommonField=function(e){var t=this,n=0;return e.forEach((function(e){var r,o,i,s,u,l;if(e.packagedContent=JSON.parse(e.content),t.config.initCommonField)try{for(var p=c(t.config.initCommonField),d=p.next();!d.done;d=p.next()){var f=a(d.value,2),g=f[0],m=f[1];(b=JSON.parse(e.content))[g]=m,e.packagedContent=b}}catch(e){r={error:e}}finally{try{d&&!d.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}if(t.startCommonField)try{for(var y=c(t.startCommonField),_=y.next();!_.done;_=y.next()){var v=a(_.value,2);g=v[0],m=v[1];"userID"!==g&&"token"!==g&&"serverUrl"!==g&&((b=JSON.parse(e.content))[g]=m,e.packagedContent=b)}}catch(e){i={error:e}}finally{try{_&&!_.done&&(s=y.return)&&s.call(y)}finally{if(i)throw i.error}}if(t.reporterCommonField)try{for(var O=c(t.reporterCommonField),C=O.next();!C.done;C=O.next()){var b,S=a(C.value,2);g=S[0],m=S[1],(b=JSON.parse(e.content))[g]=m,e.packagedContent=b}}catch(e){u={error:e}}finally{try{C&&!C.done&&(l=O.return)&&l.call(O)}finally{if(u)throw u.error}}n+=h.calculateMemSize(JSON.stringify(e.packagedContent))})),{packageArr:e,packageLen:n}},g.prototype._bindListener=function(e,t){return!!this.listenerList[e]&&"function"==typeof t&&(-1==this.listenerList[e].indexOf(t)&&this.listenerList[e].push(t),!0)},g.prototype._deleteListener=function(e,t){var n;return!!this.listenerList[e]&&(n=this.listenerList[e],t?n.splice(n.indexOf(t),1):this.listenerList[e]=[],!0)},g.prototype._actionListener=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.listenerList[e]&&this.listenerList[e].forEach((function(e){try{e.apply(void 0,s(t))}catch(e){}}))},t.ZegoDataReport=n=g},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoService=void 0,n(1)),a=n(29),s=n(33),c=n(5);function u(e,t,n,r,o){this.env=e,this.product=n,this.pro=r,this.stateCenter=o,this.websocket=null,this.packageLen=0,this.packagesDataSize=0,this.PACKAGE_MAX_LEN=5,this.msgID=0,this.logUploadTimer=null,this.logUploadInterval=1e4,this.logCacheSend=[],this.logCacheMax=100,this.reportDataCheckInterval=1e3,this.postSucCallbackList={},this.postFailCallbackList={},this.failCount=0,this.failStartTime=0,this.netWorkFail=!1,this.networkState=i.ENUM_NETWORK_STATE.online,this.state=i.ENUM_CONNECT_STATE.disconnected,this.bindWindowListener(),this.networkState=i.ENUM_NETWORK_STATE.online,this.service=new a.LogService(e,n,r,o),this.setBps(t),this.reportQueue=new i.Queue}u.prototype.bindWindowListener=function(){var e=this;window.addEventListener("offline",(function(){e.networkState=i.ENUM_NETWORK_STATE.offline})),window.addEventListener("online",(function(t){e.handleNetConnect()}))},u.prototype.handleNetConnect=function(){this.networkState=i.ENUM_NETWORK_STATE.online;var e=this.url;this.url="",this.setLogServer(e),this.netWorkFail=!1},u.prototype.setLogServer=function(e){try{return e.startsWith("wss:")||e.startsWith("ws:")?(this.logType=i.ENUM_REMOTE_TYPE.WEBSOCKET,this.openWebSocketLogServer(e)):e.startsWith("https:")||e.startsWith("http:")?(this.logType=i.ENUM_REMOTE_TYPE.HTTPS,this.openHttpsLogServer(e)):this.logType=i.ENUM_REMOTE_TYPE.DISABLE,!0}catch(e){return!1}},u.prototype.setLogUrlParams=function(e){this.logParams=e},u.prototype.openWebSocketLogServer=function(e){var t=this;this.url!=e&&(this.url=e)&&(this.stopWebSocketServer(),this.logParams.id_name)&&(this.state=i.ENUM_CONNECT_STATE.connecting,e=e+"?product="+this.logParams.product+"&appid="+this.logParams.appid+"&token="+encodeURIComponent(this.logParams.signature)+"&deviceid="+this.logParams.deviceid+"&id_name="+this.logParams.id_name,this.service.createSocket(e),this.service.openHandler((function(){t.service.onPush(),t.service.startCheck(),t.stateCenter.logger.info("zt.rzs.owsls socket open"),t.openHandler()})),this.service.closeHandler((function(e){t.stateCenter.logger.warn("zt.rzs.owsls socket close "+JSON.stringify(e.code||e)),t.state=i.ENUM_CONNECT_STATE.disconnected,t.service.closeSocket()})),this.service.errorHandler((function(e){t.stateCenter.logger.warn("zt.rzs.owsls socket error "+JSON.stringify(e.code||e)),t.state=i.ENUM_CONNECT_STATE.disconnected,t.service.closeSocket()})))},u.prototype.stopWebSocketServer=function(){this.service.closeSocket()},u.prototype.openHttpsLogServer=function(e){(this.url=e)&&this.stopHttpsServer()},u.prototype.stopHttpsServer=function(){this.logUploadTimer&&(clearInterval(this.logUploadTimer),this.logUploadTimer=null)},u.prototype.SendHttpsLog=function(e,t,n,r){this.env===i.ZEGO_ENV.BROWSER?this.SendHttpsLogWeb(e,t,n,r):this.SendHttpsLogWeChatMini(e,t,n,r)},u.prototype.SendHttpsLogWeb=function(e,t,n,r){var o=this,i=(e=JSON.stringify({body:{data:e}}),new XMLHttpRequest);i.onreadystatechange=function(){if(4==i.readyState)if(200==i.status){if(0!=i.responseText.length)try{var e=JSON.parse(i.responseText).interval;"number"==typeof e&&o.logUploadInterval!==e&&o.openHttpsLogServer(o.url),n&&n()}catch(e){r&&r()}}else r&&r()},i.open("POST",this.url,!0),i.send(e)},u.prototype.SendHttpsLogWeChatMini=function(e,t,n,r){var o=this;e={appid:this.logParams.appid+"",timestamp:(new Date).getTime()+"",token:this.logParams.signature,id_name:this.logParams.id_name,product:this.logParams.product,message_id:++this.msgID,req_sdk:1,s:JSON.stringify({speed_detail:e})},wx.request({url:this.url,data:JSON.stringify(e),method:"POST",success:function(e){0!=e.data.length&&("number"==typeof(e=e&&e.data&&e.data.interval)&&o.logUploadInterval!==e&&o.openHttpsLogServer(o.url),n)&&n()},fail:function(e){r&&r()}})},u.prototype.openHandler=function(){this.state=i.ENUM_CONNECT_STATE.connected,this.startReport()},u.prototype.setPostSucCallback=function(e,t){this.postSucCallbackList[e]=t},u.prototype.setPostFailCallback=function(e,t){this.postFailCallbackList[e]=t},u.prototype.reportAllowed=function(){return this.packageLen<this.PACKAGE_MAX_LEN},u.prototype.report=function(e,t,n,r){this.packageLen++,this.packagesDataSize+=t,this.reportQueue.enqueue({reportDatas:e,dataLen:t,product:n}),this.netWorkFail=!1,this.failCount=0,this.failStartTime=0,this.startReport(r)},u.prototype.setBps=function(e){this.tokenBucket=new s.TokenBucket(c.BUCKET_CONFIG.bucketSize,e/8,"sec")},u.prototype.startReport=function(e){var t,n,r,o,a=this;this.logType===i.ENUM_REMOTE_TYPE.WEBSOCKET&&this.state===i.ENUM_CONNECT_STATE.disconnected?(o=this.url,this.url="",this.setLogServer(o)):0<this.reportQueue.size()&&(o=this.reportQueue.dequeue(),t=o.reportDatas,n=o.dataLen,r=o.product,o=new Date,e?this.sendReport(t,n,r):this.tokenBucket.removeTokens(n,(function(){a.sendReport(t,n,r)})))},u.prototype.sendReport=function(e,t,n){var r=this;this.reportData(e,t,n,(function(){r.failCount=0,r.failStartTime=0,r.packageLen--,r.packagesDataSize-=t,r.postSucCallbackList[n]&&r.postSucCallbackList[n](e,t,n)}),(function(o){r.reportQueue.enqueue({reportDatas:e,dataLen:t,product:n}),r.failCount++,1==r.failCount&&(r.failStartTime=Date.now());var i,a=(Date.now()-r.failStartTime)/1e3;r.failCount>=c.FAIL_COUNT&&a>c.FAIL_TIME||r.failCount>=c.FAIL_MAX_COUNT?(r.netWorkFail=!0,i=r.decodeReportQueue(),Object.keys(r.postFailCallbackList).forEach((function(e){r.postFailCallbackList[n](i[e])}))):r.startReport()}))},u.prototype.resumeReport=function(){!0===this.netWorkFail&&this.networkState===i.ENUM_NETWORK_STATE.online&&(this.netWorkFail=!1,this.startReport())},u.prototype.reportData=function(e,t,n,r,o){var a=this,s=[];e.forEach((function(e){s.push(e.packagedContent)})),this.logType==i.ENUM_REMOTE_TYPE.WEBSOCKET?this.networkState!==i.ENUM_NETWORK_STATE.offline?this.service.sendMessage("report",s,r,(function(e){var t;a.state===i.ENUM_CONNECT_STATE.disconnected&&e===i.SOCKET_DISCONNECT&&(t=a.url,a.url="",a.setLogServer(t)),o&&o(e)})):o&&o(i.errorList.BROKEN):this.logType==i.ENUM_REMOTE_TYPE.HTTPS&&this.SendHttpsLog(s,t,r,(function(){o&&o()}))},u.prototype.unsigned2signed=function(e){var t=parseInt(e,10);if(256<t)return t%256;for(var n=[];0<t;)t%2!=0?n.push(1):n.push(0),t=Number(t/2);for(n.reverse();n.length<8;)n.unshift(0);var r="";if(1==(n=n.join("")).substr(0,1)){for(var o=1;o<n.length;o++)1==n.substr(o,1)?r+=0:r+=1;return"-"+(parseInt(r,2)+1)}for(o=0;o<n.length;o++)r+=n.substr(o,1);return parseInt(r,2)},u.prototype.decodeReportQueue=function(){for(var e={},t=this.reportQueue.size(),n=0;n<t;n++){var r,i=(r=this.reportQueue.dequeue()).reportDatas,a=r.dataLen;e[r=r.product]||(e[r]=[]),e[r]=o(e[r],i),this.reportQueue.enqueue({reportDatas:i,dataLen:a,product:r})}return e},u.prototype.readReportQueueData=function(){for(var e=[],t=this.reportQueue.size(),n=0;n<t;n++){var r=this.reportQueue.dequeue(),i=r.reportDatas;r.dataLen,r.product,e.push.apply(e,o(i))}return e},t.ZegoService=n=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogService=void 0;var r=n(30),o=n(5),i=n(1);function a(e,t,n,o){this.env=e,this.product=t,this.pro=n,this.stateCenter=o,this.service=new r.ZegoSocketService(this.env,this.product,this.pro,this.stateCenter),this.cmdSeq=0,this.responseRouters={}}a.prototype.handleSendCommandMsgRsp=function(e){var t,n,r=this,o=this.service.sendCommandMap[e.messageId||(null==(t=null==e?void 0:e.data)?void 0:t.message_id)];null!=o&&(n=o._data,delete this.service.sendCommandMap[e.messageId||(null==(t=null==e?void 0:e.data)?void 0:t.message_id)],this.service.sendCommandList.remove(o),0===e.code?setTimeout((function(){n&&null!=n.success&&n.success(e,r.cmdSeq)}),0):setTimeout((function(){n&&null!=n.error&&n.error(e,r.cmdSeq)}),0))},a.prototype.onPush=function(){var e=this;this.service.onMessage=function(t){e.handleSendCommandMsgRsp(t)}},a.prototype.closeHandler=function(e){this.service.closeHandler(e)},a.prototype.openHandler=function(e){this.service.openHandler(e)},a.prototype.errorHandler=function(e){this.service.errorHandler(e)},a.prototype.getHeader=function(e){return{Protocol:"req",cmd:e,appid:123,seq:++this.cmdSeq,session_id:""}},a.prototype.startCheck=function(){this.service.startCheck()},a.prototype.stopCheck=function(){this.service.stopCheck()},a.prototype.isDisConnect=function(){return!this.service||this.service.isDisConnect()},a.prototype.createSocket=function(e){this.service.createSocket(e),this.responseRouters={}},a.prototype.closeSocket=function(){this.service.closeSocket()},a.prototype.sendMessage=function(e,t,n,r,a,s){return this.service.isDisConnect()?(r&&r(i.SOCKET_DISCONNECT),0):(e=a||this.getHeader(e),this.service.sendMessage(e,t,n,r,{timeOut:1e3*o.DEFAULT_CONFIG.netTimeout}))},a.prototype.on=function(e,t){this.responseRouters[e]=t},t.LogService=n=a},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=(Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoSocketService=void 0,n(31)),i=n(1),a=n(32);function s(e,t,n,r){this.product=t,this.pro=n,this.stateCenter=r,this.socket=null,this.sendCommandList=new i.LinkedList,this.sendCommandMap={},this.sendDataCheckOnceCount=100,this.sendDataDropTimeout=3e4,this.sendDataCheckInterval=2e3,this.ENV=e}s.prototype.createSocket=function(e){this.socket=o.createZegoWebSocket(e,this.ENV),this.socket.binaryType="arraybuffer"},s.prototype.closeSocket=function(){this.socket&&(this.socket.onclose=null,this.socket.onerror=null,this.socket.close(),this.socket=null)},s.prototype.isDisConnect=function(){return!this.socket||1!==this.socket.readyState},s.prototype.sendMessage=function(e,t,n,o,i){void 0===n&&(n=null),void 0===o&&(o=null),void 0===i&&(i={timeOut:6e3});var s=r(r({},this.stateCenter.processData),{time_upload:Date.now()});return n={data:s={message_id:e.seq,product:this.product,s:JSON.stringify({speed_detail:t,process:s})},seq:e.seq,deleted:!1,sendTime:Date.parse(new Date+""),timeOut:i.timeOut,success:n,error:o},o=this.sendCommandList.push(n),this.sendCommandMap[n.seq]=o,this.socket&&"pb"!==this.pro&&(this.stateCenter._log.debug("upload data",JSON.stringify(s)),s=a.deflate(JSON.stringify(s),{to:"string"}),this.socket.send(s)),e.seq},s.prototype.checkSendMessageList=function(e){for(var t=e.getFirst();null!=t;)e.remove(t),t._data&&t._data.error&&setTimeout((function(){t&&t._data&&t._data.error&&t._data.error(i.errorList.TIMEOUT,t._data.data.message_id,t._data.data.s)}),0),t=e.getFirst()},s.prototype.checkMessageListTimeout=function(e,t){for(var n=e.getFirst(),r=Date.parse(new Date+""),o=0;!(null==n||n._data&&n._data.sendTime+n._data.timeOut>r||(n._data&&delete t[n._data.data.message_id],e.remove(n),n._data&&null==n._data.error||n._data&&n._data.sendTime+this.sendDataDropTimeout<r||n&&n._data&&n._data.error&&n._data.error(i.errorList.TIMEOUT,n._data.data.message_id,n._data.data.s),++o>=this.sendDataCheckOnceCount));)n=e.getFirst()},s.prototype.startCheck=function(){var e=this;this.checkMessageListTimeout(this.sendCommandList,this.sendCommandMap),this.sendDataCheckTimer=setTimeout((function(){e.startCheck()}),this.sendDataCheckInterval)},s.prototype.stopCheck=function(){this.checkSendMessageList(this.sendCommandList),clearTimeout(this.sendDataCheckTimer)},s.prototype.openHandler=function(e){var t=this;this.socket&&(this.socket.onopen=function(n){t.responseHandler(),e(n)})},s.prototype.responseHandler=function(){var e=this;this.socket&&(this.socket.onmessage=function(t){t="string"==typeof t.data?JSON.parse(t.data):JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t.data))),e.onMessage(t)})},s.prototype.closeHandler=function(e){this.socket&&(this.socket.onclose=function(t){e(t)})},s.prototype.errorHandler=function(e){this.socket&&(this.socket.onerror=e)},s.prototype.onMessage=function(e){},t.ZegoSocketService=n=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createZegoWebSocket=t.ZegoWeiXinMiniWebSocket=void 0;var r=n(1),o=(i.prototype.init=function(){var e=this;this._websocket&&(this.readyState=0,this._websocket.onOpen((function(t){e.readyState=e._websocket.readyState,"function"==typeof e.onopen&&(e.onopen(t),e._websocket.onClose((function(t){e.readyState=e._websocket.readyState,"function"==typeof e.onclose&&e.onclose(t)})),e._websocket.onMessage((function(t){"function"==typeof e.onmessage&&e.onmessage(t)})))})),this._websocket.onError((function(t){e.readyState=e._websocket.readyState,"function"==typeof e.onerror&&e.onerror(t)})))},i.prototype.onopen=function(e){},i.prototype.onerror=function(e){},i.prototype.onclose=function(e){},i.prototype.onmessage=function(e){},i.prototype.send=function(e){this._websocket&&this._websocket.send({data:e})},i.prototype.close=function(){this._websocket&&this._websocket.close()},i);function i(e,t){this.url=e,this.readyState=3,this._websocket=wx.connectSocket({url:e}),this.init()}t.ZegoWeiXinMiniWebSocket=o,t.createZegoWebSocket=function(e,t){return new(t===r.ZEGO_ENV.BROWSER?WebSocket:o)(e)}},function(e,t,n){!function(e){"use strict";function t(e){for(var t=e.length;0<=--t;)e[t]=0}var n=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),r=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),o=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),i=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=new Array(576),s=(t(a),new Array(60)),c=(t(s),new Array(512)),u=(t(c),new Array(256)),l=(t(u),new Array(29));t(l);var p,d,h,f=new Array(30);function g(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}function m(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function y(e){for(var t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function _(e){8<e.bi_valid?N(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function v(e,t,n,r){var o=2*t,i=2*n;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]}function O(e,t,o){var i,a,s,c,p=0;if(0!==e.last_lit)for(;i=e.pending_buf[e.d_buf+2*p]<<8|e.pending_buf[e.d_buf+2*p+1],a=e.pending_buf[e.l_buf+p],p++,0==i?W(e,a,t):(s=u[a],W(e,s+256+1,t),0!==(c=n[s])&&(a-=l[s],F(e,a,c)),s=A(--i),W(e,s,o),0!==(c=r[s])&&(i-=f[s],F(e,i,c))),p<e.last_lit;);W(e,256,t)}function C(e,t){var n,r,o,i=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<c;n++)0!==i[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(o=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[o]=0,e.opt_len--,s&&(e.static_len-=a[2*o+1]);for(t.max_code=u,n=e.heap_len>>1;1<=n;n--)B(e,i,n);for(o=c;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],B(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*o]=i[2*n]+i[2*r],e.depth[o]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=o,e.heap[1]=o++,B(e,i,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1];for(var l,p,d,h,f,g=e,m=t.dyn_tree,y=t.max_code,_=t.stat_desc.static_tree,v=t.stat_desc.has_stree,O=t.stat_desc.extra_bits,C=t.stat_desc.extra_base,b=t.stat_desc.max_length,S=0,E=0;E<=15;E++)g.bl_count[E]=0;for(m[2*g.heap[g.heap_max]+1]=0,l=g.heap_max+1;l<573;l++)(E=m[2*m[2*(p=g.heap[l])+1]+1]+1)>b&&(E=b,S++),m[2*p+1]=E,y<p||(g.bl_count[E]++,h=0,C<=p&&(h=O[p-C]),f=m[2*p],g.opt_len+=f*(E+h),v&&(g.static_len+=f*(_[2*p+1]+h)));if(0!==S){do{for(E=b-1;0===g.bl_count[E];)E--}while(g.bl_count[E]--,g.bl_count[E+1]+=2,g.bl_count[b]--,0<(S-=2));for(E=b;0!==E;E--)for(p=g.bl_count[E];0!==p;)(d=g.heap[--l])>y||(m[2*d+1]!==E&&(g.opt_len+=(E-m[2*d+1])*m[2*d],m[2*d+1]=E),p--)}V(i,u,e.bl_count)}function b(e,t,n){var r,o,i=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=t[2*(r+1)+1],++s<c&&o===a||(s<u?e.bl_tree[2*o]+=s:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,i=o,u=(s=0)===a?(c=138,3):o===a?(c=6,3):(c=7,4))}function S(e,t,n){var r,o,i=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),r=0;r<=n;r++)if(o=a,a=t[2*(r+1)+1],!(++s<c&&o===a)){if(s<u)for(;W(e,o,e.bl_tree),0!=--s;);else 0!==o?(o!==i&&(W(e,o,e.bl_tree),s--),W(e,16,e.bl_tree),F(e,s-3,2)):s<=10?(W(e,17,e.bl_tree),F(e,s-3,3)):(W(e,18,e.bl_tree),F(e,s-11,7));i=o,u=(s=0)===a?(c=138,3):o===a?(c=6,3):(c=7,4)}}function E(e,t,n,r){F(e,0+(r?1:0),3),r=t,t=n,_(n=e),N(n,t),N(n,~t),n.pending_buf.set(n.window.subarray(r,r+t),n.pending),n.pending+=t}function T(e,t,n,r){var o=H,i=r+n;e^=-1;for(var a=r;a<i;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}function P(e,t){return e.msg=Y[t],t}function I(e){return(e<<1)-(4<e?9:0)}function D(e){var t=e.state,n=t.pending;0!==(n=n>e.avail_out?e.avail_out:n)&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending)&&(t.pending_out=0)}function w(e,t){X(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,D(e.strm)}function M(e,t){e.pending_buf[e.pending++]=t}function R(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function k(e,t){var n,r,o=e.max_chain_length,i=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-ge?e.strstart-(e.w_size-ge):0,u=e.window,l=e.w_mask,p=e.prev,d=e.strstart+258,h=u[i+a-1],f=u[i+a];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===f&&u[n+a-1]===h&&u[n]===u[i]&&u[++n]===u[i+1]){for(i+=2,n++;u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&i<d;);if(r=258-(d-i),i=d-258,a<r){if(e.match_start=t,s<=(a=r))break;h=u[i+a-1],f=u[i+a]}}}while((t=p[t&l])>c&&0!=--o);return a<=e.lookahead?a:e.lookahead}function L(e,t){for(var n,r;;){if(e.lookahead<ge){if(_e(e),e.lookahead<ge&&t===Q)return 1;if(0===e.lookahead)break}if(n=0,3<=e.lookahead&&(e.ins_h=ye(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-ge&&(e.match_length=k(e,n)),3<=e.match_length)if(r=Z(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&3<=e.lookahead){for(e.match_length--;e.strstart++,e.ins_h=ye(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ye(e,e.ins_h,e.window[e.strstart+1]);else r=Z(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(w(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===te?(w(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(w(e,!1),0===e.strm.avail_out)?1:2}function G(e,t){for(var n,r,o;;){if(e.lookahead<ge){if(_e(e),e.lookahead<ge&&t===Q)return 1;if(0===e.lookahead)break}if(n=0,3<=e.lookahead&&(e.ins_h=ye(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ge&&(e.match_length=k(e,n),e.match_length<=5)&&(e.strategy===ue||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2),3<=e.prev_length&&e.match_length<=e.prev_length){for(o=e.strstart+e.lookahead-3,r=Z(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=o&&(e.ins_h=ye(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(w(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=Z(e,0,e.window[e.strstart-1]))&&w(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Z(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===te?(w(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(w(e,!1),0===e.strm.avail_out)?1:2}t(f);var A=function(e){return e<256?c[e]:c[256+(e>>>7)]},N=function(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},F=function(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,N(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},W=function(e,t,n){F(e,n[2*t],n[2*t+1])},x=function(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1},V=function(e,t,n){for(var r,o=new Array(16),i=0,a=1;a<=15;a++)o[a]=i=i+n[a-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=x(o[s]++,s))}},B=function(e,t,n){for(var r=e.heap[n],o=n<<1;o<=e.heap_len&&(o<e.heap_len&&v(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!v(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r},U=!1,j=E,z=function(e,t,n,r){for(var o=65535&e|0,i=e>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;i=i+(o=o+t[r++]|0)|0,--a;);o%=65521,i%=65521}return o|i<<16|0},H=new Uint32Array(function(){for(var e=[],t=0;t<256;t++){for(var n=t,r=0;r<8;r++)n=1&n?3988292384^n>>>1:n>>>1;e[t]=n}return e}()),Y={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},K={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},q=j,X=function(e,t,n,r){var o,c,u,l=0;if(0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){for(var t=4093624447,n=0;n<=31;n++,t>>>=1)if(1&t&&0!==e.dyn_ltree[2*n])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(n=32;n<256;n++)if(0!==e.dyn_ltree[2*n])return 1;return 0}(e)),C(e,e.l_desc),C(e,e.d_desc),l=function(e){var t;for(b(e,e.dyn_ltree,e.l_desc.max_code),b(e,e.dyn_dtree,e.d_desc.max_code),C(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*i[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(c=e.static_len+3+7>>>3)<=o&&(o=c)):o=c=n+5,n+4<=o&&-1!==t)E(e,t,n,r);else if(4===e.strategy||c===o)F(e,2+(r?1:0),3),O(e,a,s);else{F(e,4+(r?1:0),3);var p=e,d=(t=e.l_desc.max_code+1,n=e.d_desc.max_code+1,l+1);for(F(p,t-257,5),F(p,n-1,5),F(p,d-4,4),u=0;u<d;u++)F(p,p.bl_tree[2*i[u]+1],3);S(p,p.dyn_ltree,t-1),S(p,p.dyn_dtree,n-1),O(e,e.dyn_ltree,e.dyn_dtree)}y(e),r&&_(e)},Z=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(u[n]+256+1)]++,e.dyn_dtree[2*A(t)]++),e.last_lit===e.lit_bufsize-1},J=function(e){F(e,2,3),W(e,256,a),16===(e=e).bi_valid?(N(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)},Q=K.Z_NO_FLUSH,$=K.Z_PARTIAL_FLUSH,ee=K.Z_FULL_FLUSH,te=K.Z_FINISH,ne=K.Z_BLOCK,re=K.Z_OK,oe=K.Z_STREAM_END,ie=K.Z_STREAM_ERROR,ae=K.Z_DATA_ERROR,se=K.Z_BUF_ERROR,ce=K.Z_DEFAULT_COMPRESSION,ue=K.Z_FILTERED,le=K.Z_HUFFMAN_ONLY,pe=K.Z_RLE,de=K.Z_FIXED,he=K.Z_UNKNOWN,fe=K.Z_DEFLATED,ge=262,me=function(e){for(var t=e.length;0<=--t;)e[t]=0},ye=function(e,t,n){return(t<<e.hash_shift^n)&e.hash_mask},_e=function(e){var t,n,r,o,i,a,s,c,u,l=e.w_size;do{if(c=e.window_size-e.lookahead-e.strstart,e.strstart>=l+(l-ge)){for(e.window.set(e.window.subarray(l,l+l),0),e.match_start-=l,e.strstart-=l,e.block_start-=l,t=n=e.hash_size;r=e.head[--t],e.head[t]=l<=r?r-l:0,--n;);for(t=n=l;r=e.prev[--t],e.prev[t]=l<=r?r-l:0,--n;);c+=l}if(0===e.strm.avail_in)break;if(i=e.strm,a=e.window,s=e.strstart+e.lookahead,c=c,u=void 0,n=0===(u=(u=i.avail_in)>c?c:u)?0:(i.avail_in-=u,a.set(i.input.subarray(i.next_in,i.next_in+u),s),1===i.state.wrap?i.adler=z(i.adler,a,u,s):2===i.state.wrap&&(i.adler=T(i.adler,a,u,s)),i.next_in+=u,i.total_in+=u,u),e.lookahead+=n,3<=e.lookahead+e.insert)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=ye(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=ye(e,e.ins_h,e.window[o+3-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<ge&&0!==e.strm.avail_in)};function ve(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}var Oe=[new ve(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(_e(e),0===e.lookahead&&t===Q)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,w(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-ge&&(w(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===te?(w(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(w(e,!1),e.strm.avail_out),1)})),new ve(4,4,8,4,L),new ve(4,5,16,8,L),new ve(4,6,32,32,L),new ve(4,4,16,16,G),new ve(8,16,32,32,G),new ve(8,16,128,128,G),new ve(8,32,128,256,G),new ve(32,128,258,1024,G),new ve(32,258,258,4096,G)];function Ce(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=fe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),me(this.dyn_ltree),me(this.dyn_dtree),me(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),me(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),me(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var be=function(e){if(!e||!e.state)return P(e,ie);e.total_in=e.total_out=0,e.data_type=he;var t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=Q,function(e){if(!U){for(var t,i,_,v=new Array(16),O=0,C=0;C<28;C++)for(l[C]=O,t=0;t<1<<n[C];t++)u[O++]=C;for(u[O-1]=C,C=_=0;C<16;C++)for(f[C]=_,t=0;t<1<<r[C];t++)c[_++]=C;for(_>>=7;C<30;C++)for(f[C]=_<<7,t=0;t<1<<r[C]-7;t++)c[256+_++]=C;for(i=0;i<=15;i++)v[i]=0;for(t=0;t<=143;)a[2*t+1]=8,t++,v[8]++;for(;t<=255;)a[2*t+1]=9,t++,v[9]++;for(;t<=279;)a[2*t+1]=7,t++,v[7]++;for(;t<=287;)a[2*t+1]=8,t++,v[8]++;for(V(a,287,v),t=0;t<30;t++)s[2*t+1]=5,s[2*t]=x(t,5);p=new g(a,n,257,286,15),d=new g(s,r,0,30,15),h=new g(new Array(0),o,0,19,7),U=!0}e.l_desc=new m(e.dyn_ltree,p),e.d_desc=new m(e.dyn_dtree,d),e.bl_desc=new m(e.bl_tree,h),e.bi_buf=0,e.bi_valid=0,y(e)}(t),re};function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){}for(var Ee=new Uint8Array(256),Te=0;Te<256;Te++)Ee[Te]=252<=Te?6:248<=Te?5:240<=Te?4:224<=Te?3:192<=Te?2:1;function Pe(e){for(var t,n,r,o,i=e.length,a=0,s=0;s<i;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<i&&56320==(64512&(r=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(r-56320),s++),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),s=o=0;o<a;s++)55296==(64512&(n=e.charCodeAt(s)))&&s+1<i&&56320==(64512&(r=e.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(r-56320),s++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t}function Ie(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}Ee[254]=Ee[254]=1;var De=Object.prototype.toString,we=K.Z_NO_FLUSH,Me=K.Z_SYNC_FLUSH,Re=K.Z_FULL_FLUSH,ke=K.Z_FINISH,Le=K.Z_OK,Ge=K.Z_STREAM_END,Ae=K.Z_DEFAULT_COMPRESSION,Ne=K.Z_DEFAULT_STRATEGY,Fe=K.Z_DEFLATED;function We(e){this.options=function(e){for(var t,n,r=Array.prototype.slice.call(arguments,1);r.length;){var o=r.shift();if(o){if("object"!==Se(o))throw new TypeError(o+"must be non-object");for(var i in o)t=o,n=i,Object.prototype.hasOwnProperty.call(t,n)&&(e[i]=o[i])}}return e}({level:Ae,method:Fe,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ne},e||{});var t,n=((e=this.options).raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ie,this.strm.avail_out=0,function(e,t,n,r,o,i){if(!e)return ie;var a=1;if(t===ce&&(t=6),r<0?(a=0,r=-r):15<r&&(a=2,r-=16),o<1||9<o||n!==fe||r<8||15<r||t<0||9<t||i<0||de<i)return P(e,ie);8===r&&(r=9);var s=new Ce;return(e.state=s).strm=e,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=o+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<o+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=+s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=i,s.method=n,(r=be(a=e))===re&&((a=a.state).window_size=2*a.w_size,me(a.head),a.max_lazy_match=Oe[a.level].max_lazy,a.good_match=Oe[a.level].good_length,a.nice_match=Oe[a.level].nice_length,a.max_chain_length=Oe[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=2,a.match_available=0,a.ins_h=0),r}(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy));if(n!==Le)throw new Error(Y[n]);if(e.header&&(r=this.strm,t=e.header,r&&r.state&&2===r.state.wrap&&(r.state.gzhead=t)),e.dictionary){var r="string"==typeof e.dictionary?Pe(e.dictionary):"[object ArrayBuffer]"===De.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary;if((n=function(e,t){var n=t.length;if(!e||!e.state)return ie;var r=e.state,o=r.wrap;if(2===o||1===o&&42!==r.status||r.lookahead)return ie;1===o&&(e.adler=z(e.adler,t,n,0)),r.wrap=0,n>=r.w_size&&(0===o&&(me(r.head),r.strstart=0,r.block_start=0,r.insert=0),(i=new Uint8Array(r.w_size)).set(t.subarray(n-r.w_size,n),0),t=i,n=r.w_size);var i=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,_e(r);3<=r.lookahead;){for(var c=r.strstart,u=r.lookahead-2;r.ins_h=ye(r,r.ins_h,r.window[c+3-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++,--u;);r.strstart=c,r.lookahead=2,_e(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=s,e.avail_in=i,r.wrap=o,re}(this.strm,r))!==Le)throw new Error(Y[n]);this._dict_set=!0}}function xe(e,t){if((t=new We(t)).push(e,!0),t.err)throw t.msg||Y[t.err];return t.result}function Ve(e,t){return(t=t||{}).raw=!0,xe(e,t)}function Be(e,t){return(t=t||{}).gzip=!0,xe(e,t)}We.prototype.push=function(e,t){var n,r,o,i,a=this.strm,s=this.options.chunkSize;if(this.ended)return!1;for(r=t===~~t?t:!0===t?ke:we,"string"==typeof e?a.input=Pe(e):"[object ArrayBuffer]"===De.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;;)if(0===a.avail_out&&(a.output=new Uint8Array(s),a.next_out=0,a.avail_out=s),(r===Me||r===Re)&&a.avail_out<=6)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else{if((n=function(e,t){var n,r;if(!e||!e.state||ne<t||t<0)return e?P(e,ie):ie;var o=e.state;if(!e.output||!e.input&&0!==e.avail_in||666===o.status&&t!==te)return P(e,0===e.avail_out?se:ie);o.strm=e;var i=o.last_flush;if(o.last_flush=t,42===o.status&&(2===o.wrap?(e.adler=0,M(o,31),M(o,139),M(o,8),o.gzhead?(M(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),M(o,255&o.gzhead.time),M(o,o.gzhead.time>>8&255),M(o,o.gzhead.time>>16&255),M(o,o.gzhead.time>>24&255),M(o,9===o.level?2:o.strategy>=le||o.level<2?4:0),M(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(M(o,255&o.gzhead.extra.length),M(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(e.adler=T(e.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69):(M(o,0),M(o,0),M(o,0),M(o,0),M(o,0),M(o,9===o.level?2:o.strategy>=le||o.level<2?4:0),M(o,3),o.status=113)):(a=fe+(o.w_bits-8<<4)<<8,a|=(o.strategy>=le||o.level<2?0:o.level<6?1:6===o.level?2:3)<<6,0!==o.strstart&&(a|=32),a+=31-a%31,o.status=113,R(o,a),0!==o.strstart&&(R(o,e.adler>>>16),R(o,65535&e.adler)),e.adler=1)),69===o.status)if(o.gzhead.extra){for(n=o.pending;o.gzindex<(65535&o.gzhead.extra.length)&&(o.pending!==o.pending_buf_size||(o.gzhead.hcrc&&o.pending>n&&(e.adler=T(e.adler,o.pending_buf,o.pending-n,n)),D(e),n=o.pending,o.pending!==o.pending_buf_size));)M(o,255&o.gzhead.extra[o.gzindex]),o.gzindex++;o.gzhead.hcrc&&o.pending>n&&(e.adler=T(e.adler,o.pending_buf,o.pending-n,n)),o.gzindex===o.gzhead.extra.length&&(o.gzindex=0,o.status=73)}else o.status=73;if(73===o.status)if(o.gzhead.name){n=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>n&&(e.adler=T(e.adler,o.pending_buf,o.pending-n,n)),D(e),n=o.pending,o.pending===o.pending_buf_size)){r=1;break}}while(r=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,M(o,r),0!==r);o.gzhead.hcrc&&o.pending>n&&(e.adler=T(e.adler,o.pending_buf,o.pending-n,n)),0===r&&(o.gzindex=0,o.status=91)}else o.status=91;if(91===o.status)if(o.gzhead.comment){n=o.pending;do{if(o.pending===o.pending_buf_size&&(o.gzhead.hcrc&&o.pending>n&&(e.adler=T(e.adler,o.pending_buf,o.pending-n,n)),D(e),n=o.pending,o.pending===o.pending_buf_size)){r=1;break}}while(r=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,M(o,r),0!==r);o.gzhead.hcrc&&o.pending>n&&(e.adler=T(e.adler,o.pending_buf,o.pending-n,n)),0===r&&(o.status=103)}else o.status=103;if(103===o.status&&(o.gzhead.hcrc?(o.pending+2>o.pending_buf_size&&D(e),o.pending+2<=o.pending_buf_size&&(M(o,255&e.adler),M(o,e.adler>>8&255),e.adler=0,o.status=113)):o.status=113),0!==o.pending){if(D(e),0===e.avail_out)return o.last_flush=-1,re}else if(0===e.avail_in&&I(t)<=I(i)&&t!==te)return P(e,se);if(666===o.status&&0!==e.avail_in)return P(e,se);if(0!==e.avail_in||0!==o.lookahead||t!==Q&&666!==o.status){var a=o.strategy===le?function(e,t){for(var n;;){if(0===e.lookahead&&(_e(e),0===e.lookahead)){if(t===Q)return 1;break}if(e.match_length=0,n=Z(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(w(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===te?(w(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(w(e,!1),0===e.strm.avail_out)?1:2}(o,t):o.strategy===pe?function(e,t){for(var n,r,o,i,a=e.window;;){if(e.lookahead<=258){if(_e(e),e.lookahead<=258&&t===Q)return 1;if(0===e.lookahead)break}if(e.match_length=0,3<=e.lookahead&&0<e.strstart&&(r=a[o=e.strstart-1])===a[++o]&&r===a[++o]&&r===a[++o]){for(i=e.strstart+258;r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&o<i;);e.match_length=258-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(3<=e.match_length?(n=Z(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Z(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(w(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===te?(w(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(w(e,!1),0===e.strm.avail_out)?1:2}(o,t):Oe[o.level].func(o,t);if(3!==a&&4!==a||(o.status=666),1===a||3===a)return 0===e.avail_out&&(o.last_flush=-1),re;if(2===a&&(t===$?J(o):t!==ne&&(q(o,0,0,!1),t===ee)&&(me(o.head),0===o.lookahead)&&(o.strstart=0,o.block_start=0,o.insert=0),D(e),0===e.avail_out))return o.last_flush=-1,re}return t===te&&(o.wrap<=0||(2===o.wrap?(M(o,255&e.adler),M(o,e.adler>>8&255),M(o,e.adler>>16&255),M(o,e.adler>>24&255),M(o,255&e.total_in),M(o,e.total_in>>8&255),M(o,e.total_in>>16&255),M(o,e.total_in>>24&255)):(R(o,e.adler>>>16),R(o,65535&e.adler)),D(e),0<o.wrap&&(o.wrap=-o.wrap),0===o.pending))?oe:re}(a,r))===Ge)return 0<a.next_out&&this.onData(a.output.subarray(0,a.next_out)),i=void 0,n=(o=this.strm)&&o.state?42!==(i=o.state.status)&&69!==i&&73!==i&&91!==i&&103!==i&&113!==i&&666!==i?P(o,ie):(o.state=null,113===i?P(o,ae):re):ie,this.onEnd(n),this.ended=!0,n===Le;if(0!==a.avail_out){if(0<r&&0<a.next_out)this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;else if(0===a.avail_in)break}else this.onData(a.output)}return!0},We.prototype.onData=function(e){this.chunks.push(e)},We.prototype.onEnd=function(e){e===Le&&(this.result=function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=e[n].length;for(var o=new Uint8Array(t),i=0,a=0,s=e.length;i<s;i++){var c=e[i];o.set(c,a),a+=c.length}return o}(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var Ue={Deflate:We,deflate:j=xe,deflateRaw:Ve,gzip:Be,constants:K};e.Deflate=We,e.constants=K,e.default=Ue,e.deflate=j,e.deflateRaw=Ve,e.gzip=Be,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";function r(e,t,n,r){if(this.bucketSize=1,this.tokensPerInterval=1,this.interval=1e3,this.parentBucket=null,this.content=0,this.lastDrip=0,this.bucketSize=e,this.tokensPerInterval=t,"string"==typeof n)switch(n){case"sec":case"second":this.interval=1e3;break;case"min":case"minute":this.interval=6e4;break;case"hr":case"hour":this.interval=36e5;break;case"day":this.interval=864e5;break;default:throw new Error("Invaid interval "+n)}else this.interval=n;this.parentBucket=r,this.content=0,this.lastDrip=+new Date}Object.defineProperty(t,"__esModule",{value:!0}),t.TokenBucket=void 0,r.prototype.removeTokens=function(e,t){var n=this;return this.bucketSize?e>this.bucketSize?(setTimeout(t.bind(null,"Requested tokens "+e+" exceeds bucket size "+this.bucketSize,null),0),!1):(this.drip(),e>this.content?r():this.parentBucket?this.parentBucket.removeTokens(e,(function(o,i){return o?t(o,null):e>n.content?r():(n.content-=e,void t(null,Math.min(i,n.content)))})):(this.content-=e,setTimeout(t.bind(null,null,this.content),0),!0)):(setTimeout(t.bind(null,null,e,Number.POSITIVE_INFINITY),0),!0);function r(){var r=Math.ceil((e-n.content)*(n.interval/n.tokensPerInterval));return setTimeout((function(){n.removeTokens(e,t)}),r),!1}},r.prototype.tryRemoveTokens=function(e){return!(this.bucketSize&&(e>this.bucketSize||(this.drip(),e>this.content)||this.parentBucket&&!this.parentBucket.tryRemoveTokens(e)||(this.content-=e,0)))},r.prototype.drip=function(){var e,t;this.tokensPerInterval?(e=+new Date,t=Math.max(e-this.lastDrip,0),this.lastDrip=e,t*=this.tokensPerInterval/this.interval,this.content=Math.min(this.content+t,this.bucketSize)):this.content=this.bucketSize},t.TokenBucket=r},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n=n||Promise)((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var c=[a,s];if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,(c=o?[2&c[0],o.value]:c)[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=0<(o=i.trys).length&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3]))i.label=c[1];else if(6===c[0]&&i.label<o[1])i.label=o[1],o=c;else{if(!(o&&i.label<o[2])){o[2]&&i.ops.pop(),i.trys.pop();continue}i.label=o[2],i.ops.push(c)}}c=t.call(e,i)}catch(s){c=[6,s],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=(Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoStoreHandler=void 0,n(13)),s=n(7),c=n(5),u=i(n(14));function l(e,t,n,r,o,i){this.name=e,this.storeName=t,this.config=n,this.traceType=r,this.staticConfig=o,this.stateCenter=i,this.storeSize=0,this.storeTime=0,this.storeDelPer=c.STORE_SIZE.storeDelPer,this.updateTimeFreq=6e4,this.storeSleepInterval=6e5,this.droping=!1,this.bufferData=[],this.updateTimer=null,this.interSymbol="#",this.drops=[],this.storesKeys="",this.transStores=[],this.store=a.createZegoStore(e,n.env,t),this.commonStore=a.createZegoStore("data_common",n.env,"reporter")}Object.defineProperty(l.prototype,"KEY",{get:function(){return"z_t_"+this.config.appID},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"STORES_KEY",{get:function(){return"z_store_keys"},enumerable:!1,configurable:!0}),l.prototype.init=function(){return r(this,void 0,void 0,(function(){var e,t;return o(this,(function(n){switch(n.label){case 0:return n.trys.push([0,6,,7]),this.setCommonStoreState(),[4,this.transferStoreData()];case 1:return n.sent(),[4,this.commonStore.getItem(this.name+this.interSymbol+this.storeName)];case 2:return(e=n.sent())?[3,4]:(t={storeSize:this.storeSize,lock:0,pros:1},[4,this.commonStore.setItem(this.name+this.interSymbol+this.storeName,t)]);case 3:return n.sent(),[3,5];case 4:t="string"==typeof e?JSON.parse(e):e,this.storeSize=t.storeSize,n.label=5;case 5:return[3,7];case 6:return n.sent(),[3,7];case 7:return[2]}}))}))},l.prototype.uninit=function(){this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)},l.prototype.setCommonStoreState=function(){var e=this,t=(this.getStorage(this.STORES_KEY)||"").split(";");this.transStores=t.filter((function(t){return t.includes(e.config.appID+"")})),t=t.filter((function(t){return!t.includes(e.config.appID+"")})),this.storesKeys=t.join(";")},l.prototype.resetCommonStore=function(){return r(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return e=0<this.storesKeys.length?";":"",this.saveStorage(this.STORES_KEY,this.storesKeys+e+this.name+this.interSymbol+this.storeName),[4,this.commonStore.setItem(this.name+this.interSymbol+this.storeName,{storeSize:this.storeSize,lock:0,pros:0})];case 1:return t.sent(),[2]}}))}))},l.prototype.transferStoreData=function(){return r(this,void 0,void 0,(function(){var e,t,n,i,c=this;return o(this,(function(u){switch(u.label){case 0:return[4,this.commonStore.keys()];case 1:e=u.sent(),t=function(t){var i,u,l,p,d,h,f,g;return o(this,(function(m){switch(m.label){case 0:return(i=e[t])===n.name+n.interSymbol+n.storeName?[3,9]:[4,n.commonStore.getItem(i)];case 1:return(u="string"==typeof(u=m.sent())?JSON.parse(u):u).lock||u.pros&&!n.transStores.includes(i)?[3,9]:(p=i.split(n.interSymbol),l=p[0],p=p[1],[4,(d=a.createZegoStore(l,n.config.env,p)).keys()]);case 2:return 0!=(h=m.sent()).length?[3,3]:[3,8];case 3:return u.lock=1,[4,n.commonStore.setItem(i,u)];case 4:m.sent(),f=function(e){var t,i,a,u,l;return o(this,(function(p){switch(p.label){case 0:return t=h[e],[4,d.getItem(t)];case 1:return i=p.sent(),-1!==t.indexOf("pending")?i&&JSON.parse(i).forEach((function(e){return r(c,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.storeData(e)];case 1:return t.sent(),[2]}}))}))})):(l=s.analyzeKey(t),a=l.level,u=l.timestamp,l=l.seq,n.storeData({level:a,timestamp:u,seq:l,content:i})),setTimeout((function(){return r(c,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,d.removeItem(t)];case 1:return e.sent(),[2]}}))}))}),300),[2]}}))},g=0,m.label=5;case 5:return g<h.length?[5,f(g)]:[3,8];case 6:m.sent(),m.label=7;case 7:return g++,[3,5];case 8:n.drops.push({name:l,storeName:p}),m.label=9;case 9:return[2]}}))},n=this,i=0,u.label=2;case 2:return i<e.length?[5,t(i)]:[3,5];case 3:u.sent(),u.label=4;case 4:return i++,[3,2];case 5:return this.transportStorageData(),setTimeout((function(){return r(c,void 0,void 0,(function(){var e,t,n;return o(this,(function(r){switch(r.label){case 0:e=0,r.label=1;case 1:if(!(e<this.drops.length))return[3,7];n=this.drops[e],t=n.name,n=n.storeName,r.label=2;case 2:return r.trys.push([2,5,,6]),[4,this.dropInstance(t,n)];case 3:return r.sent(),[4,this.commonStore.removeItem(t+this.interSymbol+n)];case 4:case 5:return r.sent(),[3,6];case 6:return e++,[3,1];case 7:return[2]}}))}))}),1e3),[2]}}))}))},l.prototype.dropInstance=function(e,t){return new Promise((function(n,r){u.default.dropInstance({name:e+":"+t}).then((function(){n()})).catch((function(e){r(e)}))}))},l.prototype.setDropCallBack=function(e){this.dropCallBack=e},l.prototype.storeData=function(e){var t=this;return new Promise((function(n,i){return r(t,void 0,void 0,(function(){var t,r,i,a,c,u=this;return o(this,(function(o){switch(o.label){case 0:t=e.level,r=e.timestamp,a=e.seq,i=e.content,a=t+"_"+r+"_"+a,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.store.getItem(a)];case 2:return o.sent()?(n(),[2]):[3,4];case 3:return o.sent(),[3,4];case 4:if(this.droping)return this.bufferData.push(e),[2];if(c=s.calculateMemSize(a)+s.calculateMemSize(i),this.staticConfig.totalDBSize-c<=0)return this.dropDBData(t,a,i).then((function(){u.droping=!1,u.bufferDump()})).catch((function(e){})),n(),[2];o.label=5;case 5:return o.trys.push([5,8,,9]),[4,this.store.setItem(a,i)];case 6:return o.sent(),this.storeSize+=c,this.staticConfig.totalDBSize-=c,[4,this.refreshStoreInfo()];case 7:return o.sent(),n(),[3,9];case 8:return"QuotaExceededError"===o.sent().name&&this.dropDBData(t,a,i).then((function(){u.droping=!1,u.bufferDump()})).catch((function(e){})),[3,9];case 9:return[2]}}))}))}))},l.prototype.loadPendingData=function(){return r(this,void 0,void 0,(function(){var e=this;return o(this,(function(t){switch(t.label){case 0:return[4,this.store.keys()];case 1:return t.sent().forEach((function(t){return r(e,void 0,void 0,(function(){var e,n=this;return o(this,(function(i){switch(i.label){case 0:return-1===t.indexOf("pending")?[3,3]:[4,this.store.getItem(t)];case 1:return(e=i.sent())?(JSON.parse(e).forEach((function(e){return r(n,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.storeData(e)];case 1:return t.sent(),[2]}}))}))})),[4,this.store.removeItem(t)]):[3,3];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))})),[2]}}))}))},l.prototype.storePendingData=function(e){return r(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,this.store.setItem("pending"+(new Date).getTime(),JSON.stringify(e))];case 1:return t.sent(),[2]}}))}))},l.prototype.bufferDump=function(){return r(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return(e=this.bufferData.pop())?[4,this.storeData(e)]:[3,2];case 1:t.sent(),this.bufferDump(),t.label=2;case 2:return[2]}}))}))},l.prototype.dropDBData=function(e,t,n){return r(this,void 0,void 0,(function(){var e=this;return o(this,(function(i){return this.droping=!0,[2,new Promise((function(i,a){return r(e,void 0,void 0,(function(){var e,r,c,u;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,10,,11]),[4,this.store.keys()];case 1:(c=o.sent()).reverse(),e=Math.ceil(c.length*this.storeDelPer),u=0,o.label=2;case 2:return u<e?[4,this.store.getItem(c[u])]:[3,7];case 3:return null==(r=o.sent())?[3,6]:[4,this.store.removeItem(c[u])];case 4:return o.sent(),c=s.calculateMemSize(c[u])+s.calculateMemSize(r),this.staticConfig.totalDBSize+=c,this.storeSize-=c,[4,this.refreshStoreInfo()];case 5:o.sent(),this.dropCallBack(r),o.label=6;case 6:return u++,[3,2];case 7:return[4,this.store.setItem(t,n)];case 8:return o.sent(),this.storeSize+=s.calculateMemSize(t)+s.calculateMemSize(n),[4,this.refreshStoreInfo()];case 9:return o.sent(),i(),[3,11];case 10:return u=o.sent(),a(u),[3,11];case 11:return[2]}}))}))}))]}))}))},l.prototype.removeDataItem=function(e){var t=this;return new Promise((function(n,i){return r(t,void 0,void 0,(function(){var t,r,a,c,u;return o(this,(function(o){switch(o.label){case 0:t=e.level,r=e.timestamp,a=e.seq,e.content,a=t+"_"+r+"_"+a,o.label=1;case 1:return o.trys.push([1,6,,7]),[4,this.store.getItem(a)];case 2:return(c=o.sent())?[4,this.store.removeItem(a)]:[3,5];case 3:return o.sent(),u=1==this.config.env?s.calculateMemSize(JSON.parse(c)):s.calculateMemSize(c),u=s.calculateMemSize(a)+u,this.storeSize-=u,this.staticConfig.totalDBSize+=u,this.traceType.DB_O_DONE+=u,[4,this.refreshStoreInfo()];case 4:o.sent(),n(),o.label=5;case 5:return[3,7];case 6:return u=o.sent(),i(u),[3,7];case 7:return[2]}}))}))}))},l.prototype.refreshStoreInfo=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),[4,this.commonStore.getItem(this.name+this.interSymbol+this.storeName)];case 1:return e.sent()?[4,this.commonStore.setItem(this.name+this.interSymbol+this.storeName,{storeSize:this.storeSize,lock:0,pros:1})]:[3,3];case 2:e.sent(),e.label=3;case 3:return[3,5];case 4:return e.sent(),[3,5];case 5:return[2]}}))}))},l.prototype.readStoreDataItem=function(){var e=this;return new Promise((function(t,n){return r(e,void 0,void 0,(function(){var e,r,i,a;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,this.store.keys()];case 1:return r=o.sent(),[4,this.store.getItem(r[0])];case 2:return a=o.sent(),i=s.analyzeKey(r[0]),e=i.level,r=i.timestamp,i=i.seq,t({level:e,timestamp:r,seq:i,content:a}),[3,4];case 3:return a=o.sent(),n(a),[3,4];case 4:return[2]}}))}))}))},l.prototype.loadDBData=function(e,t,n,i){var a=this;return new Promise((function(c,u){return r(a,void 0,void 0,(function(){var r,a,l,p,d,h,f,g,m,y;return o(this,(function(o){switch(o.label){case 0:return o.trys.push([0,6,,7]),[4,this.store.keys()];case 1:r=o.sent(),a=[],d=p=y=l=0,o.label=2;case 2:return d<r.length?i(r[d])?[3,4]:[4,this.store.getItem(r[d])]:[3,5];case 3:if(null==(m=o.sent()))return[3,4];if(g=s.analyzeKey(r[d]),h=g.level,f=g.timestamp,g=g.seq,a.push({level:h,timestamp:f,seq:g,content:m,key:r[d]}),m=s.calculateMemSize(m),y+=m,e<=(l+=m)&&(l=0,p++),t<=p&&n<=y)return[3,5];o.label=4;case 4:return d++,[3,2];case 5:return c({datas:a,len:y}),[3,7];case 6:return y=o.sent(),u(y),[3,7];case 7:return[2]}}))}))}))},l.prototype.sortKeys=function(e,t){void 0===t&&(t=!1),e.sort((function(e,t){var n=e.split("_");return(t=(t=+(e=t.split("_"))[0]-+n[0])||+e[1]-+n[1])||+e[2]-+n[2]})),t&&e.reverse()},l.prototype.saveStorage=function(e,t){try{localStorage.setItem(e,t)}catch(e){this.stateCenter._log.debug("storage set err")}},l.prototype.getStorage=function(e){try{return localStorage.getItem(e)}catch(e){this.stateCenter._log.debug("storage get err")}},l.prototype.saveDataToStorage=function(e){try{var t=e.level,n=e.timestamp,r=e.seq,o=e.content,i=t+"_"+n+"_"+r;this.saveStorage(this.KEY+"_"+i,o)}catch(e){this.stateCenter._log.debug("saveDataToStorage "+JSON.stringify(e))}},l.prototype.transportStorageData=function(){for(var e=[],t=0;t<localStorage.length;t++){var n,r,o,i,a=localStorage.key(t);this.stateCenter._log.debug("transportStorageData "+a),null!=a&&a.startsWith(this.KEY)&&(o=a.replace(this.KEY+"_",""),n=(i=s.analyzeKey(o)).level,r=i.timestamp,o=i.seq,"string"==typeof(i=this.getStorage(a))&&this.storeData({level:n,timestamp:r,seq:o,content:i}),e.push(a))}setTimeout((function(){for(var t=0;t<e.length;t++)localStorage.removeItem(e[t])}),100)},t.ZegoStoreHandler=n=l},function(e,t,n){"use strict";var r=n(36),o=n(37).Buffer;e.exports=function(e){return function e(t){return function(n){if(o.isBuffer(n))return n.length;switch(typeof n){case"string":return n.length*r.STRING;case"boolean":return r.BOOLEAN;case"number":return r.NUMBER;case"symbol":return Symbol.keyFor&&Symbol.keyFor(n)?Symbol.keyFor(n).length*r.STRING:(n.toString().length-8)*r.STRING;case"object":if(Array.isArray(n))return n.map(e(t)).reduce((function(e,t){return e+t}),0);var i=t,a=n;if(null==a)return 0;for(var s=0,c=function(e){var t,n=[];for(t in e)n.push(t);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(e),Array.prototype.push.apply(n,e)),n}(a),u=0;u<c.length;u++){var l=c[u];if("object"==typeof a[l]&&null!==a[l]){if(i.has(a[l]))continue;i.add(a[l])}s+=e(i)(l);try{s+=e(i)(a[l])}catch(i){i instanceof RangeError&&(s=0)}}return s;default:return 0}}}(new WeakSet)(e)}},function(e,t){e.exports={STRING:2,BOOLEAN:4,NUMBER:8}},function(e,t,n){"use strict";(function(e){var r=n(38),o=n(39),i=n(40);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(e=null===e?new c(t):e).length=t,e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"!=typeof e)return u(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer){var o=e,a=t,u=n;if(a.byteLength,u<0||a.byteLength<u)throw new RangeError("'offset' is out of bounds");if(a.byteLength<u+(r||0))throw new RangeError("'length' is out of bounds");return a=void 0===u&&void 0===r?new Uint8Array(a):void 0===r?new Uint8Array(a,u):new Uint8Array(a,u,r),c.TYPED_ARRAY_SUPPORT?(o=a).__proto__=c.prototype:o=d(o,a),o}if("string"==typeof t){if(u=e,r=t,a=n,c.isEncoding(a="string"==typeof a&&""!==a?a:"utf8"))return(a=(u=s(u,o=0|f(r,a))).write(r,a))!==o?u.slice(0,a):u;throw new TypeError('"encoding" must be a valid string encoding')}var l;n=e,r=t;if(c.isBuffer(r))return 0!==(n=s(n,l=0|h(r.length))).length&&r.copy(n,0,0,l),n;if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||(l=r.length)!=l?s(n,0):d(n,r);if("Buffer"===r.type&&i(r.data))return d(n,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function p(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;var n=(e="string"!=typeof e?""+e:e).length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return w(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return M(e).length;default:if(r)return w(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,(n=(n=isNaN(n)?o?0:e.length-1:n)<0?e.length+n:n)>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(o?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,n):y(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,o){var i=1,a=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a/=i=2,s/=2,n/=2}function c(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(o)for(var u=-1,l=n;l<a;l++)if(c(e,l)===c(t,-1===u?0:l-u)){if(l-(u=-1===u?l:u)+1===s)return u*i}else-1!==u&&(l-=l-u),u=-1;else for(l=n=a<n+s?a-s:n;0<=l;l--){for(var p=!0,d=0;d<s;d++)if(c(e,l+d)!==c(t,d)){p=!1;break}if(p)return l}return-1}function _(e,t,n,r){return R(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function v(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,c,u=e[o],l=null,p=239<u?4:223<u?3:191<u?2:1;if(o+p<=n)switch(p){case 1:u<128&&(l=u);break;case 2:128==(192&(i=e[o+1]))&&127<(c=(31&u)<<6|63&i)&&(l=c);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&2047<(c=(15&u)<<12|(63&i)<<6|63&a)&&(c<55296||57343<c)&&(l=c);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&65535<(c=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)&&c<1114112&&(l=c)}null===l?(l=65533,p=1):65535<l&&(r.push((l-=65536)>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=p}var d=r,h=d.length;if(h<=O)return String.fromCharCode.apply(String,d);for(var f="",g=0;g<h;)f+=String.fromCharCode.apply(String,d.slice(g,g+=O));return f}t.Buffer=c,t.SlowBuffer=function(e){return c.alloc(+(e=+e!=e?0:e))},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol)&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0}),c.alloc=function(e,t,n){return l(e),e<=0||void 0===t?s(null,e):"string"==typeof n?s(null,e).fill(t,n):s(null,e).fill(t)},c.allocUnsafe=function(e){return p(null,e)},c.allocUnsafeSlow=function(e){return p(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);if(void 0===t)for(o=t=0;o<e.length;++o)t+=e[o].length;for(var n=c.allocUnsafe(t),r=0,o=0;o<e.length;++o){var a=e[o];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,r),r+=a.length}return n},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?v(this,0,e):function(e,t,n){var o=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((n=void 0===n||n>this.length?this.length:n)<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":var i=t,a=n,s=this.length;(!a||a<0||s<a)&&(a=s);for(var c,u="",l=i=!i||i<0?0:i;l<a;++l)u+=(c=this[l])<16?"0"+c.toString(16):c.toString(16);return u;case"utf8":case"utf-8":return v(this,t,n);case"ascii":s=t;var p=n,d="";p=Math.min(this.length,p);for(var h=s;h<p;++h)d+=String.fromCharCode(127&this[h]);return d;case"latin1":case"binary":i=t;var f=n,g="";f=Math.min(this.length,f);for(var m=i;m<f;++m)g+=String.fromCharCode(this[m]);return g;case"base64":return _=n,0===(y=t)&&_===this.length?r.fromByteArray(this):r.fromByteArray(this.slice(y,_));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var y=t,_=n,O=this.slice(y,_),C="",b=0;b<O.length;b+=2)C+=String.fromCharCode(O[b]+256*O[b+1]);return C;default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}.apply(this,arguments)},c.prototype.equals=function(e){if(c.isBuffer(e))return this===e||0===c.compare(this,e);throw new TypeError("Argument must be a Buffer")},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n)&&(e+=" ... "),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,o){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),(t=void 0===t?0:t)<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(o<=r&&n<=t)return 0;if(o<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),u=this.slice(r,o),l=e.slice(t,n),p=0;p<s;++p)if(u[p]!==l[p]){i=u[p],a=l[p];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||o<n)&&(n=o),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var i,a,s,c,u=!1;;)switch(r){case"hex":var l,p=e,d=n,h=(l=Number(t)||0,this.length-l);if((!d||h<(d=Number(d)))&&(d=h),(h=p.length)%2!=0)throw new TypeError("Invalid hex string");h/2<d&&(d=h/2);for(var f=0;f<d;++f){var g=parseInt(p.substr(2*f,2),16);if(isNaN(g))return f;this[l+f]=g}return f;case"utf8":case"utf-8":return a=t,s=n,R(w(e,(i=this).length-a),i,a,s);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return _(this,e,t,n);case"base64":return i=this,a=t,s=n,R(M(e),i,a,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h=t,c=n,R(function(e,t){for(var n,r,o=[],i=0;i<e.length&&!((t-=2)<0);++i)n=(r=e.charCodeAt(i))>>8,o.push(r%=256),o.push(n);return o}(e,this.length-h),this,h,c);default:if(u)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),u=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function C(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function b(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<t||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function S(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function E(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function T(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function P(e,t,n,r,i){return i||T(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function I(e,t,n,r,i){return i||T(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(o=this.subarray(e,t)).__proto__=c.prototype;else for(var r=t-e,o=new c(r,void 0),i=0;i<r;++i)o[i]=this[i+e];return o},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e+--t],o=1;0<t&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUInt8=function(e,t){return t||C(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||C(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||C(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return(o*=128)<=r&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=t,o=1,i=this[e+--r];0<r&&(o*=256);)i+=this[e+--r]*o;return(o*=128)<=i&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){return t||C(e,2,this.length),32768&(e=this[e]|this[e+1]<<8)?4294901760|e:e},c.prototype.readInt16BE=function(e,t){return t||C(e,2,this.length),32768&(e=this[e+1]|this[e]<<8)?4294901760|e:e},c.prototype.readInt32LE=function(e,t){return t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||C(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||C(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||C(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||C(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||b(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||b(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;0<=--o&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||b(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||b(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):S(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||b(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):S(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||b(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):E(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||b(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):E(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){e=+e,t|=0,r||b(this,e,t,n,(r=Math.pow(2,8*n-1))-1,-r);var o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){e=+e,t|=0,r||b(this,e,t,n,(r=Math.pow(2,8*n-1))-1,-r);var o=n-1,i=1,a=0;for(this[t+o]=255&e;0<=--o&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||b(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&(e=e<0?255+e+1:e),t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||b(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):S(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||b(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):S(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||b(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):E(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||b(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):E(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return P(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return P(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return I(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return I(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n=n||0,r||0===r||(r=this.length),t>=e.length&&(t=e.length),(r=0<r&&r<n?n:r)===n)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length);var o,i=(r=e.length-t<r-n?e.length-t+n:r)-n;if(this===e&&n<t&&t<r)for(o=i-1;0<=o;--o)e[o+t]=this[o+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){var o;if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length&&(o=e.charCodeAt(0))<256&&(e=o),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(!(n<=t))if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(s=t;s<n;++s)this[s]=e;else for(var i=c.isBuffer(e)?e:w(new c(e,r).toString()),a=i.length,s=0;s<n-t;++s)this[s+t]=i[s%a];return this};var D=/[^+\/0-9A-Za-z-_]/g;function w(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!o){if(56319<n){-1<(t-=3)&&i.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&i.push(239,191,189);continue}o=n;continue}if(n<56320){-1<(t-=3)&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&-1<(t-=3)&&i.push(239,191,189);if(o=null,n<128){if(--t<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function M(e){return r.toByteArray(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(D,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function R(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(6))},function(e,t,n){"use strict";t.byteLength=function(e){var t;return 3*((e=(t=u(e))[0])+(t=t[1]))/4-t},t.toByteArray=function(e){for(var t,n=(r=u(e))[0],r=r[1],a=new i(3*(n+r)/4-r),s=0,c=0<r?n-4:n,l=0;l<c;l+=4)t=o[e.charCodeAt(l)]<<18|o[e.charCodeAt(l+1)]<<12|o[e.charCodeAt(l+2)]<<6|o[e.charCodeAt(l+3)],a[s++]=t>>16&255,a[s++]=t>>8&255,a[s++]=255&t;return 2===r&&(t=o[e.charCodeAt(l)]<<2|o[e.charCodeAt(l+1)]>>4,a[s++]=255&t),1===r&&(t=o[e.charCodeAt(l)]<<10|o[e.charCodeAt(l+1)]<<4|o[e.charCodeAt(l+2)]>>2,a[s++]=t>>8&255,a[s++]=255&t),a},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(function(e,t){for(var n,o=[],i=a;i<t;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),o.push(r[n>>18&63]+r[n>>12&63]+r[n>>6&63]+r[63&n]);return o.join("")}(e,s<a+16383?s:a+16383));return 1==o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2==o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");return[e=-1===(e=e.indexOf("="))?t:e,e===t?0:4-e%4]}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,l=-7,p=n?o-1:0,d=n?-1:1;for(n=e[t+p],p+=d,i=n&(1<<-l)-1,n>>=-l,l+=s;0<l;i=256*i+e[t+p],p+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;0<l;a=256*a+e[t+p],p+=d,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(n?-1:1);a+=Math.pow(2,r),i-=u}return(n?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,c=8*i-o-1,u=(1<<c)-1,l=u>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,h=r?1:-1;for(i=t<0||0===t&&1/t<0?1:0,t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(r=Math.pow(2,-a))<1&&(a--,r*=2),2<=(t+=1<=a+l?p/r:p*Math.pow(2,1-l))*r&&(a++,r/=2),u<=a+l?(s=0,a=u):1<=a+l?(s=(t*r-1)*Math.pow(2,o),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,o),a=0));8<=o;e[n+d]=255&s,d+=h,s/=256,o-=8);for(a=a<<o|s,c+=o;0<c;e[n+d]=255&a,d+=h,a/=256,c-=8);e[n+d-h]|=128*i}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.PendingQueue=void 0,n(1)),a=n(7);function s(e,t,n,r){var o=this;this.levels=e,this.product=t,this.staticConfig=n,this.stateCenter=r,this.byteLength=0,this.size=0,this.pendingDataSize=0,this.cacheMap=new Map,e.forEach((function(e){o.cacheMap.set(e,new i.Queue)}))}s.prototype.enqueue=function(e,t){!(t=this.cacheMap.get(t))||t.all().find((function(t){return t.content==e.content}))||(t.enqueue(e),t=a.calculateMemSize(e.content),this.pendingDataSize+=t,this.size++,this.staticConfig.totalAvailCache-=t,this.enCallback&&this.enCallback(this.byteLength,this.size,this.pendingDataSize))},s.prototype.dequeue=function(e){return e=null==(e=this.cacheMap.get(e))?void 0:e.dequeue(),this.size--,this.deCallback&&this.deCallback(),e},s.prototype.findInQueue=function(e){var t=null==(t=this.cacheMap.get(e.level))?void 0:t.all();return null==t?void 0:t.find((function(t){return t.key===e.key}))},s.prototype.readReportData=function(e){var t=o(this.cacheMap.entries());return e=this.readData(t,e,!0),this.reset(),{totalLen:e.totalLen,reportDataArr:e.resArr}},s.prototype.readStoreData=function(e){var t=Math.ceil(this.pendingDataSize*e);return e=o(this.cacheMap.entries()).reverse(),t=this.readData(e,t,!1),this.refresh(t.totalLen),{totalLen:t.totalLen,storeArr:t.resArr}},s.prototype.readData=function(e,t,n){var o=[],i=0;e:for(var s=0;s<e.length;s++)for(var c=r(e[s],2),u=c[0],l=c[1];l.size();){var p=this.dequeue(u);if(o.push(p),t<(i+=a.calculateMemSize(p.content)))break e}return{totalLen:i,resArr:o}},s.prototype.decodeReportData=function(e){var t=this;e.forEach((function(e){t.enqueue(e,e.level)}))},s.prototype.setListener=function(e){this.enCallback=e.enCallback,this.deCallback=e.deCallback},s.prototype.getPendingDataInfo=function(){return{pendingDataSize:this.pendingDataSize,size:this.size}},s.prototype.refresh=function(e){this.pendingDataSize-=e,this.staticConfig.totalAvailCache+=e},s.prototype.reset=function(){this.byteLength=0},t.PendingQueue=n=s},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n=n||Promise)((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){var c=[a,s];if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,(c=o?[2&c[0],o.value]:c)[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=0<(o=i.trys).length&&o[o.length-1])&&(6===c[0]||2===c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3]))i.label=c[1];else if(6===c[0]&&i.label<o[1])i.label=o[1],o=c;else{if(!(o&&i.label<o[2])){o[2]&&i.ops.pop(),i.trys.pop();continue}i.label=o[2],i.ops.push(c)}}c=t.call(e,i)}catch(s){c=[6,s],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.loadJS=void 0,n(43));function a(e,t,n){return(t=i.decrypt(e,t))&&i.hashMd5(t)===n?t:""}t.loadJS=function(e,t,n,i,s,c,u){var l=this;return new Promise((function(p,d){return r(l,void 0,void 0,(function(){var l,h,f,g,m;return o(this,(function(y){switch(y.label){case 0:if(l="dy",e)return[3,7];y.label=1;case 1:return y.trys.push([1,5,,6]),[4,t.getItem("code")];case 2:return h=y.sent(),[4,t.getItem("key")];case 3:return f=y.sent(),[4,t.getItem("hash")];case 4:g=y.sent();var _=a(h,f,g)||c,v=l,O=u,C=document.getElementsByTagName("HEAD").item(0),b=document.createElement("script");b.language="javascript",b.type="text/javascript",b.id=v,b.param=O;try{b.appendChild(document.createTextNode(_))}catch(v){b.text=_}return C.appendChild(b),p(),[3,6];case 5:return y.sent(),d(),[3,6];case 6:return[2];case 7:if(window.ActiveXObject)try{m=new ActiveXObject("Msxml2.XMLHTTP")}catch(y){m=new ActiveXObject("Microsoft.XMLHTTP")}else window.XMLHttpRequest&&(m=new XMLHttpRequest);return m.open("GET",n,!0),m.send(null),m.onreadystatechange=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:if(4!=m.readyState)return[3,10];if(!(200<=m.status&&m.status<300||0==m.status||304==m.status))return[3,8];e.label=1;case 1:return e.trys.push([1,6,,7]),a(m.responseText,i,s)?[4,t.setItem("code",m.responseText)]:[3,5];case 2:return e.sent(),[4,t.setItem("key",i)];case 3:return e.sent(),[4,t.setItem("hash",s)];case 4:e.sent(),e.label=5;case 5:return p(),[3,7];case 6:return e.sent(),d(),[3,7];case 7:return[2];case 8:return d(),[2];case 9:return[3,11];case 10:case 11:return[2]}}))}))},[2]}}))}))}))}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=(Object.defineProperty(t,"__esModule",{value:!0}),t.hashMd5=t.decrypt=void 0,r(n(15))),i=r(n(45)),a=r(n(50));t.decrypt=function(e,t){var n="";try{n=i.default.decrypt(e,t).toString(a.default)}catch(e){}return n},t.hashMd5=function(e){return o.default(e).toString()}},function(e,t){},function(e,t,n){var r;e.exports=(r=n(0),n(46),n(15),n(16),n(49),function(){for(var e=r,t=e.lib.BlockCipher,n=e.algo,o=[],i=[],a=[],s=[],c=[],u=[],l=[],p=[],d=[],h=[],f=[],g=0;g<256;g++)f[g]=g<128?g<<1:g<<1^283;var m=0,y=0;for(g=0;g<256;g++){var _=y^y<<1^y<<2^y<<3^y<<4,v=(o[m]=_=_>>>8^255&_^99,f[i[_]=m]),O=f[v],C=f[O],b=257*f[_]^16843008*_;a[m]=b<<24|b>>>8,s[m]=b<<16|b>>>16,c[m]=b<<8|b>>>24,u[m]=b,l[_]=(b=16843009*C^65537*O^257*v^16843008*m)<<24|b>>>8,p[_]=b<<16|b>>>16,d[_]=b<<8|b>>>24,h[_]=b,m?(m=v^f[f[f[C^v]]],y^=f[f[y]]):m=y=1}var S=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*(1+(this._nRounds=6+n)),i=this._keySchedule=[],a=0;a<r;a++)a<n?i[a]=t[a]:(u=i[a-1],a%n?6<n&&a%n==4&&(u=o[u>>>24]<<24|o[u>>>16&255]<<16|o[u>>>8&255]<<8|o[255&u]):(u=o[(u=u<<8|u>>>24)>>>24]<<24|o[u>>>16&255]<<16|o[u>>>8&255]<<8|o[255&u],u^=S[a/n|0]<<24),i[a]=i[a-n]^u);for(var s=this._invKeySchedule=[],c=0;c<r;c++){a=r-c;var u=c%4?i[a]:i[a-4];s[c]=c<4||a<=4?u:l[o[u>>>24]]^p[o[u>>>16&255]]^d[o[u>>>8&255]]^h[o[255&u]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,c,u,o)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,l,p,d,h,i),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,o,i,a,s){for(var c=this._nRounds,u=e[t]^n[0],l=e[t+1]^n[1],p=e[t+2]^n[2],d=e[t+3]^n[3],h=4,f=1;f<c;f++){var g=r[u>>>24]^o[l>>>16&255]^i[p>>>8&255]^a[255&d]^n[h++],m=r[l>>>24]^o[p>>>16&255]^i[d>>>8&255]^a[255&u]^n[h++],y=r[p>>>24]^o[d>>>16&255]^i[u>>>8&255]^a[255&l]^n[h++],_=r[d>>>24]^o[u>>>16&255]^i[l>>>8&255]^a[255&p]^n[h++];u=g,l=m,p=y,d=_}g=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[p>>>8&255]<<8|s[255&d])^n[h++],m=(s[l>>>24]<<24|s[p>>>16&255]<<16|s[d>>>8&255]<<8|s[255&u])^n[h++],y=(s[p>>>24]<<24|s[d>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^n[h++],_=(s[d>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&p])^n[h++],e[t]=g,e[t+1]=m,e[t+2]=y,e[t+3]=_},keySize:8});e.AES=t._createHelper(n)}(),r.AES)},function(e,t,n){var r;e.exports=(e=n(0),r=e.lib.WordArray,e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var o=[],i=0;i<n;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,s=0;s<4&&i+.75*s<n;s++)o.push(r.charAt(a>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;o.length%4;)o.push(c);return o.join("")},parse:function(e){var t=e.length,n=this._map;if(!(o=this._reverseMap))for(var o=this._reverseMap=[],i=0;i<n.length;i++)o[n.charCodeAt(i)]=i;for(var a,s,c=n.charAt(64),u=(c&&-1!==(c=e.indexOf(c))&&(t=c),e),l=t,p=o,d=[],h=0,f=0;f<l;f++)f%4&&(a=p[u.charCodeAt(f-1)]<<f%4*2,s=p[u.charCodeAt(f)]>>>6-f%4*2,d[h>>>2]|=(s|=a)<<24-h%4*8,h++);return r.create(d,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.enc.Base64)},function(e,t,n){var r,o,i,a;e.exports=(e=n(0),r=(i=(n=e).lib).WordArray,o=i.Hasher,i=n.algo,a=[],i=i.SHA1=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],s=n[3],c=n[4],u=0;u<80;u++){a[u]=u<16?0|e[t+u]:(l=a[u-3]^a[u-8]^a[u-14]^a[u-16])<<1|l>>>31;var l=(r<<5|r>>>27)+c+a[u];l+=u<20?1518500249+(o&i|~o&s):u<40?1859775393+(o^i^s):u<60?(o&i|o&s|i&s)-1894007588:(o^i^s)-899497514,c=s,s=i,i=o<<30|o>>>2,o=r,r=l}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+s|0,n[4]=n[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(64+r>>>9<<4)]=Math.floor(n/4294967296),t[15+(64+r>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),n.SHA1=o._createHelper(i),n.HmacSHA1=o._createHmacHelper(i),e.SHA1)},function(e,t,n){var r;e.exports=(e=n(0),n=e.lib.Base,r=e.enc.Utf8,void(e.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,o=4*n;(t=t.sigBytes>o?e.finalize(t):t).clamp(),e=this._oKey=t.clone(),t=this._iKey=t.clone();for(var i=e.words,a=t.words,s=0;s<n;s++)i[s]^=1549556828,a[s]^=909522486;e.sigBytes=t.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})))},function(e,t,n){var r,o,i,a,s,c,u,l,p,d,h;function f(e){return"string"==typeof e?h:d}function g(e,t,n){var r,o=this._iv;o?(r=o,this._iv=void 0):r=this._prevBlock;for(var i=0;i<n;i++)e[t+i]^=r[i]}e.exports=(e=n(0),n(16),void(e.lib.Cipher||(e=(n=e).lib,r=e.Base,o=e.WordArray,i=e.BufferedBlockAlgorithm,(l=n.enc).Utf8,a=l.Base64,s=n.algo.EvpKDF,c=e.Cipher=i.extend({cfg:r.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,r){return f(n).encrypt(e,t,n,r)},decrypt:function(t,n,r){return f(n).decrypt(e,t,n,r)}}}}),e.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),u=n.mode={},l=e.BlockCipherMode=r.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),l=u.CBC=((u=l.extend()).Encryptor=u.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;g.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),u.Decryptor=u.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,o=e.slice(t,t+r);n.decryptBlock(e,t),g.call(this,e,t,r),this._prevBlock=o}}),u),u=(n.pad={}).Pkcs7={pad:function(e,t){for(var n=(t*=4)-e.sigBytes%t,r=n<<24|n<<16|n<<8|n,i=[],a=0;a<n;a+=4)i.push(r);t=o.create(i,n),e.concat(t)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},e.BlockCipher=c.extend({cfg:c.cfg.extend({mode:l,padding:u}),reset:function(){c.reset.call(this);var e,t=(n=this.cfg).iv,n=n.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,t&&t.words):(this._mode=e.call(n,this,t&&t.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),p=e.CipherParams=r.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),u=(n.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return(t=(e=e.salt)?o.create([1398893684,1701076831]).concat(e).concat(t):t).toString(a)},parse:function(e){var t,n=a.parse(e);return 1398893684==(e=n.words)[0]&&1701076831==e[1]&&(t=o.create(e.slice(2,4)),e.splice(0,4),n.sigBytes-=16),p.create({ciphertext:n,salt:t})}},d=e.SerializableCipher=r.extend({cfg:r.extend({format:u}),encrypt:function(e,t,n,r){r=this.cfg.extend(r),t=(o=e.createEncryptor(n,r)).finalize(t);var o=o.cfg;return p.create({ciphertext:t,key:n,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),n=(n.kdf={}).OpenSSL={execute:function(e,t,n,r){return r=r||o.random(8),e=s.create({keySize:t+n}).compute(e,r),n=o.create(e.words.slice(t),4*n),e.sigBytes=4*t,p.create({key:e,iv:n,salt:r})}},h=e.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:n}),encrypt:function(e,t,n,r){return n=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize),r.iv=n.iv,(r=d.encrypt.call(this,e,t,n.key,r)).mixIn(n),r},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n=r.kdf.execute(n,e.keySize,e.ivSize,t.salt),r.iv=n.iv,d.decrypt.call(this,e,t,n.key,r)}}))))},function(e,t,n){e.exports=n(0).enc.Utf8},function(e,t,n){"use strict";function r(){this.logLevel=t.ENUM_LOG_LEVEL.DISABLE}Object.defineProperty(t,"__esModule",{value:!0}),t.ZegoLog=t.ENUM_LOG_LEVEL=void 0,t.ENUM_LOG_LEVEL={DEBUG:0,INFO:1,WARN:2,ERROR:3,REPORT:99,DISABLE:100,debug:0,info:1,warn:2,error:3,report:99,disable:100},r.prototype.setLogLevel=function(e){return void 0!==(e=t.ENUM_LOG_LEVEL[e])&&(this.logLevel=e,!0)},r.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.join(" "),this.logLevel!==t.ENUM_LOG_LEVEL.DISABLE&&(this.logLevel,t.ENUM_LOG_LEVEL.DEBUG)},r.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.join(" "),this.logLevel!==t.ENUM_LOG_LEVEL.DISABLE&&(this.logLevel,t.ENUM_LOG_LEVEL.INFO)},r.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.join(" "),this.logLevel!==t.ENUM_LOG_LEVEL.DISABLE&&(this.logLevel,t.ENUM_LOG_LEVEL.INFO)},r.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.join(" "),this.logLevel!==t.ENUM_LOG_LEVEL.DISABLE&&(this.logLevel,t.ENUM_LOG_LEVEL.WARN)},r.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.join(" "),this.logLevel!==t.ENUM_LOG_LEVEL.DISABLE&&(this.logLevel,t.ENUM_LOG_LEVEL.ERROR)},t.ZegoLog=r},function(e,t,n){"use strict";function r(e){this.logger=e,this._log=e}Object.defineProperty(t,"__esModule",{value:!0}),t.StateCenter=void 0,r.prototype.isLogin=function(){return!0},t.StateCenter=r},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e},i=(Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicCode=void 0,n(4));function a(){this.init()}a.prototype.init=function(){window.dyObj={}},a.prototype.runExecution=function(e,t,n){n=new(Function.bind.apply(Function,o([void 0],e,[n])));try{n.apply(void 0,o(t))}catch(e){i.log.error(e)}},t.DynamicCode=n=a}],r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=17))},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),o=n(5),i=n(2),a=n(1),s=n(3),c=(u.prototype.getSeq=function(){return++this.seq},u.prototype.registerListener=function(){var e=this;window.addEventListener("message",(function(t){var n,c,u;if((t=t.data).data)try{if(n=JSON.parse(t.data),"onSendMessageToGameCallback"===t.type){var l=n,p=o.a.getCurrentGame();if(s.a.createSpan(a.g.FromGameInfo,{game_id:p.gameInfo.miniGameId,command:l.command,data:l.data}).end(!0),!e.callbackMap[l.seq])throw new Error(JSON.stringify(Object(i.h)(r.d.SystemModuleSeqNotFounded)));e.callbackMap[l.seq].callback(l),delete e.callbackMap[l.seq]}else"onMessageFromGame"===t.type&&(c=n,u=o.a.getCurrentGame(),s.a.createSpan(a.g.FromGameInfo,{game_id:u.gameInfo.miniGameId,command:c.command,data:c.data}).end(!0),e.eventBus.exec(c.command,c.data,{seq:c.seq,command:c.command}))}catch(t){}}),!1)},u.prototype.request=function(e){var t,n=e.seq||Object(i.f)(this.getSeq()),c=(n=(e.callback&&"function"==typeof e.callback&&(this.callbackMap[n]={command:e.command,callback:e.callback}),{command:e.command,seq:n,code:r.d.Success,data:e.data}),document.querySelector(o.a.getCurrentGame().domId));null!=c&&c.contentWindow&&(t=o.a.getCurrentGame(),s.a.createSpan(a.g.ToGameInfo,{game_id:t.gameInfo.miniGameId,command:e.command,data:e.data}).end(!0),c.contentWindow.postMessage({type:e.gameCallback?"sendMessageFromGameCallback":"sendMessageToGame",data:JSON.stringify(n)},"*"))},u);function u(e){this.seq=0,this.callbackMap={},this.eventBus=e,this.registerListener()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),o.base64encode=function(e){for(var t,n,r,i=e.length,a=0,s="";a<i;){if(t=255&e.charCodeAt(a++),a==i){s=(s+=o.base64EncodeChars.charAt(t>>2))+o.base64EncodeChars.charAt((3&t)<<4)+"==";break}if(n=e.charCodeAt(a++),a==i){s=(s=(s+=o.base64EncodeChars.charAt(t>>2))+o.base64EncodeChars.charAt((3&t)<<4|(240&n)>>4))+o.base64EncodeChars.charAt((15&n)<<2)+"=";break}r=e.charCodeAt(a++),s=(s=(s=(s+=o.base64EncodeChars.charAt(t>>2))+o.base64EncodeChars.charAt((3&t)<<4|(240&n)>>4))+o.base64EncodeChars.charAt((15&n)<<2|(192&r)>>6))+o.base64EncodeChars.charAt(63&r)}return s},o.base64decode=function(e){for(var t,n,r,i,a=e.length,s=0,c="";s<a;){for(;t=o.base64DecodeChars[255&e.charCodeAt(s++)],s<a&&-1==t;);if(-1==t)break;for(;n=o.base64DecodeChars[255&e.charCodeAt(s++)],s<a&&-1==n;);if(-1==n)break;c+=String.fromCharCode(t<<2|(48&n)>>4);do{if(61==(r=255&e.charCodeAt(s++)))return c}while(r=o.base64DecodeChars[r],s<a&&-1==r);if(-1==r)break;c+=String.fromCharCode((15&n)<<4|(60&r)>>2);do{if(61==(i=255&e.charCodeAt(s++)))return c}while(i=o.base64DecodeChars[i],s<a&&-1==i);if(-1==i)break;c+=String.fromCharCode((3&r)<<6|i)}return c},o.utf16to8=function(e){for(var t,n="",r=e.length,o=0;o<r;o++)1<=(t=e.charCodeAt(o))&&t<=127?n+=e.charAt(o):n=2047<t?(n=(n+=String.fromCharCode(224|t>>12&15))+String.fromCharCode(128|t>>6&63))+String.fromCharCode(128|t>>0&63):(n+=String.fromCharCode(192|t>>6&31))+String.fromCharCode(128|t>>0&63);return n},o.utf8to16=function(e){for(var t,n,r,o="",i=e.length,a=0;a<i;)switch((t=e.charCodeAt(a++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=e.charAt(a-1);break;case 12:case 13:n=e.charCodeAt(a++),o+=String.fromCharCode((31&t)<<6|63&n);break;case 14:n=e.charCodeAt(a++),r=e.charCodeAt(a++),o+=String.fromCharCode((15&t)<<12|(63&n)<<6|(63&r)<<0)}return o},o.base64EncodeChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o.base64DecodeChars=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];var r=o;function o(){}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t,n,r,o,i){this.version="",this.domId=e,this.gameMode=t,this.config=n||{},this.gameInfo=r,this.webViewWidth=o,this.webViewHeight=i,this.startTime=Date.now(),this.loadingTime=0,this.loadedTime=0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(8),o=n(6),i=n(4),a=n(2),s=n(1),c=n(3),u=(l.getInstance=function(){return 0===Object.keys(this.instance).length&&i.a.appId&&i.a.gameUserInfo.userId&&(this.instance=new l),this.instance},l.destroyInstance=function(){this.instance={}},l.prototype.connectionInit=function(){this.connectionAgent.init(),this.bindDispatchResultUpdate(),this.bindDisconnected(),this.bindConnected(),this.bindBroken(),this.connectionAgent.setAppInfo({appID:i.a.appId,env:s.h.BROWSER,mode:this.mode}),this.connectionAgent.setUserInfo(i.a.gameUserInfo.userId),this.connectionAgent.setNetAgentDefaultServers(this.accesshubDefaultServers);var e=this.getDispatchServers();this.connectionAgent.setDispatchConnectServers(e)},l.prototype.bindDispatchResultUpdate=function(){this.connectionAgent.on(s.b.DISPATCH_RESULT_UPDATE,(function(e){e&&e.servers&&localStorage.setItem(s.a,JSON.stringify(e.servers))}))},l.prototype.bindDisconnected=function(){this.connectionAgent.on(s.b.DISCONNECTED,(function(e){}))},l.prototype.bindConnected=function(){this.connectionAgent.on(s.b.CONNECTED,(function(e){}))},l.prototype.bindBroken=function(){this.connectionAgent.on(s.b.BROKEN,(function(e){}))},l.prototype.getDispatchServers=function(){var e=localStorage.getItem(s.a),t=[];return e?JSON.parse(e):t},l.prototype.destroyAccesshub=function(){this.connectionAgent.destroyConnect()},l.prototype.unInit=function(){this.connectionAgent.unInit()},l.prototype.isConnected=function(){return this.connectionAgent.isConnect()},l.prototype.request=function(e,t,n){var u=this,l=Object.assign({},t,{mg_token:i.a.token,app_id:i.a.appId,user_id:i.a.gameUserInfo.userId,sdk_version:o.a.getVersion(),device_id:c.a.getDeviceId(),os_type:c.a.systemInfo.system});return new Promise((function(t,o){return function(e,t,n,r){return new(n=n||Promise)((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))}(u,void 0,void 0,(function(){var c,u,p,d,h,f=this;return function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){var u=[s,c];if(n)throw new TypeError("Generator is already executing.");for(;i=a&&u[a=0]?0:i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,(u=o?[2&u[0],o.value]:u)[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=0<(o=i.trys).length&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3]))i.label=u[1];else if(6===u[0]&&i.label<o[1])i.label=o[1],o=u;else{if(!(o&&i.label<o[2])){o[2]&&i.ops.pop(),i.trys.pop();continue}i.label=o[2],i.ops.push(u)}}u=t.call(e,i)}catch(c){u=[6,c],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}(this,(function(g){return h=s.d,c=this.getHeaders(),u=Object(a.g)(l,n),p=i.a.gameUserInfo.userId,d=r.Method.METHOD_POST,h={service:h,headers:c,body:u,ack:!1,idName:p,method_no:d,location:e},this.connectionAgent.startHttpRequest(h,(function(e){t(f.afterRequest(e))}),(function(e){o(e)}),(function(e){}),{timeout:s.e}),[2]}))}))}))},l.prototype.afterRequest=function(e){try{var t=JSON.parse(e.body);return Promise.resolve(Object(a.e)(t))}catch(e){return Promise.reject(e)}},l.prototype.getHeaders=function(){return[{name:"accept-language",val:i.a.language.toString()}]},l.prototype.getDomain=function(){var e=this;return new Promise((function(t){e.connectionAgent.getAppConfigByAgent("init",i.a.token).then((function(e){var n=e.code;e=e.data;0===n&&t(e.app_config.domain)}))}))},l.instance={},l);function l(){this.connectionAgent=new r.ZegoConnectionAgent,this.accesshubDefaultServers=[s.c],this.mode=r.Mode.MODE_ONLINE,this.connectionInit()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),o=n(0),i=n(33),a=(s.prototype.getSeq=function(){return++this.seq},s.prototype.setCloudGameDomId=function(e){this.domId=e},s.prototype.request=function(e){e.seq||(e.seq=Object(r.f)(this.getSeq())),e.callback&&"function"==typeof e.callback&&(this.callbackMap[e.seq]={command:e.command,callback:e.callback}),i.sendMessageToCloudGame(JSON.stringify(e),this.onSendMessageToCloudGameCallback.bind(this))},s.prototype.onSendMessageToCloudGameCallback=function(e){if(!this.callbackMap[e.seq])throw new Error(JSON.stringify(Object(r.h)(o.d.SystemModuleSeqNotFounded)));this.callbackMap[e.seq].callback(e),delete this.callbackMap[e.seq]},s.prototype.onMessageFromCloudGame=function(e){this.eventBus.exec(e.command,e.data,{seq:e.seq,command:e.command})},s);function s(e){this.seq=0,this.domId="",this.callbackMap={},this.eventBus=e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0),o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},a=(s.prototype.on=function(e,t){this.listenerMap.set(e,t)},s.prototype.off=function(e){this.listenerMap.delete(e)},s.prototype.emit=function(e,t){if("function"==typeof(e=this.listenerMap.get(e)))try{e(t)}catch(e){throw e}},s.prototype.add=function(e,t){this.innerEvents[e].push(t)},s.prototype.remove=function(e,t){var n;t?-1!==(n=this.innerEvents[e].findIndex((function(e){return e===t})))&&this.innerEvents[e].splice(n,1):this.innerEvents[e].length=0},s.prototype.exec=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.innerEvents[e].forEach((function(e){return e.apply(void 0,i([],o(t),!1))}))},s);function s(){var e;this.listenerMap=new Map,this.innerEvents=((e={})[r.f.Init]=[],e[r.f.GameLoaded]=[],e[r.f.GameLoading]=[],e[r.f.GameOverDetail]=[],e[r.f.ActionEvents]=[],e[r.f.UserMicChange]=[],e[r.f.UserSpeakerChange]=[],e[r.k.ActionRequest]=[],e[r.k.Destroy]=[],e[r.k.GameOrientation]=[],e[r.k.Language]=[],e[r.k.PlayGameSound]=[],e[r.k.ChangeGameSoundVolume]=[],e[r.k.GameRecharge]=[],e[r.k.GameIntroduction]=[],e[r.k.GetConfig]=[],e[r.k.PlayerPlaying]=[],e[r.k.GameState]=[],e[r.k.GameUploadError]=[],e[r.k.GetRobotSetting]=[],e[r.c.GetGameSetting]=[],e[r.c.GetCustomComponents]=[],e[r.c.RunCustomComponent]=[],e[r.c.GetCustomFunctions]=[],e[r.c.RunCustomFunction]=[],e[r.a.CloudGameFirstFrame]=[],e[r.a.CloudGameError]=[],e)}},function(e,t,n){"use strict";n.r(t),n.d(t,"ZegoMiniGameEngine",(function(){return p}));var r=n(9),o=n(0),i=n(4),a=n(1),s=n(3),c=n(5),u=n(2),l=n(6),p=(d.getInstance=function(){return this.instance},d.getVersion=function(){return l.a.getVersion()},d.prototype.isConnected=function(){return d.isInit},d.prototype.updateToken=function(e){var t=s.a.createSpan(a.g.UpdateToken,{token_hash:r.a.hashStr(e).toString()});i.a.token=e,this.manager.setTokenAlarm(i.a.token),t.end(!0)},d.init=function(e,t,n){var c=this;if(this.isInit)return Promise.reject(Object(u.h)(o.d.ErrorAlreadyInit));if(!n||!n.userId)return Promise.reject(Object(u.h)(o.d.ErrorInvalidUserInfo));if(!t)return Promise.reject(Object(u.h)(o.d.ErrorInvalidToken));if(!e)return Promise.reject(Object(u.h)(o.d.ErrorInvalidParams));i.a.token=t,i.a.gameUserInfo=n,i.a.appId=e,this.instance=new d;var l=s.a.createSpan(a.g.Init,{token_hash:r.a.hashStr(t).toString()});return d.getInstance().manager.login().then((function(e){return l.setAttributes({error:e.code}),e.code===o.d.Success?(c.isInit=!0,c.instance):Promise.reject(Object(u.h)(e.code,e.message))})).catch((function(e){return l.setAttributes({error:e.errorCode||o.d.ErrorUndefinedCode}),Promise.reject(Object(u.h)(e.errorCode||o.d.ErrorUndefinedCode,e.errorCode?e.message:""))})).finally((function(){l.end(!0)}))},d.prototype.unInit=function(){if(!this.isConnected())throw new Error(JSON.stringify(Object(u.h)(o.d.ErrorNotInit)));c.a.currentGameId&&this.unloadGame(!0);var e=s.a.createSpan(a.g.UnInit,{});d.instance=null,this.manager=null,d.isInit=!1,e.setAttributes({error:o.d.Success}),e.end(!0)},d.prototype.getAllGameList=function(){return this.getGameList(0)},d.prototype.getGameList=function(e){var t;return d.getInstance().isConnected()?(t=s.a.createSpan(a.g.GetGameList,{page_size:1e4,page_index:0,game_mode:e}),this.manager.getGameList(0,1e4,e).then((function(e){return t.setAttributes({error:e.code}),e.code===o.d.Success?(t.setAttributes({result_num:e.data.total}),e.data):Promise.reject(Object(u.h)(e.code,e.message))})).finally((function(){t.end(!0)}))):Promise.reject(Object(u.h)(o.d.ErrorNotInit))},d.prototype.getGameInfo=function(e){var t;return d.getInstance().isConnected()?(t=s.a.createSpan(a.g.GetGameInfo,{game_id:e}),e?this.manager.getGameInfo(e).then((function(e){return t.setAttributes({error:e.code}),e.code===o.d.Success?e.data:Promise.reject(Object(u.h)(e.code,e.message))})).finally((function(){t.end(!0)})):(t.setAttributes({error:o.d.ErrorInvalidGameId}),t.end(!0),Promise.reject(Object(u.h)(o.d.ErrorInvalidGameId)))):Promise.reject(Object(u.h)(o.d.ErrorNotInit))},d.prototype.createGameRoom=function(e,t,n,r,i,c){var l;return d.getInstance().isConnected()?(l=s.a.createSpan(a.g.CreateGameRoom,{game_id:e,room_id:t,max_player_num:n,game_coin:r,tax_type:i,tax_rate:c}),e?t?n<=0||r<=0?(l.setAttributes({error:o.d.ErrorInvalidParams}),l.end(!0),Promise.reject(Object(u.h)(o.d.ErrorInvalidParams))):this.manager.createGameRoom(e,t,n,r,i,c).then((function(e){return l.setAttributes({error:e.code}),e.code===o.d.Success||Promise.reject(Object(u.h)(e.code,e.message))})).finally((function(){l.end(!0)})):(l.setAttributes({error:o.d.ErrorInvalidRoomId}),l.end(!0),Promise.reject(Object(u.h)(o.d.ErrorInvalidRoomId))):(l.setAttributes({error:o.d.ErrorInvalidGameId}),l.end(!0),Promise.reject(Object(u.h)(o.d.ErrorInvalidGameId)))):Promise.reject(Object(u.h)(o.d.ErrorNotInit))},d.prototype.closeGameRoom=function(e,t){var n;return d.getInstance().isConnected()?(n=s.a.createSpan(a.g.CloseGameRoom,{game_id:e,room_id:t}),e?t?this.manager.closeGameRoom(e,t).then((function(e){return n.setAttributes({error:e.code}),e.code===o.d.Success||Promise.reject(Object(u.h)(e.code,e.message))})).finally((function(){n.end(!0)})):(n.setAttributes({error:o.d.ErrorInvalidRoomId}),n.end(!0),Promise.reject(Object(u.h)(o.d.ErrorInvalidRoomId))):(n.setAttributes({error:o.d.ErrorInvalidRoomId}),n.end(!0),Promise.reject(Object(u.h)(o.d.ErrorInvalidGameId)))):Promise.reject(Object(u.h)(o.d.ErrorNotInit))},d.prototype.setGameContainer=function(e){var t=Object(u.d)(e);return t&&(this.manager.domId=e),t},d.prototype.loadGame=function(e,t,n){var r;return void 0===n&&(n={}),d.getInstance().isConnected()?(r=s.a.createSpan(a.g.LoadGame,{game_id:e,dom_id:this.manager.domId,room_id:n.roomId,game_mode:t,is_custom_play_sound:n.customPlaySound||!1,language:i.a.language,option:n}),Object(u.d)(this.manager.domId)?t!==o.h.GameModeHostsGame||n.roomId?n.minGameCoin&&n.minGameCoin<0?(r.setAttributes({error:o.d.ErrorInvalidParams}),r.end(!0),Promise.reject(Object(u.h)(o.d.ErrorInvalidParams))):this.manager.loadGame(e,t,n,r).finally((function(){r.end(!0)})):(r.setAttributes({error:o.d.ErrorInvalidRoomId}),r.end(!0),Promise.reject(Object(u.h)(o.d.ErrorInvalidRoomId))):(r.setAttributes({error:o.d.ErrorIframeIsNotFound}),r.end(!0),Promise.reject(Object(u.h)(o.d.ErrorIframeIsNotFound)))):Promise.reject(Object(u.h)(o.d.ErrorNotInit))},d.prototype.unloadGame=function(e){void 0===e&&(e=!1);var t=s.a.createSpan(a.g.UnloadGame,{});this.manager.unloadGame(e,t).then((function(e){if(t.setAttributes({error:e.code}),e.code!==o.d.Success)return Promise.reject(Object(u.h)(e.code,e.message))})).finally((function(){t.end(!0)}))},d.prototype.startGame=function(e,t,n){var r=s.a.createSpan(a.g.startGame,{game_config:e,user_list:t,robot_list:n});return this.manager.startGame(t,n,e,r).then((function(e){return r.setAttributes({error:e.code}),e.code===o.d.Success||Promise.reject(Object(u.h)(e.code,e.message))})).finally((function(){r.end(!0)}))},d.prototype.enableGameVibrate=function(e){this.manager.setGameSetting({settingType:o.m.VibrateState,settingValue:e?o.l.Open:o.l.Close})},d.prototype.muteGameSoundEffect=function(e){this.manager.setGameSetting({settingType:o.m.SoundEffectsState,settingValue:e?o.l.Close:o.l.Open})},d.prototype.muteGameMusic=function(e){this.manager.setGameSetting({settingType:o.m.BGMState,settingValue:e?o.l.Close:o.l.Open})},d.prototype.setGameSoundEffectVolume=function(e){if(e<0||100<e)throw new Error(JSON.stringify(Object(u.h)(o.d.ErrorInvalidParams)));this.manager.setGameSetting({settingType:o.m.SoundEffectsRange,settingValue:e+""})},d.prototype.setGameMusicVolume=function(e){if(e<0||100<e)throw new Error(JSON.stringify(Object(u.h)(o.d.ErrorInvalidParams)));this.manager.setGameSetting({settingType:o.m.BGMRange,settingValue:e+""})},d.prototype.getGameMusicSwitch=function(){return this.manager.getGameSetting(o.m.BGMState).then((function(e){return!!e}))},d.prototype.getGameMusicVolume=function(){return this.manager.getGameSetting(o.m.BGMRange).then((function(e){return+e}))},d.prototype.getGameSoundEffectSwitch=function(){return this.manager.getGameSetting(o.m.SoundEffectsState).then((function(e){return!!e}))},d.prototype.getGameSoundEffectVolume=function(){return this.manager.getGameSetting(o.m.SoundEffectsRange).then((function(e){return+e}))},d.prototype.getGameVibrateSwitch=function(){return this.manager.getGameSetting(o.m.VibrateState).then((function(e){return!!e}))},d.prototype.setGameLanguage=function(e){i.a.language=e||o.n.zh_CN},d.prototype.refreshGameCoin=function(){var e=s.a.createSpan(a.g.RefreshCoin,{});this.manager.refreshGameCoin(e),e.end(!0)},d.prototype.getGameComponentList=function(){var e=s.a.createSpan(a.g.GetGameComponentList,{});return this.manager.getGameComponentList(e).finally((function(){e.end(!0)}))},d.prototype.getGameFunctionList=function(){var e=s.a.createSpan(a.g.GetGameFunctionList,{});return this.manager.getGameFunctionList(e).finally((function(){e.end(!0)}))},d.prototype.setGameComponent=function(e,t){var n=s.a.createSpan(a.g.SetGameComponent,{component:e,visible:t});return this.manager.setGameComponent(e,t,n).finally((function(){n.end(!0)}))},d.prototype.runGameFunction=function(e){var t=s.a.createSpan(a.g.RunGameFunction,{function:e});return this.manager.runGameFunction(e,t).finally((function(){t.end(!0)}))},d.prototype.refreshToken=function(){return d.getInstance().manager.refreshToken().then((function(e){return e})).catch((function(e){}))},d.prototype.startCloudGame=function(e,t,n){return d.getInstance().manager.startCloudGame(e,t,n)},d.prototype.stopCloudGame=function(e,t){return d.getInstance().manager.stopCloudGame(e,t)},d.prototype.setCloudGameContainer=function(e){var t=Object(u.c)(e);return t&&this.manager.setCloudGameContainer(e),t},d.prototype.startPublishCloudGameStream=function(e,t,n){return d.getInstance().manager.startPublishCloudGameStream(e,t,n)},d.prototype.stopPublishCloudGameStream=function(e,t,n){return d.getInstance().manager.stopPublishCloudGameStream(e,t,n)},d.prototype.setStreamProfile=function(e){return d.getInstance().manager.setStreamProfile(e)},d.prototype.setPlayVolume=function(e){return d.getInstance().manager.setPlayVolume(e)},d.prototype.getPlayVolume=function(){return d.getInstance().manager.getPlayVolume()},d.prototype.sendKeyboardEvent=function(e){return d.getInstance().manager.sendKeyboardEvent(e)},d.prototype.on=function(e,t){var n=s.a.createSpan(a.g.On,{type:e});d.getInstance().manager&&d.getInstance().manager.on(e,t),n.end(!0)},d.prototype.off=function(e){var t=s.a.createSpan(a.g.Off,{type:e});d.getInstance().manager&&d.getInstance().manager.off(e),t.end(!0)},d.isInit=!1,d);function d(){this.manager=new l.a}t.default=p},function(e,t,n){"use strict";n.r(t),n.d(t,"sendMessageToCloudGame",(function(){return l})),n(34),n(35);let r="",o=0,i=1,a=null,s=null,c="",u={};function l(e,t){try{var n=JSON.parse(e);switch(r=n.command,o=n.seq,u[n.seq]={command:n.command,callback:t},n.command){case"zego_cloud_game_init":i=n.data.cloudType,c=n.data.container,async function(e){switch(i){case 1:g("mount-point"),TCGSDK.init({appid:e,mount:"mount-point",defaultCursorImgUrl:"",debugSetting:{showLog:!0},loadingText:"",onConnectSuccess:async e=>{},onConnectFail:async e=>{-3===e.code?e.code=8210010:-2===e.code?e.code=8210011:-1===e.code?e.code=8210012:e.code=8210013,h(e)},onDisconnect:e=>{var t;0===e.code?(t={command:"zego_cloud_game_destroy",seq:o,data:{...e}},u[o].callback(t)):(-2===e.code?e.code=8210020:-1===e.code?e.code=8210021:1===e.code?e.code=8210022:2===e.code&&(e.code=8210023),h(e))},onWebrtcStatusChange:e=>{var t;0===e.code?(t={command:"zego_cloud_game_start",seq:o,data:{code:0,msg:"start game success!"}},u[o].callback(t)):(-2===e.code?e.code=8210030:-1===e.code?e.code=8210031:1===e.code?e.code=8210032:2===e.code?e.code=8210033:3===e.code?e.code=8210034:4===e.code?e.code=8210035:5===e.code?e.code=8210036:6===e.code?e.code=8210037:7===e.code?e.code=8210038:100===e.code?e.code=8210039:225===e.code&&(e.code=8210040),h(e))},onTouchEvent:async e=>{var t,n,r,o;1===e.length&&(({id:o,type:r,pageX:t,pageY:n}=e.pop()),TCGSDK.mouseMove(o,r,t,n),"touchstart"===r&&TCGSDK.sendMouseEvent({type:"mouseleft",down:!0}),"touchend"!==r&&"touchcancel"!==r||TCGSDK.sendMouseEvent({type:"mouseleft",down:!1})),2===e.length&&([{pageX:o,pageY:t},{pageX:n,pageY:r}]=e,e=Math.ceil(Math.abs(o-n)),o=Math.ceil(Math.abs(t-r)),a=a||e,s=s||o,a&&e-a<0&&s&&o-s<0&&(TCGSDK.sendMouseEvent({type:"mousescroll",delta:1}),a=e,s=o),a)&&0<e-a&&s&&0<o-s&&(TCGSDK.sendMouseEvent({type:"mousescroll",delta:-1}),a=e,s=o)},onInitSuccess:async e=>{0===e.code?p({code:0,msg:"ok",clientSession:TCGSDK.getClientSession(),bizData:"",node:""}):-1===e.code&&(e.code=8210050,p(e))},onEvent:async e=>{"autoplay"===e.type&&f({command:"zego_cloud_game_first_frame",data:{code:8210001,msg:"first frame rendering successful!"}})}});break;case 4:{g("gameVideo");var{width:t,height:n}=document.querySelector("body").getBoundingClientRect();window.WLCG=WLCG=new WelinkCloudGame({id:"gameVideo",videoWidth:t||1,videoHeight:n||1,videoPoster:"",IspUrl:"https://jpaas-ks.vlinkcloud.net",mouseShortcut:192,lockPoint:!1,enableClipBoard:!0,rotate:0,tenantKey:"1710947139900805121"}),WLCG.startGameInfo=(e,t)=>{6038===e&&(e={command:"zego_cloud_game_start",seq:o,data:{code:0,msg:"start game success!"}},u[o].callback(e),f({command:"zego_cloud_game_first_frame",data:{code:8210001,msg:"first frame rendering successful!"}}))},WLCG.startGameError=(e,t)=>{h({code:"822"+e,msg:t})},window.WLCG.init();const e=WLCG.getBizData();await async function(){return new Promise((e,t)=>{WLCG.getNode(t=>{t&&t.nodeResult?e(t.nodeResult.nodeId):e("1001994")},t=>{e("1001994")})})}().then(t=>{p({code:0,msg:"ok",clientSession:"",bizData:e,node:t})});break}}}(n.data.appid);break;case"zego_cloud_game_start":!async function(e){switch(i){case 1:TCGSDK.start(e.serverSession);break;case 4:WLCG.startGame(e.sdkMsg)}}(n.data);break;case"zego_cloud_game_destroy":switch(i){case 1:TCGSDK.getInitOptions().mount?TCGSDK.destroy():d(r,821e4,"SDK 未初始化");break;case 4:try{WLCG.exitGame(),d(r,0,"主动关闭")}catch(e){d(r,821e4,"SDK 未初始化")}}break;case"zego_cloud_game_set_stream_profile":_=n.data,TCGSDK.setStreamProfile(_);break;case"zego_cloud_game_set_video_volume":var l=n.data;TCGSDK.setVideoVolume(l.value),l=l.value,l={command:"zego_cloud_game_set_video_volume",seq:o,data:{value:l,msg:"设置成功"}},u[o].callback(l);break;case"zego_cloud_game_send_keyboard_event":var m=n.data.key;switch(i){case 1:TCGSDK.sendKeyboardEvent({key:m,down:!0}),setTimeout(()=>{TCGSDK.sendKeyboardEvent({key:m,down:!1})},200);break;case 4:WLCG.onKeyBoardEvent(m,WLCG.KEY_DOWN),setTimeout(()=>{WLCG.onKeyBoardEvent(m,WLCG.KEY_UP)},200)}break;case"zego_cloud_game_video_volume":y=TCGSDK.getVideoVolume(),y={command:"zego_cloud_game_video_volume",seq:o,data:{value:y}},u[o].callback(y)}}catch(e){}var y,_}function p(e){e={command:"zego_cloud_game_init",seq:o,data:{...e}},u[o].callback(e)}function d(e,t,n){e={command:e,seq:o,data:{code:t,msg:n}},u[o].callback(e)}function h(e){f({command:"zego_cloud_game_err",data:{...e}})}function f(e){try{ZegoMiniGameEngine.getInstance().manager.cloudGameConnect.onMessageFromCloudGame(e)}catch(e){}}function g(e){var t=document.getElementById(e),n=document.querySelector(c);(t=(t&&n.removeChild(t),document.createElement("div"))).id=e,t.style.flex=1,n.appendChild(t)}},function(e,t,n){self,e.exports=(()=>{return t={11:(e,t,n)=>{"use strict";n.d(t,{C8:()=>s,EP:()=>c,G0:()=>h,IW:()=>d,L6:()=>g,YB:()=>f,hZ:()=>p,j4:()=>a,zj:()=>u});var r=n(175);let o,i,a=2007,s=2008,c=2009,u=2010,l={},p=()=>{let e=null,t=[],n=window.mozRequestAnimationFrame||window.requestAnimationFrame,a=window.mozCancelAnimationFrame||window.cancelAnimationFrame,s={};const c=()=>navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():[];o=()=>{u()},i=t=>{c().every(e=>null===e)&&a(e),delete s[t.gamepad.index]},window.addEventListener("gamepadconnected",o),window.addEventListener("gamepaddisconnected",i);let u=()=>{var o=c();if(o)for(let e=0;e<o.length;e++)if(o[e]){var i=o[e].index;if("standard"!==o[e].mapping){s[i]||(s[i]=1);break}delete s[i],l[i]=o[e]}var a,p=l;for(a in p){var d={buttons:[],axes:[]},h=p[a],f=h.id.toLowerCase();for(let e=0;e<h.buttons.length;e++){let n,o=h.buttons[e],i=o.touched?1:0,s=[4096,8192,16384,32768,256,512,255,255,32,16,64,128,1,2,4,8,0];-1!=f.indexOf("wireless controller")&&(s=[4096,8192,16384,32768,256,512,255,255,32,16,64,128,1,2,4,8,0,0]),n=6==e?"OP_XINPUT_LEFT_TRIGGER":7==e?"OP_XINPUT_RIGHT_TRIGGER":"OP_XINPUT_BUTTONS",t&&t[a]?t[a].buttons[e]!=i&&(o.touched?(0,r.r9)(s[e],n,a,s[e]):(0,r.r9)(0,n,a,s[e])):o.touched&&(0,r.r9)(s[e],n,a,s[e]),d.buttons[e]=i}var g=h.axes,m=Math.round(32767*g[0]),y=Math.round(-32767*g[1]),_=Math.round(32767*g[2]);g=Math.round(-32767*g[3]);t&&t[a]?(t[a].axes[0]!=m&&(0,r.r9)(m,"OP_XINPUT_THUMB_LX",a),t[a].axes[1]!=y&&(0,r.r9)(y,"OP_XINPUT_THUMB_LY",a),t[a].axes[2]!=_&&(0,r.r9)(_,"OP_XINPUT_THUMB_RX",a),t[a].axes[3]!=g&&(0,r.r9)(g,"OP_XINPUT_THUMB_RY",a)):(0!=m&&(0,r.r9)(m,"OP_XINPUT_THUMB_LX",a),0!=y&&(0,r.r9)(y,"OP_XINPUT_THUMB_LY",a),0!=_&&(0,r.r9)(_,"OP_XINPUT_THUMB_RX",a),0!=g&&(0,r.r9)(g,"OP_XINPUT_THUMB_RY",a)),d.axes=[m,y,_,g,0],t[a]=d}e=null,e=n(u)}},d=(e,t,n)=>{2011==n?(0,r.r9)(+t,"OP_XINPUT_BUTTONS",e,+t):(0,r.r9)(0,"OP_XINPUT_BUTTONS",e,+t)},h=(e,t,n,o)=>{t==a&&((0,r.r9)(n,"OP_XINPUT_THUMB_LX",e),(0,r.r9)(o,"OP_XINPUT_THUMB_LY",e)),t==s&&((0,r.r9)(n,"OP_XINPUT_THUMB_RX",e),(0,r.r9)(o,"OP_XINPUT_THUMB_RY",e)),t==c&&(0,r.r9)(n,"OP_XINPUT_LEFT_TRIGGER",e),t==u&&(0,r.r9)(o,"OP_XINPUT_RIGHT_TRIGGER",e)};const f=()=>{window.removeEventListener("gamepadconnected",o),window.removeEventListener("gamepaddisconnected",i),o=null,i=null,l={}},g=(e,t)=>{var n;l[e]&&l[e].vibrationActuator&&l[e].vibrationActuator.playEffect&&"string"==typeof t&&(t=t.split("|"),n=parseInt(t[0])||0,t=parseInt(t[1])||0,e=l[e].vibrationActuator,0===n&&0===t?e.playEffect("dual-rumble",{duration:0,weakMagnitude:0,strongMagnitude:0}):e.playEffect("dual-rumble",{duration:5e3,weakMagnitude:n/65535,strongMagnitude:t/65535}))}},814:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>s,if:()=>a,r_:()=>o,zN:()=>i});const r={NOT_LEGAL:{code:6520,type:"WARN"},DATACHANNEL_OPENED:{code:6521,type:"INFO",msg:(0,(t=n(753)).Z)("codes_data_channel_open")},DATACHANNEL_CLOSED:{code:6522,msg:(0,t.Z)("codes_data_channel_closed")},DATACHANNEL_ERROR:{code:6523,type:"ERROR",msg:(0,t.Z)("codes_data_channel_abnormal")},HAS_APPLY_START_UP:{code:6530,msg:(0,t.Z)("codes_requested_the_server")},SERVER_READY_FOR_GAME:{code:6531,type:"INFO",msg:(0,t.Z)("codes_the_server_is")},SERVER_HANDLE_ARCHIVE:{code:6532,type:"INFO",msg:(0,t.Z)("codes_the_server_is_2")},SERVER_START_GAME:{code:6533,type:"INFO",msg:(0,t.Z)("codes_start_the_game")},SERVER_START_GAME_LOADING:{code:6534,msg:(0,t.Z)("codes_the_server_game")},SWITCH_BITRATE_FAILED:{code:6541,type:"ERROR",msg:(0,t.Z)("codes_failed_to_switch")},CURRENT_BITRATE:{code:6600,type:"INFO"},FIRST_VIDEO_FRAME_RECEIVED:{code:6038,type:"INFO",msg:(0,t.Z)("codes_the_game_starts")},FIRST_AUDIO_FRAME_RECEIVED:{code:6094,type:"INFO",msg:(0,t.Z)("codes_the_first_frame")},INIT_PARAM_NOT_EXIST:{code:6100,type:"ERROR"},INIT_PARAM_PARSE_FAILED:{code:6104,type:"ERROR",msg:(0,t.Z)("codes_initialization_parameter_parsing")},SERVER_RESOLUTION_RATIO:{code:6112,type:"INFO"},GET_NETWORK_OPERATOR_FAILED:{code:6506,type:"ERROR",msg:(0,t.Z)("codes_failed_to_get")},SERVER_CONNECT_FAILED:{code:6041,type:"ERROR",msg:(0,t.Z)("codes_server_connection_failed")},FIRST_SERVER_CONNECT_FAILED:{code:6071,type:"ERROR"},SERVER_CONNECT_SUCCESS:{code:6042,type:"INFO",msg:(0,t.Z)("codes_server_connection_successful")},SERVER_CONNECT_TIMEOUT:{code:6043,type:"ERROR",msg:(0,t.Z)("codes_server_connection_timed")},FIRST_SERVER_CONNECT_TIMEOUT:{code:6044,type:"ERROR",notThrow:!0},NO_INPUT_NOTIFY:{code:6066},CLIPBOARD_DATA_FROM_SERVER:{code:6084},AUDIO_NACK_COUNT:{code:6091},SERVER_MESSAGE:{code:6113},EXIT_GAME:{code:6118,type:"INFO",msg:(0,t.Z)("codes_call_exitgame_to"),notThrow:1},FRAME_DROP_COUNT:{code:6093},SEND_DATA_CONFIRM:{code:6125,type:"INFO",notThrow:1},SEND_DATA_TOO_LARGE:{code:6121,type:"ERROR"},VIDEO_STREAM_SIZE:{code:6117,type:"INFO"},ON_PAUSE_OR_RESUME:{code:6124,type:"INFO",notThrow:1},SIGNAL_SUCCESS:{code:6502,type:"INFO",msg:(0,t.Z)("codes_the_signaling_channel")},SIGNAL_FAILD:{code:6503,type:"ERROR",msg:(0,t.Z)("codes_signaling_channel_connection")},SERVER_REQUEST_ENABLE:{code:6505,type:"INFO",msg:(0,t.Z)("codes_remote_management_server")},CONNECT_FAILED:{code:6075,type:"ERROR",msg:(0,t.Z)("codes_the_game_server")},IMAGE_TRANS:{code:6078},FIRST_CONNECT_FAILED:{code:6072,type:"ERROR"},START_RECONNECT:{code:6105,msg:(0,t.Z)("codes_game_disconnected_reconnecting")},RECONNECT_FAILD:{code:6106,type:"ERROR",msg:(0,t.Z)("codes_reconnection_failed")},RECONNECT_SUCCESS:{code:6107,msg:(0,t.Z)("codes_reconnected_successful")},SPEED_TIMEOUT:{code:6017,type:"ERROR",msg:(0,t.Z)("codes_the_network_delay")},SPEED_NO_NODE:{code:6018,type:"ERROR",msg:(0,t.Z)("codes_no_speed_test")},SPEED_OFFLINE:{code:6114,msg:(0,t.Z)("codes_no_network_failed")},SPEED_NO_NODE_LIST:{code:6116,type:"ERROR",msg:(0,t.Z)("codes_failed_to_get_2")},SPEED_CND_SWITCH:{code:6127,type:"INFO",msg:(0,t.Z)("codes_switch_speed_cdn"),notThrow:!0},SPEED_DOWNLOAD_FAIL:{code:6128,type:"ERROR",msg:(0,t.Z)("codes_non200_status_code"),notThrow:!0},SPEED_BANDWIDTH_ZERO:{code:6131,type:"ERROR",msg:(0,t.Z)("codes_the_bandwidth_testis"),notThrow:!0},SPEED_BANDWIDTH_END:{code:6132,type:"INFO",notThrow:!0},SPEED_PING_NEGATIVE:{code:6137,type:"ERROR",msg:(0,t.Z)("codes_network_delay_is")},AUDIO_PERMISSION_FAIL:{code:6190},RECEIVED_IME:{code:6077,type:"INFO"},CLOSE_IME:{code:6088,type:"INFO"},GET_GAME_NODE_LOG:{code:6140,type:"INFO",notThrow:!0},GET_GAME_NODE_FAIL:{code:6141,msg:(0,t.Z)("codes_both_master_and"),notThrow:!0},AFTER_GET_GN_ALL_NODE_IS_NULL:{code:6142,type:"ERROR",notThrow:!0},OPEN_URL:{code:6079,type:"INFO"},AUDIO_CHANNEL_SWITCH:{code:6412,type:"INFO"},QUEUE_SDKMSG_CHECK_FAIL:{code:6619,type:"INFO",notThrow:!0},QUEUE_TIMEOUT_FAIL:{code:6620,type:"INFO",notThrow:!0},QUEUE_CANCEL_FAIL:{code:6621,type:"INFO",notThrow:!0},RECONNECT_FAILD_NEW:{code:6064,type:"ERROR",msg:(0,t.Z)("codes_reconnection_failure_due")},NETWORK_CONDITION:{code:6087,type:"INFO"},TOTAL_SPEED_TIME:{code:6604,type:"INFO",notThrow:!0},ALL_TENANT_NODE_TIME:{code:6605,type:"INFO",notThrow:!0},GAMEID_NODE_TIME:{code:6607,type:"INFO",notThrow:!0},PING_TIME:{code:6609,type:"INFO",notThrow:!0},HANDLE_SPEED_API:{code:6612,type:"INFO",notThrow:!0},KEY_CODE_MAP_NOT_FOUND:{code:6542,type:"ERROR",notThrow:!0},RELAUNCHGAME_START:{code:6319,type:"INFO",notThrow:!0},RELAUNCHGAME_SUCCESS:{code:6319,type:"INFO"},RELAUNCHGAME_FAIL:{code:6319,type:"ERROR"},AUDIO_STATUS:{code:6085,type:"INFO",notThrow:!0},SPEED_LIST_INFO:{code:6625,type:"INFO",notThrow:!0},SET_GAME_RESOLUTION:{code:6426,type:"INFO",notThrow:!0},WECHAT_AUTOPLAY_FAILED:{code:6536,type:"INFO",msg:""}},o={},i=(Object.keys(r).forEach(e=>{var t=r[e];t.notThrow||(o[e]=t.code)}),[1001,1002,1003,1010,1011,1012,1013,1017,1018,1019,1020,1030,1040,1050,1060,1080,1100,1110,1111,1112,1113,1114,1115,2220,2022,2030,2040,3020,3050,3060,3080,3090,4010,7012,7013,7014,7103,7104]),a={[r.CONNECT_FAILED.code]:r.FIRST_CONNECT_FAILED,[r.SERVER_CONNECT_FAILED.code]:r.FIRST_SERVER_CONNECT_FAILED,[r.SERVER_CONNECT_TIMEOUT.code]:r.FIRST_SERVER_CONNECT_TIMEOUT},s=r},957:(e,t,n)=>{"use strict";n.d(t,{DI:()=>r,DU:()=>_,Dk:()=>l,Hb:()=>s,Jb:()=>p,Pu:()=>O,R4:()=>c,Ry:()=>u,Sc:()=>y,U8:()=>C,Vw:()=>h,Yo:()=>v,aG:()=>o,bb:()=>a,cC:()=>i,eK:()=>d,gT:()=>g,pi:()=>m,zD:()=>f});const r=2,o=3e3,i=10,a=1e4,s=2011,c=2012,u=8211,l={[s]:"OP_STATE_DOWN",[c]:"OP_STATE_UP"},p=8193,d=8194,h=8195,f=8196,g=8197,m=8198,y=3e3,_={ALL:0,ONLY_PING:1,ONLY_BANDWIDTH:2},v={ARM:"arm_ks",X86:"x86"};let O="https://paas-collect.vlinkcloud.cn";const C=e=>{"string"==typeof e&&(O=e)}},35:(e,t,n)=>{"use strict";n.d(t,{Mx:()=>m,lY:()=>g,Yr:()=>E,bF:()=>l,RF:()=>O,fg:()=>u,by:()=>d,oC:()=>f});var r=n(972),o=n(73),i=n(175);const a=()=>{var e=Math.floor(9e7*Math.random()+1e7);return String(e)},s=e=>{try{let v=e.split("\n");var t=v.findIndex(e=>null!==e.match(/a=rtpmap:\d+ opus\/\d+\/\d+/));const O=v[t].match(/rtpmap:(\d+)/)[1];var n=v.findIndex(e=>e.includes("a=fmtp:"+O)),r=(v[n]=v[n].replace("\r","")+";stereo=1\r",v.findIndex(e=>e.includes("a=extmap:")));if(-1<r&&v.splice(r,0,"a=extmap:133 http://www.webrtc.org/experiments/rtp-hdrext/generic-frame-descriptor-00\r"),v.forEach((e,t)=>{null!==e.match(/a=rtpmap:\d+ H264\/\d+/)&&(e=e.match(/\d+/)[0],v.splice(t+1,0,`a=rtcp-fb:${e} rrtr\r`))}),_=(y=RTCRtpReceiver.getCapabilities("video").codecs).findIndex(e=>e.mimeType.includes("ulpfec")),y=y.findIndex(e=>e.mimeType.includes("flexfec")),-1!==_&&-1!==y){if(!e.includes("flexfec")){var o=v.findIndex(e=>e.includes("m=video"));let e=47;for(var i=v[o].split(" ").map(e=>Number(e));i.includes(e);)e+=1;v[o]=v[o].replace("\r",` ${e}\r`);var s=v.findIndex(e=>e.includes("ulpfec/90000"));v.splice(s+1,0,`a=rtpmap:${e} flexfec-03/90000\r\na=rtcp-fb:${e} goog-remb\r\na=rtcp-fb:${e} transport-cc\r\na=fmtp:${e} repair-window=10000000`)}if(!e.includes("a=ssrc-group:FEC-FR")){var c=v.findIndex(e=>e.includes("a=ssrc-group:FID")),u=v[c],l=u.split(" ")[1],p=u.split(" ")[1];let e=a();for(;e===l||e===p;)e=a();v.splice(c+1,0,`a=ssrc-group:FEC-FR ${l} ${e}\r`);var d=v.findIndex(e=>e.includes("msid:-")),h=v[d].split(" ")[1],f=v.findIndex(e=>e.includes("cname:")),g=v[f].split(" ")[1],m=v.findIndex(e=>e.includes("m=audio"));v.splice(m,0,`a=ssrc:${e} ${g}\r\na=ssrc:${e} msid:- ${h}\r`)}}return v.join("\n")}catch(t){return e}var y,_};var c=n(753);let u,l,p,d=!1,h=!1;const f=e=>{d=e},g=()=>{u&&(u.close(),u=null)},m=()=>{u&&(u.close(),u=null)},y=(e,t)=>{r.Ed&&r.Ed.handlePivotalAction(e,t)},_=e=>{var t=e.sdp;t=r.XO?(0,o.KH)(t,r.Ed.currentIp,r.Ed.webRtcPort):(0,o.BH)(t,r.Ed.currentIp,"a=candidate",r.Ed.webRtcPort);return e.sdp=t,e},v=(e,t)=>{e&&1===e.readyState&&e.send(t)};let O;const C=()=>{(0,i.LU)("READY","requestStartGame")},b=e=>{u.setRemoteDescription(e).then(()=>{clearInterval(O),O=setInterval(()=>C(),1e3)}).catch(e=>{clearInterval(O),y("SERVER_CONNECT_FAILED",(0,c.Z)("WeLinkInitGames_server_connection_failed"))})},S=(e,t)=>{const n=new WebSocket(e);(p=n).onopen=()=>{var e;r.XO&&(y("SIGNAL_SUCCESS"),e={offer:t},v(n,JSON.stringify(e)))},n.onerror=e=>{h||r.Ed},n.onclose=e=>{!h&&r.Ed&&p===e.currentTarget&&y("SERVER_CONNECT_FAILED",(0,c.Z)("WeLinkInitGames_server_connection_failed_2"))},n.onmessage=e=>{if(e.data&&0==(e=JSON.parse(e.data)).code)if(r.XO){y("SERVER_REQUEST_ENABLE"),h=!0;for(const t of e.iceCandidates)u.addIceCandidate(t).then(()=>{}).catch(e=>{});var o=_(e.answer);b(o),r.Ed.WelinkInitRtc()}else e.answer&&e.answer.sdp?(y("SERVER_REQUEST_ENABLE"),h=!0,o=_(e.answer),b(o),r.Ed.WelinkInitRtc()):(y("SIGNAL_SUCCESS"),v(n,JSON.stringify(t)))}},E=async(e,t=o.Om.DISPATCH)=>{var n=await(e=>{try{let n={};e!==o.Om.DISPATCH&&r.XO&&(n={sdpSemantics:"unified-plan"});var t=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;return u=new t(n),!0}catch(e){return!1}})(t,r.XO);if(f(!1),n)if(h=!1,p=null,r.Mx){n=r.Ed.configs.socketUrl;var i=t;const e=new WebSocket(n);e.onopen=()=>{var t;y("SIGNAL_SUCCESS"),i===o.Om.DISPATCH&&(t=JSON.stringify({auth:r.Ed.gsmInfo.auth,verify:r.Ed.gsmInfo.verify}),v(e,t)),u.onicecandidate=t=>{t.candidate&&(t=JSON.stringify({type:"answer_ice",iceCandidate:t.candidate}),v(e,t))},l=u.createDataChannel("welink"),r.Ed.WelinkInitRtc()},e.onerror=e=>{h||r.Ed},e.onclose=e=>{!h&&r.Ed&&p===e.currentTarget&&y("SERVER_CONNECT_FAILED",(0,c.Z)("WeLinkInitGames_server_connection_failed_2"))},e.onmessage=t=>{"string"==typeof t.data&&"offer"===(t=JSON.parse(t.data)).type&&(y("SERVER_REQUEST_ENABLE"),t=new RTCSessionDescription({type:t.type,sdp:t.sdp}),u.setRemoteDescription(t),u.createAnswer().then(t=>{v(e,JSON.stringify(t)),u.setLocalDescription(t),clearInterval(O),O=setInterval(()=>C(),1e3),y("SERVER_CONNECT_SUCCESS")}))}}else if(l=u.createDataChannel("welink"),n=await(void 0!==u.addTransceiver?(u.addTransceiver("video",{direction:"sendrecv"}),u.addTransceiver("audio",{direction:"sendrecv"}),u.createOffer({iceRestart:!0}).then(async e=>{var t=s(e.sdp);return e.sdp=t,u.setLocalDescription(e),e})):(n={offerToReceiveAudio:!0,offerToReceiveVideo:!0,offerToSendAudio:!0,iceRestart:!0},u.createOffer(n).then(async e=>{var t=s(e.sdp);return e.sdp=t,u.setLocalDescription(e),e}))),r.Ed.configs.fakeDispatchTest)S(e,n);else if(t===o.Om.DISPATCH){var a=e,d=n;const t=new WebSocket("wss://webrtc-signaling.vlinkcloud.cn/ws-proxy");(p=t).onopen=()=>{1==t.readyState&&v(t,JSON.stringify({gsUrl:a}))},t.onerror=e=>{h||r.Ed},t.onclose=e=>{!h&&r.Ed&&p===e.currentTarget&&y("SERVER_CONNECT_FAILED",(0,c.Z)("WeLinkInitGames_server_connection_failed_2"))},t.onmessage=e=>{var n;e.data&&0==(e=JSON.parse(e.data)).code&&(e.message&&-1<e.message.indexOf("connected to gs")?(y("SIGNAL_SUCCESS"),r.XO?(n={gsAddr:"127.0.0.1:9000",offer:{type:"offer",sdp:d.sdp},assignResultParam:r.Ed.assignResultParam||"{}"},v(t,JSON.stringify(n))):v(t,JSON.stringify(d))):e.answer&&e.answer.sdp&&(y("SERVER_REQUEST_ENABLE"),h=!0,n=_(e.answer),b(n),r.Ed.WelinkInitRtc()))}}else S(e,n);else(void 0).handlePivotalAction("SERVER_CONNECT_FAILED",(0,c.Z)("WeLinkInitGames_unable_to_create"))}},73:(e,t,n)=>{"use strict";n.d(t,{BH:()=>r,KH:()=>o,Om:()=>i});const r=(e,t,n,r)=>{var o,i,a,s,c,u=e.split("\r\n"),l=/(1\d{2}|2[0-4]\d|25[0-5]|[1-9]\d|[0-9])\.((1\d{2}|2[0-4]\d|25[0-5]|[1-9]\d|\d)\.){2}(1\d{2}|2[0-4]\d|25[0-5]|[1-9]\d|\d)/g;for(let e=0;e<u.length;e++){var p=u[e];-1!=p.indexOf(n)&&(o=t,a=r,c=void 0,c=(i=p.replace(l,t)).indexOf(o),o=o.length,s=i.indexOf(" typ host"),c=i.slice(c+o+1,s),p=i.replace(c,a),u.splice(e,1,p))}return u.join("\r\n")},o=(e,t,n)=>{var r=e.search("a=candidate");return t=`a=candidate:1221718136 1 udp 1694498815 ${t} ${n} typ srflx raddr 0.0.0.0 rport ${n} generation 0\n`,n=e.search("a=end-of-candidates"),e.slice(0,r)+t+e.slice(n)},i={DISPATCH:"dispatch",DIRECT:"direct"}},972:(e,t,n)=>{"use strict";n.d(t,{XO:()=>$e,Mx:()=>rt,ZP:()=>it,Ed:()=>Je,dP:()=>Qe,zX:()=>et,rX:()=>Ze});var r=n(175),o=n(383),i=n(823),a=n(957),s=n(174),c=n(753);const u=async e=>{e=`l_${e.errorCode}_`+e.timestamp,await s.ZP.removeItem(e,s.lo)};class l{constructor(){var{clientVer:e,os:t}=JSON.parse((0,r.Rs)());this.data={publicKey:"",version:e,browserVersion:navigator.userAgent,networkConditions:"1",codecType:18,os:t,decodeFps:0,serverFps:0,networkDelay:0,bitrate:0,msgType:"",fps:0,dropFrames:0,nackCount:0,bandWidth:0,timestamp:0,plc:0,plr:0,nudp:0,aul:0,timestampDate:"",getisp:"",isp:"",city:"",province:"",gsId:"",gsIp:"",nodeId:"",sessionId:"",userId:""},this.reportList=[],this.reportTimer=null,this.arrangeDataTimer=null}async clearAllInterval(){clearInterval(this.reportTimer),clearTimeout(this.arrangeDataTimer),this.preReportAll()}async handleReport(e,t,n){"object"==typeof t&&(t=JSON.stringify(t)),(async e=>{await s.ZP.setItem(`l_${e.errorCode}_`+e.timestamp,e,s.lo)})(e={...this.data,errorCode:e,serverFps:parseInt(this.data.serverFps,10)||0,msg:t,msgType:n,timestamp:Date.now()});try{await(0,i.vd)("POST",a.Pu+"/collect/html5/producer",[e],!0,3e3),u(e)}catch(e){}}async preReportAll(){var e=await(async()=>{var e=await s.ZP.getAll(s.lo);const t=[],n=Date.now();return e.forEach(e=>{e=JSON.parse(e.value),2e4<=n-e.timestamp&&t.push(e)}),t.slice(0,30)})();this.handleReportAll(e)}async handleReportAll(e){var t=[...e,...this.reportList];try{await(0,i.vd)("POST",a.Pu+"/collect/html5/producer",t,!0,3e3),e.forEach(e=>{u(e)})}catch(e){}this.reportList=[]}startDataStatics(){this.preReportAll(),clearInterval(this.reportTimer),this.getArrangeData(),this.reportTimer=setInterval(()=>{this.preReportAll()},3e4)}getArrangeData(){clearTimeout(this.arrangeDataTimer);var e={...this.data,errorCode:0,timestamp:Date.now(),msg:(0,c.Z)("StatisticsLog_statistics_are_reported"),msgType:"INFO"};this.reportList.push(e),this.arrangeDataTimer=setTimeout(()=>{this.getArrangeData()},1e3)}}class p{constructor(){this.gameDataList=[],this.gameDataIndex=0,this.onGameDataCount=0,this.lastDataCount={sendDataToGameCount:0,sendDataToGameSuccessCount:0,onGameDataCount:0},this.reSendGameDataToGameTimer=setInterval(()=>{this.reSendGameDataToGame()},1e3),this.reportStatisticsDataTimer=setInterval(()=>{this.reportStatisticsData()},2e4)}clearAllInterval(){clearInterval(this.reSendGameDataToGameTimer),clearInterval(this.reportStatisticsDataTimer)}addGameData(e,t){return this.gameDataIndex>=1/0&&(this.gameDataIndex=0),e={data:e,time:Date.now(),index:this.gameDataIndex++},t&&(e.key=t),this.gameDataList.push(e),e.index}removeGameData(e){if(this.gameDataList.length)for(let n=this.gameDataList.length-1;0<=n;n--){var t=this.gameDataList[n];null!==t&&t.index==e&&this.gameDataList.splice(n,1)}}reSendGameDataToGame(){if(this.gameDataList.length)for(let t=this.gameDataList.length-1;0<=t;t--){var e=this.gameDataList[t];800<Date.now()-e.time&&this.handleSendDataToGame(e.data,e.index,e.key||null)}}reportStatisticsData(){var e=this.gameDataIndex,t=this.gameDataIndex-this.gameDataList.length,n=this.onGameDataCount;e===this.lastDataCount.sendDataToGameCount&&t===this.lastDataCount.sendDataToGameSuccessCount&&n===this.lastDataCount.onGameDataCount||(this.lastDataCount.sendDataToGameCount=e,this.lastDataCount.sendDataToGameSuccessCount=t,this.lastDataCount.onGameDataCount=n,Je.handlePivotalAction("SEND_DATA_CONFIRM",`sdtg: ${e},sdtgs:${t},ogd:`+n))}businessDataConfirm(e){e=(0,r.sO)(e,"BusinessDataConfirm"),(0,r.LU)(e,"businessDataConfirm")}handleSendDataToGame(e,t,n){e=n?(e=(0,o.sy)(e),(0,r.sO)({data:e,index:String(t),key:n},"DataToGameWithKey")):(0,r.sO)({data:e,index:String(t)},"SendDataToGame"),n=$e?1048576:2097152,e.buffer.byteLength>=n?(this.removeGameData(t),Je.handlePivotalAction("SEND_DATA_TOO_LARGE",(0,c.Z)("GameDataManager_the_amount_of")+" "+e.length)):(0,r.LU)(e,"SendDataToGame")}sendDataToGame(e){var t=this.addGameData(e);this.handleSendDataToGame(e,t)}sendDataToGameWithKey(e,t){var n=this.addGameData(e,t);this.handleSendDataToGame(e,n,t)}}var d=n(11);const h={Backquote:192,Backslash:220,Backspace:8,BracketLeft:219,BracketRight:221,Comma:188,Digit0:48,Digit1:49,Digit2:50,Digit3:51,Digit4:52,Digit5:53,Digit6:54,Digit7:55,Digit8:56,Digit9:57,Enter:13,Equal:187,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,Tab:9,KeyA:65,KeyB:66,KeyC:67,KeyD:68,KeyE:69,KeyF:70,KeyG:71,KeyH:72,KeyI:73,KeyJ:74,KeyK:75,KeyL:76,KeyM:77,KeyN:78,KeyO:79,KeyP:80,KeyQ:81,KeyR:82,KeyS:83,KeyT:84,KeyU:85,KeyV:86,KeyW:87,KeyX:88,KeyY:89,KeyZ:90,Minus:189,Period:190,Quote:222,Semicolon:188,Slash:191,Space:32,AltLeft:18,AltRight:18,AudioVolumeDown:174,AudioVolumeMute:173,AudioVolumeUp:175,CapsLock:20,ControlLeft:17,ControlRight:17,ContextMenu:93,Delete:46,End:35,Help:47,Home:36,Insert:45,MetaLeft:91,MetaRight:92,NumLock:136,PageDown:34,PageUp:33,Pause:19,ScrollLock:137,ShiftLeft:16,ShiftRight:16,ArrowDown:40,ArrowLeft:37,ArrowRight:39,ArrowUp:38,Escape:27,PrintScreen:44,IntlBackslash:220,IntlRo:193,IntlYen:165,Numpad0:96,Numpad1:97,Numpad2:98,Numpad3:99,Numpad4:100,Numpad5:101,Numpad6:102,Numpad7:103,Numpad8:104,Numpad9:105,NumpadAdd:107,NumpadBackspace:8,NumpadClear:12,NumpadClearEntry:12,NumpadComma:188,NumpadDecimal:110,NumpadDivide:111,NumpadEnter:13,NumpadEqual:187,NumpadMultiply:106,NumpadParenLeft:57,NumpadParenRight:48,NumpadSubtract:109},f={},g=e=>{try{var{code:t,keyCode:n}=e;return void 0===n&&(e.newKeyCode=h[t],void 0===e.newKeyCode)&&!f[t]&&Je&&(f[t]=1,Je.handlePivotalAction("KEY_CODE_MAP_NOT_FOUND",t+" - "+(0,c.Z)("compatibleKeyCode_no_corresponding_keycode"))),e}catch(t){return e}},m="MAC"===(0,o.ag)();let y,_,v,O,C,b,S,E=null,T=!0;const P=navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?2:1,I={rotationToRadian:function(){const e=null===o.CE||66<=o.CE?Math.PI/180:1;return function(t){return t*e}}(),toQuaternionFromEuler:(e,t,n)=>{t=(t||0)*(r=Math.PI/180),n=(n||0)*r,e=(e||0)*r;var r=Math.cos(.5*e),o=(e=Math.sin(.5*e),Math.cos(.5*n)),i=(n=Math.sin(.5*n),Math.cos(.5*t));return[(t=Math.sin(.5*t))*o*r-i*n*e,i*n*r+t*o*e,i*o*e+t*n*r,i*o*r-t*n*e]}};let D=1,w=null,M=null;const R=(e,t,n,o,i)=>{var a=new proto.CG.PROTO.OneInputOPData;a.setOpDevice(80),a.setInputState(proto.CG.PROTO.OneInputOPData.InputState.OP_STATE_DEFAULT),a.setXinputUserIndex(D),a.setInputOp("gyroscope"===o?1160:"orientation"===o?1161:1163),(o=new proto.CG.PROTO.CoordinatePos).setX(parseInt(1e5*e)||0),o.setY(parseInt(1e5*t)||0),a.setCursorPos(o),a.setValue(parseInt(1e5*n)||0),(e=new proto.CG.PROTO.InputOPData).setOpListList([a]),t=e.serializeBinary(),(o=new proto.WLCGV2.SimpleCmd).setCmd("GyroMsg"),o.setArg("0"),o.setData(t),(0,r.LU)(o.serializeBinary(),i)},k=e=>{!e.absolute&&e.alpha&&(e=I.toQuaternionFromEuler(e.alpha,e.beta,e.gamma),R(e[0]*P,e[1]*P,e[2]*P,"orientation","sensorOrientation"))},L=e=>{(e=e.rotationRate).alpha&&R(I.rotationToRadian(e.alpha)*P,I.rotationToRadian(e.beta)*P,I.rotationToRadian(e.gamma)*P,"gyroscope","sensorGyroscope")},G=e=>{R(e[0]*P,e[1]*P,e[2]*P,"orientation","newSensorOrientation")},A=e=>{R(e.x*P,e.y*P,e.z*P,"gyroscope","newSensorGyroscope")},N=e=>{switch(window.orientation){case 0:case 90:D=1;break;case 180:case 270:D=3}},F=()=>{switch(screen.orientation.type){case"portrait-primary":case"landscape-primary":D=1;break;case"portrait-secondary":case"landscape-secondary":D=3}},W=()=>{M&&(M.stop(),M=null),w&&(w.stop(),w=null),window.removeEventListener("deviceorientation",k),window.removeEventListener("devicemotion",L),"orientation"in screen?screen.orientation.removeEventListener("change",F):window.removeEventListener("onorientationchange"in window?"orientationchange":"resize",N)},x=(e=null)=>{var{gyroscopeDisable:t=!1,orientationDisable:n=!1}=e||{};e||W(),t||window.addEventListener("devicemotion",L),n||window.addEventListener("deviceorientation",k),V()},V=()=>{"orientation"in screen?screen.orientation.addEventListener("change",F):window.addEventListener("onorientationchange"in window?"orientationchange":"resize",N)},B=(e,t=null)=>{window.DeviceMotionEvent?navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)&&DeviceMotionEvent.requestPermission?DeviceMotionEvent.requestPermission().then(n=>{"granted"===n?x(t):e&&e((0,c.Z)("Sensor_user_denied_authorization"))}).catch(t=>{e&&e((0,c.Z)("Sensor_ios_authorization_failed"))}):x(t):e&&e((0,c.Z)("Sensor_your_browser_does"))},U=e=>{W();let t=!0;try{(w=new RelativeOrientationSensor({frequency:60,referenceFrame:"device"})).onreading=e=>{G(w.quaternion)},w.start()}catch(n){t=!1,B(e,{gyroscopeDisable:!0,orientationDisable:!1})}try{(M=new Gyroscope({frequency:60})).onreading=e=>{A(M)},M.start()}catch(n){t=!1,B(e,{gyroscopeDisable:!1,orientationDisable:!0})}t&&V()};let j,z=Array.from({length:10},()=>({pointerId:-1})),H=new Map;const Y={},K=(e,t,n,r)=>{Y[e]={x:t,y:n,isOutArea:r}},q=e=>(Y[e]||K(e,0,0,!1),Y[e]);let X,Z,J,Q=[],$=8,ee=null;var te=n(369);const ne=new Map;var re=n(814);const oe={KEYCODE_ESCAPE:27,KEYCODE_BACK:27,KEYCODE_0:48,KEYCODE_1:49,KEYCODE_2:50,KEYCODE_3:51,KEYCODE_4:52,KEYCODE_5:53,KEYCODE_6:54,KEYCODE_7:55,KEYCODE_8:56,KEYCODE_9:57,KEYCODE_MINUS:189,KEYCODE_EQUALS:187,KEYCODE_DEL:8,KEYCODE_TAB:9,KEYCODE_LEFT_BRACKET:219,KEYCODE_RIGHT_BRACKET:221,KEYCODE_ENTER:13,KEYCODE_CTRL_LEFT:162,KEYCODE_SEMICOLON:186,KEYCODE_APOSTROPHE:222,KEYCODE_GRAVE:192,KEYCODE_SHIFT_LEFT:160,KEYCODE_BACKSLASH:220,KEYCODE_COMMA:188,KEYCODE_PERIOD:190,KEYCODE_SLASH:191,KEYCODE_SHIFT_RIGHT:161,KEYCODE_ALT_LEFT:164,KEYCODE_SPACE:32,KEYCODE_CAPS_LOCK:20,KEYCODE_F1:112,KEYCODE_F2:113,KEYCODE_F3:114,KEYCODE_F4:115,KEYCODE_F5:116,KEYCODE_F6:117,KEYCODE_F7:118,KEYCODE_F8:119,KEYCODE_F9:120,KEYCODE_F10:121,KEYCODE_F11:122,KEYCODE_F12:123,KEYCODE_NUM_LOCK:144,KEYCODE_SCROLL_LOCK:145,KEYCODE_NUMPAD_7:103,KEYCODE_NUMPAD_8:104,KEYCODE_NUMPAD_9:105,KEYCODE_NUMPAD_SUBTRACT:109,KEYCODE_NUMPAD_4:100,KEYCODE_NUMPAD_5:101,KEYCODE_NUMPAD_6:102,KEYCODE_NUMPAD_ADD:107,KEYCODE_NUMPAD_0:96,KEYCODE_NUMPAD_1:97,KEYCODE_NUMPAD_2:98,KEYCODE_NUMPAD_3:99,KEYCODE_NUMPAD_DOT:110,KEYCODE_NUMPAD_ENTER:13,KEYCODE_NUMPAD_COMMA:95,KEYCODE_CTRL_RIGHT:163,KEYCODE_ALT_RIGHT:165,KEYCODE_MOVE_HOME:36,KEYCODE_MOVE_END:35,KEYCODE_DPAD_UP:38,KEYCODE_DPAD_LEFT:37,KEYCODE_DPAD_RIGHT:39,KEYCODE_DPAD_DOWN:40,KEYCODE_PAGE_DOWN:34,KEYCODE_PAGE_UP:33,KEYCODE_INSERT:45,KEYCODE_FORWARD_DEL:46,KEYCODE_MEDIA_PAUSE:19,KEYCODE_A:65,KEYCODE_B:66,KEYCODE_C:67,KEYCODE_D:68,KEYCODE_E:69,KEYCODE_F:70,KEYCODE_G:71,KEYCODE_H:72,KEYCODE_I:73,KEYCODE_J:74,KEYCODE_K:75,KEYCODE_L:76,KEYCODE_M:77,KEYCODE_N:78,KEYCODE_O:79,KEYCODE_P:80,KEYCODE_Q:81,KEYCODE_R:82,KEYCODE_S:83,KEYCODE_T:84,KEYCODE_U:85,KEYCODE_V:86,KEYCODE_W:87,KEYCODE_X:88,KEYCODE_Y:89,KEYCODE_Z:90,KEYCODE_NUMPAD_MULTIPLY:106,KEYCODE_NUMPAD_DIVIDE:111},ie={KEYCODE_DPAD_UP:1,KEYCODE_DPAD_DOWN:2,KEYCODE_DPAD_LEFT:4,KEYCODE_DPAD_RIGHT:8,KEYCODE_BUTTON_START:16,KEYCODE_BUTTON_SELECT:32,KEYCODE_BUTTON_THUMBL:64,KEYCODE_BUTTON_THUMBR:128,KEYCODE_BUTTON_L1:256,KEYCODE_BUTTON_R1:512,KEYCODE_BUTTON_L2:1048576,KEYCODE_BUTTON_R2:1048577,KEYCODE_BUTTON_A:4096,KEYCODE_BUTTON_B:8192,KEYCODE_BUTTON_X:16384,KEYCODE_BUTTON_Y:32768};var ae=n(35);let se=[],ce=null;const ue={audio:{echoCancellation:!0},video:!1};let le=null;const pe=(e,t)=>{Je&&Je.handlePivotalAction(e,t)},de=()=>{le&&(le.getTracks().forEach(e=>e.stop()),le=null),window.$welinkTest&&ce&&ce.stop()},he=()=>{le&&(le.getTracks().forEach(e=>e.stop()),le=null),window.navigator.mediaDevices?window.navigator.mediaDevices.getUserMedia(ue).then(e=>{var t=ae.fg.getSenders();t.forEach(t=>{if(t.dtmf){t.replaceTrack(e.getAudioTracks()[0]);try{var{sampleRate:n,sampleSize:r,channelCount:o}=e.getAudioTracks()[0].getSettings();JSON.stringify({sampleRate:n,sampleSize:r,channelCount:o})}catch(t){}}}),le=e,window.$welinkTest&&(t=e,se=[],(ce=new MediaRecorder(t)).start(),ce.addEventListener("dataavailable",e=>{se.push(e.data)}),ce.addEventListener("stop",()=>{var e=new Blob(se,{type:ce.mimeType}),t=(e=URL.createObjectURL(e),document.createElement("a"));t.href=e,t.download="recording.wav",t.click(),URL.revokeObjectURL(e),se=[],ce=null}))}).catch(e=>{{var t=e;let n="";switch(t.name||t.code){case"PERMISSION_DENIED":case"PermissionDeniedError":n=(0,c.Z)("AudioOutbound_user_refuses_to");break;case"NOT_SUPPORTED_ERROR":case"NotSupportedError":n=(0,c.Z)("AudioOutbound_the_browser_does");break;case"MANDATORY_UNSATISFIED_ERROR":case"MandatoryUnsatisfiedError":n=(0,c.Z)("AudioOutbound_unable_to_find");break;default:n=`AudioOutbound_unable_to_turn ${t.code} - `+t.name}pe("AUDIO_PERMISSION_FAIL",n)}}):pe("AUDIO_PERMISSION_FAIL",(0,c.Z)("AudioOutbound_unable_to_obtain"))};let fe;const ge=()=>{fe&&clearInterval(fe)},me=()=>{var e=(0,r.sO)("","ConsultState");(0,r.LU)(e,"WelinkSendData - MicroPhoneState");let t=0;ge(),fe=setInterval(()=>{var e=(0,r.sO)("","ConsultState");(0,r.LU)(e,"WelinkSendData - MicroPhoneState"),5<=(t+=1)&&ge()},1e3)},ye=(window.consultState=me,JSON.parse((0,r.Rs)()).clientVer);let _e={};const ve=e=>{(e=e.error)instanceof Error&&(e=e=e.message+"\n"+e.stack,e={..._e,msg:e,timestamp:Date.now()},(0,i.vd)("POST",a.Pu+"/collect/html5/jssdk_crash_producer",e))},Oe=(e,t)=>{_e.hasOwnProperty(e)&&(_e[e]=t||"")};let Ce,be=[],Se=null,Ee=0,Te=null;const Pe={rtt_weight:.6,loss_weight:.4,rtt_max:500,loss_max:30};let Ie=null;var De=n(585);const we=e=>(new TextDecoder).decode(e),Me=we(new Uint8Array([229,144,175,229,138,168,232,191,155,229,186,166])),Re=we(new Uint8Array([232,184,162,228,184,139,231,186,191])),ke=we(new Uint8Array([229,155,158,230,181,139,229,187,182,230,151,182])),Le=we(new Uint8Array([230,157,165,232,135,170,230,184,184,230,136,143,231,154,132,230,149,176,230,141,174])),Ge=we(new Uint8Array([229,135,134,229,164,135,229,188,128,229,167,139,230,184,184,230,136,143])),Ae=we(new Uint8Array([230,156,141,229,138,161,231,171,175,230,173,163,229,156,168,229,164,132,231,144,134,229,173,152,230,161,163])),Ne=we(new Uint8Array([230,184,184,230,136,143,229,188,128,229,167,139])),Fe=we(new Uint8Array([230,137,139,230,159,132,230,140,175,229,138,168])),We=e=>{var t;return/[\u4e00-\u9fa5]/.test(e)?we((t=e,(new TextEncoder).encode(t))):e};let xe=null,Ve=!1;const Be=(e,t)=>{Je&&Je.handlePivotalAction(e,t)},Ue=()=>{xe&&clearTimeout(xe),xe=null,Ve||Be("RELAUNCHGAME_FAIL",{result:!1})};var je=n(857);let ze=!1;const He=()=>{ze=!1,clearInterval(void 0);var e=document.querySelector("#wl_virtual_input");e&&(e.value="",e.blur())};var Ye=n(73);const Ke=()=>{var e=document.getElementById("WelinkGameVideo");if(Je&&e&&Je.configs.id)if(Je.configs.fillVideo){var{clientWidth:t,clientHeight:n}=document.getElementById(""+Je.configs.id);e.style.width=t+"px",e.style.height=n+"px",Je.configs.videoHeight=n,Je.configs.videoWidth=t}else{var{currentFrameHeight:n,currentFrameWidth:t}=Je,{clientWidth:r,clientHeight:o}=document.getElementById(""+Je.configs.id);let i=0,a=0;t/n<r/o?(i=Math.round(t*o/n),a=o):(a=Math.round(n*r/t),i=r),e.style.width=i+"px",e.style.height=a+"px",Je.configs.videoHeight=a,Je.configs.videoWidth=i}},qe=()=>{Ke()};let Xe=null,Ze=null,Je=null,Qe=null,$e=null,et={},tt=0,nt=0,rt=!1,ot=!1;const it=class{constructor(e){this.configs={lockPoint:!1,isOverseas:!1,enableReconnect:!0,enableClipBoard:!1,envType:null,isOldGS:!1,fillVideo:!1,...e},this.configs.envType&&["pc","mobile","phoneToMouse"].includes(this.configs.envType)||(this.configs.envType=(0,o.qL)()),this.KeyboardCodes=oe,this.GamePadCodes=ie,this.WelinkCodes=re.r_,this.MeasureSpeedConfigEnum=a.DU,this.exitHasBeenPerformed=!1,this.gsErrorReceived=!1,this.micEnabled=!1,this.audioOpenInfo={isFromBackGround:!1,isFromReconnected:!1,audioInfo:null},this.InitAllDatas(),this.clearAllEvents(),rt=!!this.configs.isOldGS,this.configs.reportHost&&(0,a.U8)(this.configs.reportHost),Je=this,Ze=new l,Xe=new p,this.onGameBackgroundBind=this.onGameBackground.bind(this)}clearAllEvents(){var e;"pc"===this.configs.envType&&(document.removeEventListener("keydown",y),document.removeEventListener("keyup",_),window.removeEventListener("blur",v),document.removeEventListener("blur",v),(e=document.getElementById("WelinkGameVideo"))&&(e.removeEventListener("blur",v),e.removeEventListener("mouseleave",v),e.removeEventListener("focus",O),e.removeEventListener("mouseenter",C),e.removeEventListener("DOMMouseScroll",b),e.removeEventListener("mousewheel",b),e.removeEventListener("pointerrawupdate",S)),y=null,_=null,v=null),(0,d.YB)(),_e={},window.removeEventListener("error",ve),clearTimeout(this.gsProxyHBTimeout),clearInterval(ae.RF),clearInterval(this.beatInterval),clearInterval(this.gsProxyBeatInterval),clearTimeout(this.connectTimeoutTimer),clearTimeout(this.getStatsTimer),clearTimeout(this.reconnectConfig.timer),clearTimeout(this.wechatAutoplayFailedTimer),He(),this.reconnectConfig.started||(Ze&&Ze.clearAllInterval(),Xe&&Xe.clearAllInterval(),be=[],Se=null,Ee=0),clearInterval(Ce),window.removeEventListener("resize",qe)}handleCancelGame(){var e;Je&&(de(),(e=document.getElementById(this.configs.id))&&(e.innerHTML=""),Xe.reportStatisticsData(),this.reconnectConfig.started=!1,this.clearAllEvents(),this.InitAllDatas(),Ze=null,Xe=null,Je=null,W())}InitAllDatas(){this.gsmInfo={auth:"",verify:"",packedData:"",startType:""},this.beatInterval=null,this.gsProxyBeatInterval=null,this.beatNum=0,this.timeDelay=0,this.rtcData={bytesReceived:0,framesReceived:0},this.rtcReportDataList={bandWidth:0,bitrate:0,fps:0,serverFps:0,netWorkDelay:0,netWorkDelayUdp:0,packetLossRate:0,packetLossCont:0},this.answerSdp=null,this.currentIp=null,this.lastServerResolutionRatio=null,this.lastServerBitrate=null,this.statsInstance=null,this.getStatsTimer=null,this.sdkData=null,this.isreconnect=!1,this.webRtcPort="",this.gsIpList=[],this.connectTimeoutTimer=null,this.firstAudioFrameReceived=!1,this.serverScreenIsRotation=!1,this.isSingleLineModel=!1,this.reconnectConfig={started:!1,times:0,timer:null},this.isOnceStartError=!0,this.mIsStart=!1,this.gameStartSuccess=!1,this.assignResultParam=null,this.gsProxyHBTimeout=null,this.firstReceived6117=!1,this.wechatAutoplayFailedTimer=null,this.preBitrateMax=0,this.preBitrateMin=0,this.currentFrameWidth=0,this.currentFrameHeight=0,this.reconnectServerFailedTimer=null}openSensor(e=!1,t){var n;e?(n=t,window.AbsoluteOrientationSensor?navigator.permissions?Promise.all([navigator.permissions.query({name:"accelerometer"}),navigator.permissions.query({name:"magnetometer"}),navigator.permissions.query({name:"gyroscope"})]).then(e=>{e.every(e=>"granted"===e.state)?U(n):n&&n((0,c.Z)("Sensor_authorization_failed"))}).catch(e=>{n&&n((0,c.Z)("Sensor_authorization_failed"))}):U(n):B(n)):W()}init(){var e,t;if(Ze.handleReport(6300,"init","INFO"),this.configs?this.configs.id?document.getElementById(this.configs.id)?this.configs.videoWidth?this.configs.videoHeight?this.configs.tenantKey||rt?rt&&!this.configs.socketUrl?(this.handlePivotalAction("INIT_PARAM_NOT_EXIST",(0,c.Z)("WeLinkInitGames_the_initial_socketUrl")),0):(this.configs.rotate=this.configs.rotate?1:0,1):(this.handlePivotalAction("INIT_PARAM_NOT_EXIST",(0,c.Z)("WeLinkInitGames_the_initial_tenantkey")),0):(this.handlePivotalAction("INIT_PARAM_NOT_EXIST",(0,c.Z)("WeLinkInitGames_initialize_videoheight_does")),0):(this.handlePivotalAction("INIT_PARAM_NOT_EXIST",(0,c.Z)("WeLinkInitGames_initialize_videowidth_does")),0):(this.handlePivotalAction("INIT_PARAM_NOT_EXIST",(0,c.Z)("WeLinkInitGames_the_xxxx_element",{id:this.configs.id})),0):(this.handlePivotalAction("INIT_PARAM_NOT_EXIST",(0,c.Z)("WeLinkInitGames_the_initialization_id")),0):(this.handlePivotalAction("INIT_PARAM_NOT_EXIST",(0,c.Z)("WeLinkInitGames_please_set_the")),0)){var{clientWidth:n,clientHeight:r}=document.getElementById(""+this.configs.id),n=`<video id="WelinkGameVideo"\n      style="background-color:black;object-fit:fill;width:${n}px;height:${r}px;outline:none;"\n      tabindex="-1" playsinline webkit-playsinline x5-playsinline autoplay muted preload="auto"></video>`;let i="";this.configs.videoPoster&&(i=`<img id="WelinkGameVideoPoster" src="${this.configs.videoPoster}" style="width:100%;height:100%;position: absolute;top: 0;left: 0;" />`);var r=`<audio id="WelinkGameAudio" autoplay ${"pc"!==this.configs.envType?"muted":""}></audio>`,o=((o=document.getElementById(this.configs.id)).style.position="relative",o.style.display="flex",o.style.alignItems="center",o.style.justifyContent="center",o.innerHTML=n+r+i,document.getElementById("WelinkGameVideo"));o&&(document.getElementById("WelinkGameVideo").oncontextmenu=()=>!1),(0,De.HE)(this.configs.tenantKey),et={},e=this,t=re.ZP,(n=window.WelinkPlugins||[])&&0<n.length&&n.forEach(n=>{n&&n.init&&n.init(e,t)})}}startGame(e={},t=Ye.Om.DISPATCH){if(this.addBackgroundListener(),Ze.handleReport(6180,"startGame","INFO"),"string"==typeof(this.sdkData=e)&&(this.sdkData=JSON.parse(e)),$e=this.sdkData.schemeType===a.Yo.ARM,t===Ye.Om.DISPATCH)if(e&&"{}"!==JSON.stringify(this.sdkData)){if(this.sdkData.webRtcPort)this.webRtcPort=this.sdkData.webRtcPort;else if(!rt)return void this.handlePivotalAction("INIT_PARAM_PARSE_FAILED",(0,c.Z)("WeLinkInitGames_launch_game_port"));(t=this.sdkData.gsIp)&&-1<t.indexOf("type")?(this.gsIpList=JSON.parse(t),this.isSingleLineModel=!0):(this.currentIp=t,this.gsIpList=[],Ze.data.gsIp=this.sdkData.gsIp),Ze.data.gsId=this.sdkData.gsId,Ze.data.nodeId=this.sdkData.nodeId,Ze.data.sessionId=this.sdkData.sessionId,Ze.data.userId=this.sdkData.userId,_e={version:ye,timestamp:0,msg:"",os:"jssdk",t:"",i:"",u:"",r:"",v:ye,c:"",b:"",m:"",av:navigator.userAgent,hw:"",cpu:"",tit:"crash"},window.addEventListener("error",ve),Oe("t",this.configs.tenantKey),Oe("u",this.sdkData.userId),Oe("r",this.sdkData.recordId),this.handleStartGame(this.sdkData)}else this.handlePivotalAction("INIT_PARAM_PARSE_FAILED",(0,c.Z)("WeLinkInitGames_invalid_launch_game"));else e=this.configs.socketUrl.split(":"),this.currentIp=e[0],this.webRtcPort=e[1],this.handleStartGame(this.sdkData,Ye.Om.DIRECT)}exitGame(){var e=new Uint8Array([10,18,231,148,168,230,136,183,228,184,187,229,138,168,233,128,128,229,135,186]);(0,r.LU)(e,"exitGame"),this.exitHasBeenPerformed=!0,this.handlePivotalAction("EXIT_GAME"),this.handleCancelGame(),this.removeBackgroundListener(),tt=0,nt=0}setBitrateByLevel(e){var t=[1500,2500,4e3,6500];t[Number(e)-1]?this.changBitrate(t[Number(e)-1]):this.handlePivotalAction("SWITCH_BITRATE_FAILED"),Ze.handleReport(6400,"setBitrateByLevel-"+e,"INFO")}setBitrate(e){this.changBitrate(e),Ze.handleReport(6405,"setBitrate-"+e,"INFO")}setVideoSize(e,t){}setRotate(e){[0,1].includes(e)&&(this.configs.rotate=e,Ke())}SetVideoArea(e,t,n,o){n=(n<<16)+o,o=(0,r.sO)({arg:String((e<<16)+t),arg1:String(n)},"SetVideoArea"),(0,r.LU)(o,"SetVideoArea"),Ze.handleReport(6406,"SetVideoArea","INFO")}keepAliveForGame(){(0,r.av)(),Ze.handleReport(6323,"keepAliveForGame","INFO")}onPause(){var e;(0,r.Xj)("pause"),this.handlePivotalAction("ON_PAUSE_OR_RESUME","onPause"),$e&&(e=(0,r.sO)("1","StateSync"),(0,r.LU)(e,"backgroundCutting"))}onResume(){var e;(0,r.Xj)("resume"),this.handlePivotalAction("ON_PAUSE_OR_RESUME","onResume"),$e&&(e=(0,r.sO)("0","StateSync"),(0,r.LU)(e,"cuttingForeground"))}openAutoReconnectServer(e){this.configs.enableReconnect=!1!==e,Ze.handleReport(6413,"openAutoReconnectServer","INFO")}sendMSGToGame(e){(0,r.TA)(e),Ze.handleReport(6320,"sendMSGToGame","INFO")}sendDataToGame(e){Xe.sendDataToGame(e)}sendDataToGameWithKey(e,t){t&&Xe.sendDataToGameWithKey(e,t)}setGamePadUserIndex(e){"number"==typeof e&&[0,1,2,3].includes(e)&&(Qe=e)}setAudioVolume(e){var t=document.querySelector("#WelinkGameAudio");!t||"number"!=typeof e||e<0||100<e||(t.volume=e/100)}onMessage(){}startGameInfo(){}startGameError(){}OnGamePadVibration(e,t,n){}onGameData(e){}onGameDataWithKey(e,t){}onCursorData(e,t){}showGameStatisticsData(){}onOpenUrl(e){}gsProxyHeartBeat(){var e=new proto.WLCGV2.SimpleCmd;e.setCmd("SDKHeartBeat"),(0,r.LU)(e.serializeBinary(),"gsProxy heartBeat")}WelinkHeartBeat(){this.beatNum+=1,this.timeDelay=(new Date).getTime();var e=new Uint8Array([10,9,230,181,139,229,187,182,230,151,182,18,13,49,54,55,56,48,56,52,50,51,55,54,54,55,34,1,52]);(0,r.LU)(e,"heartBeat")}setStatCallback(){var e=e=>{var t,n,r;e&&(this.rtcReportDataList.fps=e.fpsExpect,this.rtcReportDataList.decodeFps=e.fpsReal,this.rtcReportDataList.renderFps=e.renderFps,this.rtcReportDataList.decodecTime=e.decodeTime,this.rtcReportDataList.packetTotal=e.packetsReceived,this.rtcReportDataList.receiveAudioNum=e.receiveAudioNum,this.rtcReportDataList.playAudioNum=e.playAudioNum,this.rtcReportDataList.processingDelay=e.processingDelay,this.rtcReportDataList.bandWidth=e.bandWidth,this.rtcReportDataList.netWorkDelayUdp=e.udpDelay,this.rtcReportDataList.packetLossRate=e.packetLossRate,this.rtcReportDataList.packetLoss=e.packetLoss,t={netWorkDelay:this.rtcReportDataList.netWorkDelay,packetLossRate:e.packetLossRate},null!==e.udpDelay&&(t.udp=e.udpDelay),n=this.configs.tenantKey,Ee+=1,be.push(t),60<be.length&&be.shift(),t=e=>e<=.3?1:e<=.7?2:3,60<=Ee?(t((r=(0,o.p)(be,Ie)).value)===t(Te?Te.value:0)&&(1!==t(r.value)||Ee%10)?Se=null:(Se=r,window.weLinkTestReport&&window.weLinkTestReport("NETWORK_CONDITION_"+Ee,{staticsList:be,networkConditionResult:Se})),Te=r):(async e=>{if(!Ie){e="TENANT_ALL_NODE_LIST_"+e;try{var t=await s.ZP.getItem(e),n=JSON.parse(t),{rtt_weight:r=Pe.rtt_weight,loss_weight:o=Pe.loss_weight,rtt_max:i=Pe.rtt_max,loss_max:a=Pe.loss_max}=n;Ie={rtt_weight:r,loss_weight:o,rtt_max:i,loss_max:a}}catch(e){}}})(n),this.gameStartSuccess&&this.showGameStatisticsData(JSON.parse(JSON.stringify(this.rtcReportDataList))),Ze.data.dropFrames=e.framesDropped,Ze.data.fps=e.fpsExpect,Ze.data.decodeFps=e.fpsReal,Ze.data.bitrate=e.kbps,Ze.data.bandWidth=e.bandWidth,Ze.data.plc=e.packetLossCont,Ze.data.plr=e.packetLossRate,Ze.data.nudp=e.udpDelay,Ze.data.aul=e.audioPacketsLost,e.audioPacketsLost&&this.handlePivotalAction("AUDIO_NACK_COUNT",e.audioPacketsLost),e.framesDropped&&this.handlePivotalAction("FRAME_DROP_COUNT",e.framesDropped),e.frameSizeChanged&&e.frameWidth&&e.frameHeight&&(this.currentFrameWidth=e.frameWidth,this.currentFrameHeight=e.frameHeight,Ke(),this.handlePivotalAction("VIDEO_STREAM_SIZE",e.frameWidth+"x"+e.frameHeight),this.wechatAutoplayFailedTimer=setTimeout(()=>{this.gameStartSuccess||this.firstReceived6117||(this.handlePivotalAction("WECHAT_AUTOPLAY_FAILED"),this.firstReceived6117=!0)},1e3)),Se&&this.handlePivotalAction("NETWORK_CONDITION",Se),e.audioPacketsReceived)&&!this.firstAudioFrameReceived&&(this.firstAudioFrameReceived=!0,this.handlePivotalAction("FIRST_AUDIO_FRAME_RECEIVED")),this.getStatsTimer&&clearTimeout(this.getStatsTimer),ae.fg&&ae.fg.getStats().then(e=>{this.getStatsTimer=setTimeout(()=>{this.statsInstance&&this.statsInstance.update(e)},1e3)}).catch(e=>e)};return e(null),e}WelinkInitRtc(){const e=e=>{switch(e){case"connecting":case"new":case"checking":break;case"connected":this.handlePivotalAction("SERVER_CONNECT_SUCCESS");break;case"disconnected":case"failed":clearInterval(ae.RF),this.handlePivotalAction("CONNECT_FAILED")}},t=(ae.fg.oniceconnectionstatechange=()=>{ot||e(ae.fg.iceConnectionState)},ae.fg.onconnectionstatechange=()=>{ot=!0,e(ae.fg.connectionState)},document.getElementById("WelinkGameVideo")),n=document.getElementById("WelinkGameAudio"),i=(ae.fg.ontrack=e=>{e&&e.streams&&("video"===e.track.kind?t.srcObject=e.streams[0]:"audio"===e.track.kind&&(n.srcObject=e.streams[0]))},ae.bF.onopen=()=>{$e&&(0,r.Vr)(),clearInterval(this.beatInterval),this.beatInterval=setInterval(()=>{this.WelinkHeartBeat()},2e3),this.handlePivotalAction("DATACHANNEL_OPENED")},e=>{e.data.arrayBuffer?e.data.arrayBuffer().then(e=>{this.messageDetail(e)}):this.messageDetail(e.data)});$e?ae.bF.onmessage=i:ae.fg.ondatachannel=e=>{e.channel.onmessage=i},ae.bF.onerror=e=>{},ae.bF.onclose=()=>{this.handlePivotalAction("DATACHANNEL_CLOSED")},this.statsInstance=new class{constructor(e){this.cb=()=>{},this.dataChannel=e,this.lastStat={timestamp:performance.now()},this.finalStat={},this.renderFrames=0,this.renderFramesList=[],this.lastDroppedVideoFrames=0,this.calculateRenderingFrameRate()}setCallback(e){this.cb=e}calculateRenderingFrameRate(){const e=document.getElementById("WelinkGameVideo");if(e&&e.requestVideoFrameCallback){let t=0;const n=(r,o)=>{var i=Math.abs(o.mediaTime-t);i=Math.round(1/i);this.renderFramesList.push(i),t=o.mediaTime,e.requestVideoFrameCallback(n)};e.requestVideoFrameCallback(n)}}update(e){const t={timestamp:performance.now()};e.forEach(e=>{"inbound-rtp"===e.type&&"video"===e.kind&&(t.packetsLost=e.packetsLost,t.packetsReceived=e.packetsReceived,t.nackCount=e.nackCount,t.pliCount=e.pliCount,t.framesPerSecond=e.framesPerSecond||0,t.framesReceived=e.framesReceived||0,t.frameHeight=e.frameHeight,t.frameWidth=e.frameWidth,t.totalDecodeTime=e.totalDecodeTime,t.totalProcessingDelay=e.totalProcessingDelay),"inbound-rtp"===e.type&&"audio"===e.kind&&(t.audioPacketsLost=e.packetsLost,t.audioPacketsReceived=e.packetsReceived),("track"!==e.type||[void 0,null].includes(e.frameHeight))&&("video"!==e.kind||"inbound-rtp"!==e.type&&"inboundrtp"!==e.type)||(t.framesDecoded=e.framesDecoded,t.framesDropped=e.framesDropped,t.framesBuffered=e.framesReceived-e.framesDecoded-e.framesDropped),"candidate-pair"===e.type&&"succeeded"===e.state&&(t.currentRoundTripTime=void 0===e.currentRoundTripTime?null:e.currentRoundTripTime,t.bytesReceived=e.bytesReceived)}),e=t.timestamp-this.lastStat.timestamp;var n=null===o.CE||o.CE<1e3?t.packetsLost-this.lastStat.packetsLost:t.packetsLost,r=t.audioPacketsLost-this.lastStat.audioPacketsLost,i=t.packetsReceived-this.lastStat.packetsReceived;let a=!1,s=(t.frameHeight===this.lastStat.frameHeight&&t.frameWidth===this.lastStat.frameWidth||(a=!0),0);0<i&&0<n&&(s=Number((n/(n+i)*100).toFixed(2)));i=Math.ceil(this.renderFramesList.reduce((e,t)=>e+t,0)/this.renderFramesList.length)||0;var c=("function"==(this.renderFramesList=[],typeof(c=document.getElementById("WelinkGameVideo")).getVideoPlaybackQuality)&&(c=c.getVideoPlaybackQuality(),this.lastDroppedVideoFrames=c.droppedVideoFrames),Math.round((t.framesDecoded-this.lastStat.framesDecoded)/e*1e3)||0),u=Math.round((t.totalDecodeTime-this.lastStat.totalDecodeTime)*e/c)||0,l=parseInt((t.totalProcessingDelay-this.lastStat.totalProcessingDelay)*e/c)||0,p=parseInt((t.audioPacketsReceived-this.lastStat.audioPacketsReceived)*e/1e3)||0,d=p-r||0,h=Math.round(t.framesPerSecond/e*1e3)||0;e={frameHeight:t.frameHeight,frameWidth:t.frameWidth,packetsReceived:t.packetsReceived,frameSizeChanged:a,kbps:8*parseInt((t.bytesReceived-this.lastStat.bytesReceived)/e)||0,bandWidth:parseInt((t.bytesReceived-this.lastStat.bytesReceived)/e*1e3)||0,totalDecodeTime:t.totalDecodeTime,framesReceived:t.framesReceived,fpsReceived:Math.round((t.framesReceived-this.lastStat.framesReceived)/e*1e3)||0,fpsReal:c,decodeTime:u,framesDropped:t.framesDropped-this.lastStat.framesDropped||0,fpsExpect:h,renderFps:0===i?h:i,processingDelay:l,renderDelayMs:parseInt(t.framesBuffered*(1e3/t.framesPerSecond))||0,packetsLost:t.packetsLost,audioPacketsLost:r,audioPacketsReceived:t.audioPacketsReceived,receiveAudioNum:p,playAudioNum:d,packetLoss:n||0,packetLossRate:s,nackCount:t.nackCount-this.lastStat.nackCount||0,pliCount:t.pliCount-this.lastStat.pliCount,udpDelay:null===t.currentRoundTripTime?null:parseInt(1e3*(t.currentRoundTripTime||0))},this.lastStat=t,this.finalStat=e,this.cb(this.finalStat)}}(ae.bF),this.statsInstance.setCallback(this.setStatCallback()),t.onloadeddata=()=>{var e,n;if(Je){if(e=document.getElementById(this.configs.id),(n=document.getElementById("WelinkGameVideoPoster"))&&e.removeChild(n),t.play(),this.handlePivotalAction("FIRST_VIDEO_FRAME_RECEIVED"),"pc"===this.configs.envType){var i=this.configs;let e=!1,t=0,n=0,o=!1,a=!1,s=!1,c=[],u="";T=!0;const l=()=>{"hide"!==et.status||!1!==e||T||(0,r.I8)("WelinkGameVideo")},p=(y=e=>{e=g(e);var t=i.mouseShortcut||0,n=e.keyCode||e.newKeyCode;if(n!==t||T||(0,r.I8)("WelinkGameVideo"),!T){if(e.altKey&&(115===n||27===n||9===n)||e.ctrlKey&&(27===n||9===n))return!1;(112<=n&&n<=123||9===n||(e.altKey||e.shiftKey)&&n<1e4||8===n||116===n||112===n||e.ctrlKey&&82===n)&&(window.event.returnValue=!1),M(e,2011)}},document.addEventListener("keydown",y),_=e=>{e=g(e),M(e,2012)},document.addEventListener("keyup",_),document.getElementById("WelinkGameVideo")),d=(v=()=>{if(T=!0,c.length){for(let e=0;e<c.length;e++)"OP_STATE_DOWN"===c[e]&&(c[e]="OP_STATE_UP",17===e&&((0,r.B1)(162,"OP_STATE_UP"),(0,r.B1)(163,"OP_STATE_UP")),16===e&&((0,r.B1)(160,"OP_STATE_UP"),(0,r.B1)(161,"OP_STATE_UP")),18===e&&((0,r.B1)(164,"OP_STATE_UP"),(0,r.B1)(165,"OP_STATE_UP")),(0,r.B1)(e,"OP_STATE_UP"));c=[]}},window.addEventListener("blur",v),p.addEventListener("blur",v),p.addEventListener("mouseleave",v),()=>{i.enableClipBoard&&navigator.permissions.query({name:"clipboard-read"}).then(e=>{"granted"!==e.state&&"prompt"!==e.state||navigator.clipboard.readText().then(e=>{u!==e&&(u=e,(0,r.TA)(e,"ClipBoard"))}).catch(e=>{})}).catch(e=>{})});O=()=>{T=!1,d()},p.addEventListener("focus",O),C=()=>{T=!1,l()},p.addEventListener("mouseenter",C),p.onmousedown=e=>{I(e,2011)},p.onmouseup=e=>{I(e,2012)},p.onmouseleave=e=>{var t=D(e);switch(e.buttons){case 1:(0,r.LB)(t,"OP_MOUSE_BUTTON_LEFT","OP_STATE_UP");break;case 2:(0,r.LB)(t,"OP_MOUSE_BUTTON_RIGHT","OP_STATE_UP");break;case 3:(0,r.LB)(t,"OP_MOUSE_BUTTON_LEFT","OP_STATE_UP"),(0,r.LB)(t,"OP_MOUSE_BUTTON_RIGHT","OP_STATE_UP");break;case 4:(0,r.LB)(t,"OP_MOUSE_BUTTON_MIDDLE","OP_STATE_UP");break;case 5:(0,r.LB)(t,"OP_MOUSE_BUTTON_LEFT","OP_STATE_UP"),(0,r.LB)(t,"OP_MOUSE_BUTTON_MIDDLE","OP_STATE_UP");break;case 6:(0,r.LB)(t,"OP_MOUSE_BUTTON_RIGHT","OP_STATE_UP"),(0,r.LB)(t,"OP_MOUSE_BUTTON_MIDDLE","OP_STATE_UP");break;case 7:(0,r.LB)(t,"OP_MOUSE_BUTTON_LEFT","OP_STATE_UP"),(0,r.LB)(t,"OP_MOUSE_BUTTON_RIGHT","OP_STATE_UP"),(0,r.LB)(t,"OP_MOUSE_BUTTON_MIDDLE","OP_STATE_UP")}},b=e=>{P(e),e.preventDefault()},/Firefox/i.test(navigator.userAgent)?p.addEventListener("DOMMouseScroll",b):p.addEventListener("mousewheel",b),S=e=>{0===e.movementX&&0===e.movementY||f(e)},p.addEventListener("pointerrawupdate",S);let h=0,f=e=>{let t=0;"number"==typeof window.wlcgMouseMovementSamplingInterval&&0<=window.wlcgMouseMovementSamplingInterval&&(t=window.wlcgMouseMovementSamplingInterval);var n=window.performance.now();n-h<t||(h=n,n=D(e),(0,r.R0)(n))},P=(document.onpointerlockchange=function(){clearTimeout(E),document.pointerLockElement===p?e=!0:(e=!1,E=setTimeout(()=>{"hide"===et.status&&((0,r.B1)(27,"OP_STATE_DOWN"),(0,r.B1)(27,"OP_STATE_UP"))},200))},e=>{let t=0;var n;(e=e||window.event).wheelDelta?(t=e.wheelDelta/120,window.opera&&(t=-t)):e.detail&&(t=-e.detail/3),t&&(n=t,e=D(e),(0,r.v7)(e,100*n))}),I=(e,t)=>{let n;t=2011===t?"OP_STATE_DOWN":"OP_STATE_UP",0===e.button?n="OP_MOUSE_BUTTON_LEFT":1===e.button?n="OP_MOUSE_BUTTON_MIDDLE":2===e.button&&(n="OP_MOUSE_BUTTON_RIGHT"),l(),e=D(e),(0,r.LB)(e,n,t)},D=e=>{var o={width:i.videoWidth,height:i.videoHeight},a={width:i.gameWidth,height:i.gameHeight};o=(0,r.nT)({x:e.offsetX,y:e.offsetY},o,a,0);return e&&(127<=(a={x:e.movementX,y:e.movementY}).x&&(a.x=127),127<=a.y&&(a.y=127),a.x<=-127&&(a.x=-127),a.y<=-127&&(a.y=-127),t+=a.x,n+=a.y),{mouseX:t,mouseY:n,cursorX:o.x,cursorY:o.y}};const w=(e,t)=>{(0,r.B1)(e,t?"OP_VK_TOGGLED":"OP_VK_UNTOGGLED")};let M=(e,t)=>{t=2011===t?"OP_STATE_DOWN":"OP_STATE_UP";let n=e.keyCode||e.newKeyCode;17===n&&("ControlLeft"===e.code?n=162:"ControlRight"===e.code&&(n=163)),16===n&&("ShiftLeft"===e.code?n=160:"ShiftRight"===e.code&&(n=161)),18===n&&("AltLeft"===e.code?n=164:"AltRight"===e.code&&(n=165));var i=91===e.keyCode&&m,u=93===e.keyCode&&m,l=(i?n=162:u&&(n=163),c[n]=t,e.getModifierState("CapsLock")),p=e.getModifierState("ScrollLock"),d=e.getModifierState("NumLock");switch(e.keyCode){case 20:o=l,w(e.keyCode,l);break;case 145:a=p,w(e.keyCode,p);break;case 144:s=d,w(e.keyCode,d);break;default:o!==l&&(o=l,w(20,l)),s!==d&&(s=d,w(144,d)),a!==p&&(a=p,w(145,p))}(0,r.B1)(n,t)}}else"mobile"===this.configs.envType?((0,o.Eb)()?e=>{Z=e,X={width:Z.gameWidth,height:Z.gameHeight},document.getElementById("WelinkGameVideo").ontouchstart=e=>{e.preventDefault(),t(e,"touchstart")},document.getElementById("WelinkGameVideo").ontouchmove=e=>{e.preventDefault(),t(e,"touchmove")},document.getElementById("WelinkGameVideo").ontouchend=e=>{e.preventDefault(),t(e,"touchend")};let t=(e,t)=>{document.querySelector("#WelinkGameVideo")&&document.querySelector("#WelinkGameVideo").muted&&(document.querySelector("#WelinkGameVideo").muted=!1),document.querySelector("#WelinkGameAudio")&&document.querySelector("#WelinkGameAudio").muted&&(document.querySelector("#WelinkGameAudio").muted=!1);var r=e.changedTouches;J=e.touches;for(let e=0;e<r.length;e++){var o=r[e];if("touchstart"===t){var i={identifier:o.identifier,pageX:o.pageX,pageY:o.pageY,type:"touchstart",primary:!0};if($=Q.length?(i.action=5,i.sendAction=5):(i.action=0,i.sendAction=0),Q.push(i),2<=Q.length)for(let e=0;e<Q.length;e++){var a=Q[e];e<Q.length-1&&(a.type="touchmove",a.primary=!1,a.sendAction=5)}}else if("touchend"===t)for(let e=0;e<Q.length;e++){var s=Q[e];o.identifier===s.identifier?(s.pageX=o.pageX,s.pageY=o.pageY,s.type="touchend",s.primary=!0,0===e?0===$||6===$?(s.action=1,s.sendAction=1,$=1):5===$&&(s.action=6,s.sendAction=6,$=6):(s.action=6,s.sendAction=6,$=6)):(s.type="touchmove",s.primary=!1,s.sendAction=$)}else if("touchmove"===t)for(let e=0;e<Q.length;e++){var c=Q[e];o.identifier===c.identifier&&(c.pageX=o.pageX,c.pageY=o.pageY),c.type="touchmove",c.action=2,c.sendAction=2,c.primary=0===e}}n()},n=()=>{var e=JSON.parse(JSON.stringify(Q)).sort((e,t)=>t.primary-e.primary),t=e.length;for(let r=0;r<t;r++){var n=e[r];for(let e=0;e<Q.length;e++)Q[e].identifier===n.identifier&&o(n,n.sendAction,t,e,n.type)}},o=(e,t,n,o,i)=>{let a,s,c=t;var u,l,p;t=document.getElementById("WelinkGameVideo").getBoundingClientRect(),e.pageX>=t.left&&e.pageY>=t.top&&e.pageX<=t.width+t.left&&e.pageY<=t.height+t.top?(a={x:parseInt(e.pageX-t.left),y:parseInt(e.pageY-t.top)},s={width:Z.videoWidth,height:Z.videoHeight},ee=(0,r.nT)(a,s,X,Z.rotate)):(ee={x:-1,y:-1},c=3),t=ee,u=c,p=(l=o)?parseInt(l):0,l="touchstart"===i||"touchend"===i||0===l&&1===n&&"touchmove"===i?"OP_STATE_DOWN":"OP_STATE_DEFAULT",(i=new proto.CG.PROTO.CoordinatePos).setX(t.x),i.setY(t.y),(t=new proto.CG.PROTO.OneInputOPData).setOpDevice(proto.CG.PROTO.OpMappingDevice.OP_MAPPING_DEV_TOUCH),t.setXinputUserIndex(p),t.setInputOp(u),t.setInputState(proto.CG.PROTO.OneInputOPData.InputState[l]),t.setCursorPos(i),t.setValue(n),(p=new proto.CG.PROTO.InputOPData).setOpListList([t]),u=(0,r.sO)(p.serializeBinary(),"CtrlMsg"),(0,r.LU)(u,"touch"),"touchend"===e.type&&Q.splice(o,1)}}:e=>{j=e;var t=document.getElementById("WelinkGameVideo");t.style.touchAction="none",document.getElementById(e.id).style.touchAction="none",t.onpointerdown=e=>{i(e)},t.onpointermove=e=>{i(e)},t.onpointerup=e=>{i(e)},t.onpointercancel=e=>{n()};const n=()=>{if(0!==H.size){var e=new proto.CG.PROTO.InputOPData,t=[],n=H.entries();let s=n.next(),c=n.next();for(;!s.done;){var[o,i]=s.value;a(o),c.done?i.setInputOp(1):i.setInputOp(6),i.setInputState(proto.CG.PROTO.OneInputOPData.InputState.OP_STATE_DEFAULT),i.setValue(H.size),t.push(i),s=c,c=n.next()}H.clear(),z=Array.from({length:10},()=>({pointerId:-1})),e.setOpListList(t),(0,r.z4)(e)}};let i=e=>{(0,o.$9)(),"mouse"!==e.pointerType&&(s(e),e.cancelable)&&e.preventDefault()},a=e=>{0<=e&&e<z.length&&(z[e].pointerId=-1)},s=e=>{let t=null;var n=new proto.CG.PROTO.InputOPData,o=[],i=new proto.CG.PROTO.OneInputOPData,s=(i.setOpDevice(proto.CG.PROTO.OpMappingDevice.OP_MAPPING_DEV_TOUCH),(e=>{for(var t=0;t<z.length;t++)if(z[t].pointerId==e)return t;return-1})(e.pointerId)),c=e.type;switch(c){case"pointerdown":-1==s&&(s=(e=>{for(var t=-1,n=0;n<z.length;n++){if(z[n].pointerId==e)return n;-1==z[n].pointerId&&-1==t&&(t=n)}return 0<=t&&t<z.length&&(z[t].pointerId=e),t})(e.pointerId)),q(s).isOutArea=!1,0==H.size?i.setInputOp(0):i.setInputOp(5);break;case"pointerup":a(s),1==H.size?i.setInputOp(1):i.setInputOp(6);break;case"pointermove":if(q(s).isOutArea)return;if(i.setInputOp(2),"mouse"==e.pointerType&&0==e.pressure)return;break;default:return}if(-1!=s){var u,l,p,d=document.getElementById("WelinkGameVideo").getBoundingClientRect(),h=(e.pageX>=d.left&&e.pageY>=d.top&&e.pageX<=d.width+d.left&&e.pageY<=d.height+d.top?(d={x:parseInt(e.pageX-d.left),y:parseInt(e.pageY-d.top)},u={width:j.videoWidth,height:j.videoHeight},h={width:j.gameWidth,height:j.gameHeight},t=(0,r.nT)(d,u,h,j.rotate),q(s).isOutArea?t={x:(d=q(s)).x,y:d.y}:K(s,t.x,t.y)):(u=q(s),K(s,u.x,u.y,!0),t={x:u.x,y:u.y}),new proto.CG.PROTO.CoordinatePos);switch(h.setX(t.x),h.setY(t.y),i.setCursorPos(h),i.setXinputUserIndex(s),i.setInputState(proto.CG.PROTO.OneInputOPData.InputState.OP_STATE_DOWN),c){case"pointerdown":case"pointermove":H.set(s,i),i.setValue(H.size);break;case"pointerup":i.setValue(H.size),H.delete(s)}for(l of(o.push(i),H))l[0]!=s&&((p=l[1]).setInputOp(i.getInputOp()),p.setInputState(proto.CG.PROTO.OneInputOPData.InputState.OP_STATE_DEFAULT),p.setValue(i.getValue()),o.push(p));n.setOpListList(o),(0,r.z4)(n)}}})(this.configs):"phoneToMouse"===this.configs.envType&&(0,te.handleTouchEvents)(this.configs);(0,d.hZ)(),window.removeEventListener("resize",qe),window.addEventListener("resize",qe)}}}encodeGameData(e){var t=(e=>{if("string"==typeof e)return e;let t="";var n=e.slice();for(let e=0;e<n.length;e++){var r=n[e].toString(2),o=r.match(/^1+?(?=0)/);if(o&&8==r.length){var i=o[0].length;let r=n[e].toString(2).slice(7-i);for(let t=1;t<i;t++)r+=n[t+e].toString(2).slice(2);t+=String.fromCharCode(parseInt(r,2)),e+=i-1}else t+=String.fromCharCode(n[e])}return t})(e[2]),{type:n="",data:r=""}=t.includes("OPEN_AUDIO0000")?(n=JSON.parse(t.slice(14)),{type:"openAudio",data:this.audioOpenInfo.audioInfo=n}):t.includes("WL_ARM_Url0000")?{type:"open_url",data:t.slice(14)}:t.includes("ARM_CLIP_DATA0")?{type:"clipboard",data:t.slice(14)}:t.includes("OPEN_VIBRATE00")?{type:"vibrate",data:JSON.parse(t.slice(14))}:{type:"",data:""};switch(n){case"openAudio":r.enable?(he(),this.micEnabled=!0):(de(),this.micEnabled=!1),this.handlePivotalAction("AUDIO_CHANNEL_SWITCH",r);break;case"open_url":this.onOpenUrl(r),this.handlePivotalAction("OPEN_URL",e[3]);break;case"clipboard":this.setClipBoard(r);break;case"vibrate":var o=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate;o&&o([1e3,500,1e3,500]);break;default:this.onGameData(e[2])}}messageDetail(e){let t;try{t=(0,r.Qm)(e)}catch(o){this.encodeGameData([null,null,e])}t[0],e=We(t[0]);var n,o=We(t[1]);switch(e){case"protoVersion":ae.by||((0,ae.oC)(!0),this.mIsStart&&this.sdkData.gsmToken?(0,r.mm)(this.sdkData.gsmToken,String(this.sdkData.codecType),this.sdkData.userId):(this.gsmInfo.startType===Ye.Om.DISPATCH?r.Mu:r.xY)(this.gsmInfo.packedData),$e||(0,r.Vr)(),(0,r.R4)(),this.handlePivotalAction("HAS_APPLY_START_UP"),clearInterval(ae.RF));break;case Me:o===Ge?this.handlePivotalAction("SERVER_READY_FOR_GAME"):o===Ae?this.handlePivotalAction("SERVER_HANDLE_ARCHIVE"):o===Ne&&this.handlePivotalAction("SERVER_START_GAME");break;case"Offline":case Re:case"GameExit":-1!=t[1].indexOf("-")&&(i=t[1].split("-"),clearTimeout(this.getStatsTimer),this.handlePivotalAction(parseInt(i[0]),i[1])),this.gsErrorReceived=!0,(0,ae.lY)(),(0,ae.Mx)();break;case ke:var i=(new Date).getTime();i=parseInt(i-this.timeDelay);this.rtcReportDataList.netWorkDelay=i,Ze.data.networkDelay=i,this.rtcReportDataList.netWorkDelay=i,this.rtcReportDataList.serverFps=t[4],Ze.data.serverFps=t[4];break;case"keepLive":this.gameStartSuccess||this.handlePivotalAction("SERVER_START_GAME_LOADING");break;case"ClipBoard":this.setClipBoard(t[1]);break;case"OnOthers":if("open_url"==o)this.onOpenUrl(t[3]),this.handlePivotalAction("OPEN_URL",t[3]);else if("clipboard"==o)this.setClipBoard(t[3]);else if("ime"===o){if(this.handlePivotalAction("RECEIVED_IME",t[3]),ze=!0,clearInterval(void 0),!document.querySelector("#wl_virtual_input")){const e=document.createElement("input");e.type="text",e.id="wl_virtual_input",e.style.position="absolute",e.style.bottom="20px",e.style.left="40px",e.style.opacity="0",e.style.width="50px",e.style.pointerEvents="none",e.addEventListener("blur",()=>{ze&&e.focus()}),document.querySelector("body").appendChild(e),e.addEventListener("input",e=>{"insertText"===e.inputType&&Je&&Je.sendMSGToGame(e.data)}),e.addEventListener("compositionend",e=>{Je&&Je.sendMSGToGame(e.data)}),e.addEventListener("keydown",e=>{8===e.keyCode&&Je&&Je.onKeyBoardEvent(e.keyCode,Je.KEY_DOWN)}),e.addEventListener("keyup",e=>{8===e.keyCode&&Je&&Je.onKeyBoardEvent(e.keyCode,Je.KEY_UP)})}document.querySelector("#wl_virtual_input").focus()}else"ime_close"===o?(this.handlePivotalAction("CLOSE_IME"),He()):o===Fe?(0,d.L6)(t[3],t[4]):(i=t[4].split("|"),this.OnGamePadVibration(t[3],i[0],i[1]));break;case"OnCursorData":if("show"===t[1]){let e;if(et.status="show",-1<t[3].indexOf("xHotspot"))try{e="data:image/x-icon;base64,"+(n=JSON.parse(t[3])).data;var s=200<Math.abs(n.xHotspot)?0:n.xHotspot,u=200<Math.abs(n.yHotspot)?0:n.yHotspot;document.getElementById("WelinkGameVideo").style.cursor=`url(${e}) ${s} ${u} ,none`,et.xHotspot=s,et.yHotspot=u,et.url=e}catch(o){}else e="data:image/x-icon;base64,"+t[3],document.getElementById("WelinkGameVideo").style.cursor=`url(${e}) 0 0 ,none`,et.xHotspot=0,et.yHotspot=0,et.url=e;document.exitPointerLock&&document.exitPointerLock()}else et.status!==t[1]&&(et.status="hide",this.configs.lockPoint)&&!T&&(0,r.I8)("WelinkGameVideo");this.onCursorData("show"===et.status,et.url,et.xHotspot,et.yHotspot);break;case"OnCursorPos":break;case"ResetDecoder":this.serverScreenIsRotation="Rotation"===t[1];break;case"BitrateChange":this.rtcReportDataList.bitrate=Number(t[1]),t[4]&&([i,n]=t[4].split("x"),(i=Number(i))<(n=Number(n))&&this.serverScreenIsRotation?(this.configs.gameWidth=n,this.configs.gameHeight=i):(this.configs.gameWidth=i,this.configs.gameHeight=n)),this.lastServerResolutionRatio!==t[4]&&(this.lastServerResolutionRatio=t[4],[s,u]=t[4].split("x"),s=Number(s),u=Number(u),s&&u&&(this.currentFrameWidth=s,this.currentFrameHeight=u,Ke()),this.handlePivotalAction("SERVER_RESOLUTION_RATIO",t[4]));break;case"ServerMessage":i=[t[1],t[3],t[4]],this.handlePivotalAction("SERVER_MESSAGE",JSON.stringify(i));break;case"NoInputNotify":this.handlePivotalAction("NO_INPUT_NOTIFY",{noInputTotal:t[1],noInputTime:t[3]});break;case Le:this.onGameData(t[2]),Xe.onGameDataCount+=1,Xe.businessDataConfirm(t[1]);break;case"BusinessData":try{var l=(0,r.Qm)(t[2]);if(Array.isArray(l)&&l.length&&2<=l[4].length&&"wl"===l[4].substr(0,2))this.onGameDataWithKey(l[0],l[2]);else if((e=>{try{var t=e.slice(0,14);return"TRANS_PROTOBUF"===(new TextDecoder).decode(t)}catch(e){return!1}})(t[2]))try{var p=t[2],h=proto.PipeTransData.deserializeBinary(p.slice(14));switch(h.getTranstype()){case proto.PipeTransData.TransType.FILE:if(null!==(y=h.getFiledata())){var f=y.getName(),g=y.getData(),m=(y.getCreatetime(),y.getSize(),y.getModifytime(),y.getCurrentpart()),y=y.getTotalpart();let e=ne.get(f);e||(ne.set(f,[]),e=ne.get(f)),e.push({current:m,data:g}),e.length===y&&(g=(e=>{var t=e.reduce((e,t)=>e+t.length,0),n=new Uint8Array(t);let r=0;for(let t=0;t<e.length;t++)n.set(e[t],r),r+=e[t].length;return n})(m=e.sort((e,t)=>e.current-t.current).map(e=>e.data)),y=new Blob([g.buffer]),(m=document.createElement("a")).href=URL.createObjectURL(y),m.download=f,m.click(),URL.revokeObjectURL(m.href),ne.delete(f))}case proto.PipeTransData.TransType.TXT:case proto.PipeTransData.TransType.JSON:}}catch(o){}else this.onGameData(t[2])}catch(o){this.encodeGameData(t)}Xe.onGameDataCount+=1,Xe.businessDataConfirm(t[1]);break;case"BusinessDataConfirm":Xe.removeGameData(t[1]);break;case"OpenAudio":he(),this.micEnabled=!0;break;case"CloseAudio":de(),this.micEnabled=!1;break;case"GSProxyHeartbeat":clearTimeout(this.gsProxyHBTimeout),this.gsProxyHBTimeout=setTimeout(()=>{this.handlePivotalAction("CONNECT_FAILED",(0,c.Z)("WeLinkInitGames_the_connection_to"))},a.Sc);break;case"RestartGame":Be("RELAUNCHGAME_SUCCESS",{result:!0}),Ve=!0;break;case"ServerState":ge();try{let e=JSON.parse(t[1]).audio;"string"==typeof e&&(e=JSON.parse(e)),this.audioOpenInfo.audioInfo=e,this.audioOpenInfo.isFromBackGround&&(this.audioOpenInfo.isFromBackGround=!1,this.handlePivotalAction("AUDIO_STATUS",(0,c.Z)("WeLinkInitGames_switched_to_foreground")+"--"+(this.audioOpenInfo.audioInfo?JSON.stringify(this.audioOpenInfo.audioInfo):""))),this.audioOpenInfo.isFromReconnected&&(this.audioOpenInfo.isFromReconnected=!1,this.handlePivotalAction("AUDIO_STATUS",(0,c.Z)("WeLinkInitGames_reconnection_successful")+"--"+(this.audioOpenInfo.audioInfo?JSON.stringify(this.audioOpenInfo.audioInfo):""))),e.hasOwnProperty("enable")&&(e.enable?(he(),this.micEnabled=!0):(de(),this.micEnabled=!1),this.handlePivotalAction("AUDIO_CHANNEL_SWITCH",e))}catch(o){}}}changBitrate(e){e=String(e),e=(0,r.sO)(e.toString(),"ResetVideoBitrate"),(0,r.LU)(e,"changBitrate")}autoBitrateAdjust(e){var t=(0,r.sO)(e.toString(),"autoBitrateAdjust");(0,r.LU)(t,"autoBitrateAdjust"),Ze.handleReport(6402,"autoBitrateAdjust-"+e,"INFO")}handleStartGameInfo(e,t,n,o){var i;re.ZP.FIRST_VIDEO_FRAME_RECEIVED.code===e?(this.reconnectConfig.times=0,this.reconnectConfig.started=!1,ne.clear(),$e&&tt&&(i=(0,r.sO)("0","StateSync"),(0,r.LU)(i,"cuttingForeground")),tt=0,nt=0,clearTimeout(this.reconnectConfig.timer),this.mIsStart=!0,this.gameStartSuccess=!0,this.isOnceStartError=!1,this.gsProxyBeatInterval=setInterval(()=>{this.gsProxyHeartBeat()},1e3)):re.ZP.SERVER_CONNECT_SUCCESS.code===e&&(clearTimeout(this.connectTimeoutTimer),this.reconnectConfig.started)&&(this.handlePivotalAction("RECONNECT_SUCCESS"),me(),this.audioOpenInfo.isFromReconnected=!0),n||(e===re.ZP.NETWORK_CONDITION.code?(i={desc:t.desc,value:t.value},this.onMessage(e,i),this.startGameInfo(e,i)):(this.onMessage(e,t),this.startGameInfo(e,t))),o&&Ze&&this.gsmInfo.startType===Ye.Om.DISPATCH&&Ze.handleReport(e,t,"INFO")}handleStartGameError(e,t,n,r=!1){var i,s=[re.ZP.CONNECT_FAILED.code,re.ZP.SERVER_CONNECT_FAILED.code,re.ZP.SERVER_CONNECT_TIMEOUT.code];s.includes(e)&&(nt=nt||(new Date).getTime(),this.micEnabled&&(this.micEnabled=!1,de(),this.handlePivotalAction("AUDIO_STATUS",(0,c.Z)("WeLinkInitGames_disconnected")+"--"+(this.audioOpenInfo.audioInfo?JSON.stringify(this.audioOpenInfo.audioInfo):""))),this.mIsStart&&(this.configs.enableReconnect?this.reconnectServer():clearTimeout(this.connectTimeoutTimer)),!this.mIsStart)&&this.isOnceStartError&&(e=(i=re.if[e]).code,n=i.notThrow,(!this.isSingleLineModel||this.reconnectConfig.times>=a.DI)&&(this.isOnceStartError=!1),this.reconnectServer()),n||(this.onMessage(e,t),this.startGameError(e,t)),Ze&&this.gsmInfo.startType===Ye.Om.DISPATCH&&(!s.includes(e)&&e!==re.ZP.RECONNECT_FAILD_NEW.code||null===(i=(0,o.E8)(be))||(window.weLinkTestReport&&window.weLinkTestReport("NETWORK_DISCONNECT_CONDITION_"+Ee,{staticsList:be,networkDisconnectConditionResult:i}),t=i),Ze.handleReport(e,t,"ERROR")),this.gsErrorReceived&&r&&this.handleCancelGame()}async handleGS1112(e,t,n,r){var o,i;this.reconnectConfig.started&&(o=(new Date).getTime(),i=await this.getGsConnectionTimeout(),tt&&o-tt>i||nt&&o-nt>i)&&(this.handleStartGameError(re.ZP.RECONNECT_FAILD_NEW.code,t||(0,c.Z)("WeLinkInitGames_reconnection_timed_out"),!0),tt=0,nt=0),"ERROR"===r?this.handleStartGameError(e,t,n,!0):this.handleStartGameInfo(e,t,n,r)}handlePivotalAction(e,t){if(!this.gsErrorReceived){let r,o,i;var n=re.ZP[e];if(t=t||n.msg,n)r=n.code,o=n.type,i=n.notThrow;else{if(!re.zN.includes(e))return;r=e,o="ERROR"}1112===r||1110===r?this.handleGS1112(r,t,i,o):"ERROR"===o?this.handleStartGameError(r,t,i):this.handleStartGameInfo(r,t,i,o)}}setClipBoard(e){this.configs.enableClipBoard&&window.navigator.clipboard.writeText(e).then(()=>{this.handlePivotalAction("CLIPBOARD_DATA_FROM_SERVER",e),Ze.handleReport(6133,"sendStrToClipboard-"+e,"INFO")}).catch(()=>{})}setFps(e){var t=(0,r.sO)({arg:String(e)},"SetFps");(0,r.LU)(t,"setFps"),Ze.handleReport(6407,"setFps-"+e,"INFO")}setCursorMode(e){e=(0,r.sO)({arg:String(e)},"SetCursorMode"),(0,r.LU)(e,"SetCursorMode")}handleStartGame(e,t=Ye.Om.DISPATCH){if(this.gsmInfo.startType=t,Ze.data.publicKey=e.clog||"",Ze.startDataStatics(),this.gsmInfo.startType===Ye.Om.DISPATCH){if(!e.auth)return void this.handlePivotalAction("INIT_PARAM_NOT_EXIST",(0,c.Z)("WeLinkInitGames_start_the_game"));if(!e.packedData)return void this.handlePivotalAction("INIT_PARAM_NOT_EXIST",(0,c.Z)("WeLinkInitGames_start_the_game_2"));if(!e.verify)return void this.handlePivotalAction("INIT_PARAM_NOT_EXIST",(0,c.Z)("WeLinkInitGames_start_the_game_3"));this.gsmInfo.auth=e.auth,this.gsmInfo.verify=e.verify,this.gsmInfo.packedData=e.packedData,this.assignResultParam=e.assignResultParam,this.preConnectToGS()}else this.gsmInfo.packedData=e,this.configs.socketUrl=$e?`ws://${this.configs.socketUrl}/webrtc-proxy`:"ws://"+this.configs.socketUrl,(0,ae.Yr)(this.configs.socketUrl,Ye.Om.DIRECT);this.configs.lockPoint&&((0,r.I8)("WelinkGameVideo"),/Firefox/i.test(navigator.userAgent)?setTimeout(()=>{document.exitPointerLock&&document.exitPointerLock()},1):document.exitPointerLock&&document.exitPointerLock())}getCurrentIp(){if(!this.configs.isOverseas&&this.isSingleLineModel)return(0,i.ph)(this.configs.IspUrl).then(e=>{var t;200===e.code?(Ze.data.getisp=e.data.type||"",Ze.data.city=e.data.city||"",Ze.data.province=e.data.region||"",(t=this.gsIpList.find(t=>t.type===e.data.type))?(this.currentIp=t.lineIp,Ze.data.isp=t.type):this.dealwithIP(),Ze.data.gsIp=this.currentIp):(this.handlePivotalAction("GET_NETWORK_OPERATOR_FAILED"),this.dealwithIP())}).catch(()=>{this.handlePivotalAction("GET_NETWORK_OPERATOR_FAILED"),this.dealwithIP()})}async preConnectToGS(){Ce=setInterval(()=>{var e=document.getElementById("WelinkGameVideo"),t=document.getElementById("WelinkGameAudio");e&&e.paused&&e.play().then(()=>{}).catch(e=>{}),t&&t.paused&&t.play().then(()=>{}).catch(e=>{})},2e3),await this.getCurrentIp(),this.handleSwitchIsp();let e=`ws://${this.currentIp}:`+this.webRtcPort;$e&&(e+="/webrtc-proxy"),(0,ae.Yr)(e),clearTimeout(this.connectTimeoutTimer),this.connectTimeoutTimer=setTimeout(()=>{this.handlePivotalAction("SERVER_CONNECT_TIMEOUT")},a.bb)}handleSwitchIsp(){var e;this.isSingleLineModel&&1<this.gsIpList.length&&!this.isOnceStartError&&(e=(e=this.gsIpList.filter(e=>e.lineIp!==this.currentIp))[Math.floor(Math.random()*e.length)],this.currentIp=e.lineIp,Ze.data.isp=e.type,Ze.data.gsIp=this.currentIp)}handleReconnectServer(){ae.fg&&ae.fg.close&&ae.fg.close(),ae.bF&&ae.bF.close&&ae.bF.close(),this.reconnectConfig.started=!0,this.reconnectConfig.times+=1,this.clearAllEvents(),this.handlePivotalAction("START_RECONNECT"),this.gameStartSuccess=!1,this.firstReceived6117=!1,clearTimeout(this.wechatAutoplayFailedTimer),this.gsmInfo.startType===Ye.Om.DISPATCH?this.preConnectToGS():(0,ae.Yr)(this.configs.socketUrl,Ye.Om.DIRECT)}reconnectServer(){this.gsErrorReceived||(Ze.handleReport(6321,"reconnectServer","INFO"),this.reconnectConfig.times>=a.cC?(this.reconnectConfig.times=0,this.reconnectConfig.started=!1,clearTimeout(this.reconnectConfig.timer),clearTimeout(this.connectTimeoutTimer),this.handlePivotalAction("RECONNECT_FAILD"),this.configs.enableReconnect&&(clearTimeout(this.reconnectServerFailedTimer),this.reconnectServerFailedTimer=setTimeout(()=>{this.reconnectServer()},3e3))):this.reconnectConfig.started?(clearTimeout(this.reconnectConfig.timer),this.reconnectConfig.timer=setTimeout(()=>{this.handleReconnectServer()},a.aG)):this.handleReconnectServer())}dealwithIP(){var e=this.gsIpList.length;e&&(e=Math.floor(Math.random()*e),e=this.gsIpList[e],this.currentIp=e.lineIp,Ze.data.isp=e.type,Ze.data.gsIp=this.currentIp)}async getGsConnectionTimeout(){var e="TENANT_ALL_NODE_LIST_"+this.configs.tenantId;try{var t=await s.ZP.getItem(e),{gct:n=6e4}=t&&JSON.parse(t)||{};return n}catch(e){return 6e4}}onGameBackground(){var e=(0,o.tV)("hidden","Hidden"),t=(0,o.tV)("visibilityState","VisibilityState");document[e]||document[t]===e?(tt=(new Date).getTime(),this.micEnabled&&(this.micEnabled=!1,de(),this.handlePivotalAction("AUDIO_STATUS",(0,c.Z)("WeLinkInitGames_switched_to_background")+"--"+(this.audioOpenInfo.audioInfo?JSON.stringify(this.audioOpenInfo.audioInfo):"")))):(me(),this.audioOpenInfo.isFromBackGround=!0)}addBackgroundListener(){var e=(0,o.qQ)();document.addEventListener(e,this.onGameBackgroundBind)}removeBackgroundListener(){var e=(0,o.qQ)();document.removeEventListener(e,this.onGameBackgroundBind)}reStartGame(){var e;xe||(e=(Ve=!1,r.sO)("","RestartGame"),(0,r.LU)(e,"relauchStart"),Be("RELAUNCHGAME_START","app call reStartGame"),xe=setTimeout(Ue,3e3))}setKeyboardLayout(e){var t;"string"==typeof e&&je.I[e]&&((t=new proto.WLCGV2.SimpleCmd).setCmd("KeyboardLayout"),t.setArg(e),(0,r.LU)(t.serializeBinary(),"KeyboardLayout"))}getPluginVersion(e){var{version:t,versions:n}=function(e){var t=window.WelinkPlugins||[];let n="";const r=[];return t&&0<t.length&&t.forEach(t=>{t&&t.name===e&&(n=t.getVersion()),r.push({name:t.name||"",version:t.getVersion()})}),{version:n,versions:r}}(e);return e?t:n}setGameResolution(e,t){var n;"number"==typeof e&&0<e&&"number"==typeof t&&0<t?((n=new proto.WLCGV2.SimpleCmd).setCmd("SetGameResolution"),n.setArg(e.toString()),n.setArg1(t.toString()),(0,r.LU)(n.serializeBinary(),"SetGameResolution"),this.handlePivotalAction("SET_GAME_RESOLUTION",e+"x"+t)):this.handlePivotalAction("SET_GAME_RESOLUTION","Invalid Parameter")}gameVideoPlay(){var e=document.getElementById("WelinkGameVideo"),t=document.getElementById("WelinkGameAudio");null!==e&&e.play(),null!==t&&t.play()}setBitrateRange(e,t){e&&"number"==typeof e&&t&&"number"==typeof t&&(t<=this.preBitrateMin?(this.autoBitrateAdjust(e),this.setBitrate(t)):(this.setBitrate(t),this.autoBitrateAdjust(e)),this.preBitrateMax=t,this.preBitrateMin=e)}setGameScreenAdaptation(e){"boolean"==typeof e&&(this.configs.fillVideo=!e,Ke())}}},175:(e,t,n)=>{"use strict";n.d(t,{B1:()=>_,I8:()=>E,LB:()=>m,LU:()=>c,Mu:()=>l,Qm:()=>u,R0:()=>y,R4:()=>P,Rs:()=>a,TA:()=>f,Vr:()=>T,Xj:()=>D,av:()=>I,b2:()=>S,mm:()=>p,nT:()=>g,r9:()=>C,sO:()=>h,v7:()=>v,xY:()=>d,z4:()=>w});var r=n(383),o=n(972),i=n(35);let a=()=>{var e={btype:"",os:(0,r.ag)(),osVer:"",clientVer:"4.4.18",osCategory:"H5",isOneLine:1},t=navigator.userAgent;return-1<t.indexOf("Firefox")?e.osVer=t.split(")")[1]:-1<t.indexOf("Chrome")||-1<t.indexOf("Safari")||-1<t.indexOf("Edge")?e.osVer=t.split(")")[2]:e.osVer=t,JSON.stringify(e)};const s=({cursorPos:e,mousePos:t,device:n,index:r,action:i,state:a,value:s})=>{r=null!==o.dP?o.dP:r;var c=new proto.CG.PROTO.OneInputOPData;return null!=n&&c.setOpDevice(n),null!=r&&c.setXinputUserIndex(r),null!=i&&c.setInputOp(i),null!=a&&c.setInputState(a),null!=s&&c.setValue(s),null!=e&&((n=new proto.CG.PROTO.CoordinatePos).setX(e.x),n.setY(e.y),c.setCursorPos(n)),null!=t&&((r=new proto.CG.PROTO.CoordinatePos).setX(t.x),r.setY(t.y),c.setMousePos(r)),(i=new proto.CG.PROTO.InputOPData).setOpListList([c]),h(i.serializeBinary(),"CtrlMsg")};let c=(e,t)=>{if(i.bF&&"open"===i.bF.readyState)switch(["mousemove","touchEvent"].includes(t),i.bF.readyState){case"connecting":break;case"open":i.bF.send(e)}},u=e=>proto.WLCGV2.SimpleCmd.deserializeBinary(e).j,l=e=>{e=encodeURI(e),e=btoa(e),e=h(e,"PackedData"),c(e,"startGameDispatch")};const p=(e,t,n)=>{e=h({arg:e,arg1:t,data:(0,r.sy)(n)},"auth"),c(e,"auth")};let d=e=>{(n=new proto.WLCGV2.VideoSettings).setWidth(parseInt(e.video.width)),n.setHeight(parseInt(e.video.height)),n.setCodecType(parseInt(e.video.codec_type)),n.setBitRate(parseInt(e.video.bit_rate)),n.setFps(parseInt(e.video.fps));var t=new proto.WLCGV2.ClientFirstOnline,n=(t.setGsmId(e.gsm_id),t.setDeviceUuid(e.device_uuid),t.setToken(e.token),t.setClientVer(e.client_ver),t.setVideo(n),t.setGsmToken(e.gsm_token),t.setSerialId(e.serial_id),t.setSaveId(e.save_id),t.setGameIdStr(e.game_id_str),t.setGameMode(e.game_mode),t.setInstanceId(e.instance_id),t.setAccountId(e.account_id),t.setCmdLine(e.cmd_line),t.setExtparam(e.extparam),t.setGamepath(e.testGamePath),t.setCfgpath(e.testAdapterPath),h(t.serializeBinary(),"ClientOnline"));c(n,"Direct")},h=(e,t)=>{var n=new proto.WLCGV2.SimpleCmd;return n.setCmd(t),"ClientOnline"==t||"PackedData"==t||"CtrlMsg"==t||"ChannelType"==t?n.setData(e):"InputString"==t||"ClipBoard"==t||"ResetVideoBitrate"==t||"autoBitrateAdjust"==t||"BusinessDataConfirm"==t||"StateSync"===t?n.setArg(e):"SendDataToGame"==t?(n.setArg(e.data),n.setArg1(e.index)):"DataToGameWithKey"==t?(n.setData(e.data),n.setArg(e.index),n.setArg1(e.key)):"changeAVC"===t?(n.setArg(e),n.setArg1(e)):"SetVideoArea"===t?(n.setArg(e.arg),n.setArg1(e.arg1)):"SetFps"===t||"SetCursorMode"===t?n.setArg(e.arg):"auth"===t&&(n.setArg(e.arg),n.setArg1(e.arg1),n.setData(e.data)),n.serializeBinary()},f=(e,t="InputString")=>{e=h(e.toString(),t),c(e,"sendMsgToGame")},g=(e,t,n,r)=>{let i=e.x||0,a=e.y||0;(e=null===o.Ed||void 0===o.Ed||null==(e=o.Ed.configs)?void 0:e.currentVideoArea)&&(r?(a-=e.x||0,i-=e.y||0):(i+=e.x||0,a+=e.y||0)),e=t.width?parseInt(t.width):0,t=t.height?parseInt(t.height):0;var s,c=n.width?parseInt(n.width):0;n=n.height?parseInt(n.height):0;let u={x:parseInt(c/e*i),y:parseInt(n/t*a)};return r&&(r=a,s=Math.abs(i-t),u={x:parseInt(c/e*r),y:parseInt(n/t*s)}),u},m=(e,t,n)=>{e=s({cursorPos:{x:e.cursorX,y:e.cursorY},mousePos:{x:e.mouseX,y:e.mouseY},device:proto.CG.PROTO.OpMappingDevice.OP_MAPPING_DEV_MOUSE,index:0,action:proto.CG.PROTO.OneInputOPData.InputOP[t],state:proto.CG.PROTO.OneInputOPData.InputState[n]}),c(e,"mouseEvent")};const y=e=>{e=s({cursorPos:{x:e.cursorX,y:e.cursorY},mousePos:{x:e.mouseX,y:e.mouseY},device:proto.CG.PROTO.OpMappingDevice.OP_MAPPING_DEV_MOUSE,index:0,action:proto.CG.PROTO.OneInputOPData.InputOP.OP_MOUSE_MOV,state:proto.CG.PROTO.OneInputOPData.InputState.OP_STATE_DEFAULT}),c(e,"mousemove")},_=(e,t)=>{t=s({device:proto.CG.PROTO.OpMappingDevice.OP_MAPPING_DEV_KEYBOARD,index:0,state:proto.CG.PROTO.OneInputOPData.InputState[t],action:e}),c(t)},v=(e,t)=>{e=s({cursorPos:{x:e.cursorX,y:e.cursorY},mousePos:{x:e.mouseX,y:e.mouseY},device:proto.CG.PROTO.OpMappingDevice.OP_MAPPING_DEV_MOUSE,index:0,action:proto.CG.PROTO.OneInputOPData.InputOP.OP_MOUSE_WHEEL,state:proto.CG.PROTO.OneInputOPData.InputState.OP_STATE_DEFAULT,value:parseInt(t)}),c(e)};let O=0,C=(e,t="OP_XINPUT_BUTTONS",n,r)=>{"OP_XINPUT_BUTTONS"==t?(0!==e?O+=r:O-=r,b(O,t,n)):b(e,t,n)},b=(e,t,n)=>{n=s({device:proto.CG.PROTO.OpMappingDevice.OP_MAPPING_DEV_XINPUT,index:n,action:proto.CG.PROTO.OneInputOPData.InputOP[t],value:e}),c(n,"gamePadEvent")},S=()=>{var e=localStorage.getItem("welink_cloud_game_uuid");return e&&"null"!=e||(e=(0,r.Rl)(),localStorage.setItem("welink_cloud_game_uuid",e)),e};const E=e=>{if(e=document.getElementById(e))try{e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock().catch(e=>{})}catch(e){}},T=()=>{var e=new Uint8Array([10,11,67,104,97,110,110,101,108,84,121,112,101,18,9,228,184,187,233,128,154,233,129,147,26,9,51,48,49,53,48,48,49,48,48,34,1,48,42,2,50,51]);c(e,"ChannelType")},P=()=>{(e=new proto.WLCGV2.SimpleCmd).setCmd("intercept_app"),e.setArg('{"transFile":true,"transJson":true,"transTxt":false}');var e=e.serializeBinary();c(e,"ChannelType")},I=()=>{var e=s({cursorPos:{x:1,y:1},device:999,index:0,action:proto.CG.PROTO.OneInputOPData.InputOP.OP_INPUT_OP_DEFAULT,value:1});c(e,"keepAliveForGame")},D=e=>{var t=h("pause"===e?"0":"1","changeAVC");c(t,e)};let w=e=>{e=h(e.serializeBinary(),"CtrlMsg"),c(e,"touchEvent")};window.$setTransDataAllowed=P},300:()=>{!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}c=n[a]={exports:{}},t[a][0].call(c.exports,(function(e){return o(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var i=void 0,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){var r,o=this||self;function i(e,t,n){(e=e.split("."))[0]in(n=n||o)||void 0===n.execScript||n.execScript("var "+e[0]);for(var r;e.length&&(r=e.shift());)e.length||void 0===t?n=n[r]&&n[r]!==Object.prototype[r]?n[r]:n[r]={}:n[r]=t}function a(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var c="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function u(e,t,n,r){var o,i="Assertion failed";throw n?(i+=": "+n,o=r):e&&(i+=": "+e,o=t),Error(i,o||[])}function l(e,t,n){for(var r=[],o=2;o<arguments.length;++o)r[o-2]=arguments[o];return e||u("",null,t,r),e}function p(e,t){for(var n=[],r=1;r<arguments.length;++r)n[r-1]=arguments[r];throw Error("Failure"+(e?": "+e:""),n)}function d(e,t,n,r){for(var o=[],i=3;i<arguments.length;++i)o[i-3]=arguments[i];e instanceof t||u("Expected instanceof %s but got %s.",[h(t),h(e)],n,o)}function h(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e}var f=Array.prototype.forEach?function(e,t){Array.prototype.forEach.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in r&&t.call(void 0,r[o],o,e)},g=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),o="string"==typeof e?e.split(""):e,i=0;i<n;i++)i in o&&(r[i]=t.call(void 0,o[i],i,e));return r},m={},y=null;function _(e){function t(e){o[i++]=e}var n=e.length,r=3*n/4,o=(r%3?r=Math.floor(r):-1!="=.".indexOf(e[n-1])&&(r=-1!="=.".indexOf(e[n-2])?r-2:r-1),new Uint8Array(r)),i=0,a=e;function s(e){for(;c<a.length;){var t=a.charAt(c++),n=y[t];if(null!=n)return n;if(!/^[\s\xa0]*$/.test(t))throw Error("Unknown base64 encoding at char: "+t)}return e}v();for(var c=0;;){var u=s(-1),l=s(0),p=s(64),d=s(64);if(64===d&&-1===u)break;t(u<<2|l>>4),64!=p&&(t(l<<4&240|p>>2),64!=d)&&t(p<<6&192|d)}return o.subarray(0,i)}function v(){if(!y){y={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;n<5;n++){var r=e.concat(t[n].split(""));m[n]=r;for(var o=0;o<r.length;o++){var i=r[o];void 0===y[i]&&(y[i]=o)}}}}var O=0,C=0;function b(e){var t=e>>>0;e=Math.floor((e-t)/4294967296)>>>0,O=t,C=e}function S(e){var t=e<0,n=(e=Math.abs(e))>>>0;e=Math.floor((e-n)/4294967296),e>>>=0,t&&(e=~e>>>0,4294967295<(n=1+(~n>>>0)))&&(n=0,4294967295<++e)&&(e=0),O=n,C=e}function E(e,t){return 4294967296*t+(e>>>0)}function T(e,t){var n=2147483648&t;return n&&(t=~t>>>0,0==(e=1+~e>>>0))&&(t=t+1>>>0),e=E(e,t),n?-e:e}function P(e,t){var n=-(1&e);return T((e>>>1|t<<31)^n,t>>>1^n)}function I(e){return e.constructor===Uint8Array?e:e.constructor===ArrayBuffer||e.constructor===Array?new Uint8Array(e):e.constructor===String?_(e):e instanceof Uint8Array?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):(p("Type not convertible to Uint8Array."),new Uint8Array(0))}function D(e,t,n){this.b=null,this.a=this.f=this.i=0,this.u=!1,e&&R(this,e,t,n)}var w=[];function M(e,t,n){var r;return w.length?(r=w.pop(),e&&R(r,e,t,n),r):new D(e,t,n)}function R(e,t,n,r){e.b=I(t),e.i=void 0!==n?n:0,e.f=void 0!==r?e.i+r:e.b.length,e.a=e.i}function k(e,t){e.a+=t,l(e.a<=e.f)}function L(e,t){for(var n=128,r=0,o=0,i=0;i<4&&128<=n;i++)r|=(127&(n=e.b[e.a++]))<<7*i;if(128<=n&&(r|=(127&(n=e.b[e.a++]))<<28,o|=(127&n)>>4),128<=n)for(i=0;i<5&&128<=n;i++)o|=(127&(n=e.b[e.a++]))<<7*i+3;if(n<128)return t(r>>>0,o>>>0);p("Failed to read varint, encoding is invalid."),e.u=!0}function G(e,t,n){this.a=M(e,t,n),this.u=this.a.a,this.b=this.f=-1,this.i=!1}function A(e,t){l(2==e.b);for(var n=e.a.m(),r=(n=e.a.a+n,[]);e.a.a<n;)r.push(t.call(e.a));return r}function N(){this.a=[]}function F(e){var t=e.a;return e.a=[],t}function W(e){var t=O,n=C;for(l(t==Math.floor(t)),l(n==Math.floor(n)),l(0<=t&&t<4294967296),l(0<=n&&n<4294967296);0<n||127<t;)e.a.push(127&t|128),t=(t>>>7|n<<25)>>>0,n>>>=7;e.a.push(t)}function x(e,t,n){l(t==Math.floor(t)),l(n==Math.floor(n)),l(0<=t&&t<4294967296),l(0<=n&&n<4294967296),e.o(t),e.o(n)}function V(e,t){for(l(t==Math.floor(t)),l(0<=t&&t<4294967296);127<t;)e.a.push(127&t|128),t>>>=7;e.a.push(t)}function B(e,t){if(l(t==Math.floor(t)),l(-2147483648<=t&&t<2147483648),0<=t)V(e,t);else{for(var n=0;n<9;n++)e.a.push(127&t|128),t>>=7;e.a.push(1)}}function U(e,t){l(t==Math.floor(t)),l(0<=t&&t<0x10000000000000000),S(t),W(e)}function j(e,t){l(t==Math.floor(t)),l(-0x8000000000000000<=t&&t<0x8000000000000000),S(t),W(e)}function z(e,t){l(t==Math.floor(t)),l(-2147483648<=t&&t<2147483648),V(e,(t<<1^t>>31)>>>0)}function H(e,t){l(t==Math.floor(t)),l(-0x8000000000000000<=t&&t<0x8000000000000000);var n=t,r=(t=n<0,b(n=2*Math.abs(n)),n=O,C);t&&(0==n?0==r?r=n=4294967295:(r--,n=4294967295):n--),O=n,C=r,W(e)}function Y(e,t){this.a=e,this.b=t}function K(e){return new Y((e.a>>>1|(1&e.b)<<31)>>>0,e.b>>>1>>>0)}function q(e){return new Y(e.a<<1>>>0,(e.b<<1|e.a>>>31)>>>0)}function X(e){var t=65535&e,n=e>>>16;for(e=10*t+65536*(0*t&65535)+65536*(10*n&65535),t=0*n+(0*t>>>16)+(10*n>>>16);4294967296<=e;)e-=4294967296,t+=1;return new Y(e>>>0,t>>>0)}function Z(){this.f=[],this.b=0,this.a=new N,this.i=[]}function J(e,t){return $(e,t,2),t=F(e.a),e.f.push(t),e.b+=t.length,t.push(e.b),t}function Q(e,t){var n=t.pop();for(l(0<=(n=e.b+e.a.length()-n));127<n;)t.push(127&n|128),n>>>=7,e.b++;t.push(n),e.b++}function $(e,t,n){l(1<=t&&t==Math.floor(t)),V(e.a,8*t+n)}function ee(e,t){if(this.f=e,this.b=t,this.a={},this.arrClean=!0,0<this.f.length){for(e=0;e<this.f.length;e++){var n=(t=this.f[e])[0];this.a[n.toString()]=new oe(n,t[1])}this.arrClean=!0}}function te(e){this.a=0,this.b=e}function ne(e,t){return e.b?(t.a||(t.a=new e.b(t.value)),t.a):t.value}function re(e){var t,n=[];for(t in e=e.a)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}function oe(e,t){this.key=e,this.value=t,this.a=void 0}function ie(e,t,n,r,o){this.F=e,this.ea=t,this.D=n,this.aa=r,this.G=o}function ae(e,t,n,r,o,i){this.da=e,this.S=t,this.T=n,this.ca=r,this.na=o,this.wa=i}function se(){}(r=D.prototype).clone=function(){return M(this.b,this.i,this.f-this.i)},r.clear=function(){this.b=null,this.a=this.f=this.i=0,this.u=!1},r.m=function(){var e=this.b,t=e[this.a],n=127&t;if(t<128)this.a+=1;else if(n|=(127&(t=e[this.a+1]))<<7,t<128)this.a+=2;else if(n|=(127&(t=e[this.a+2]))<<14,t<128)this.a+=3;else if(n|=(127&(t=e[this.a+3]))<<21,t<128)this.a+=4;else{if(n|=(15&(t=e[this.a+4]))<<28,t<128)return this.a+=5,l(this.a<=this.f),n>>>0;this.a+=5,128<=e[this.a++]&&128<=e[this.a++]&&128<=e[this.a++]&&128<=e[this.a++]&&128<=e[this.a++]&&l(!1)}return l(this.a<=this.f),n},r.Y=function(){return~~this.m()},r.ha=function(){var e=this.m();return e>>>1^-(1&e)},r.ga=function(){return L(this,E)},r.Z=function(){return L(this,T)},r.ia=function(){return L(this,P)},r.l=function(){var e=this.b[this.a],t=this.b[this.a+1],n=this.b[this.a+2],r=this.b[this.a+3];return this.a+=4,l(this.a<=this.f),(e<<0|t<<8|n<<16|r<<24)>>>0},r.L=function(){return E(this.l(),this.l())},r.J=function(){var e=this.b[this.a],t=this.b[this.a+1],n=this.b[this.a+2],r=this.b[this.a+3];return this.a+=4,l(this.a<=this.f),e<<0|t<<8|n<<16|r<<24},r.K=function(){return T(this.l(),this.l())},r.I=function(){var e=this.l(),t=2*(e>>31)+1,n=e>>>23&255;return e&=8388607,255==n?e?NaN:1/0*t:0==n?t*Math.pow(2,-149)*e:t*Math.pow(2,n-150)*(e+Math.pow(2,23))},r.H=function(){var e=this.l(),t=this.l(),n=2*(t>>31)+1,r=t>>>20&2047;e=4294967296*(1048575&t)+e;return 2047==r?e?NaN:1/0*n:0==r?n*Math.pow(2,-1074)*e:n*Math.pow(2,r-1075)*(e+4503599627370496)},r.V=function(){return!!this.b[this.a++]},r.X=function(){return this.Y()},r.$=function(e){var t=this.b,n=this.a,r=n+e,o=[];for(e="";n<r;){var i,a,s=t[n++];if(s<128)o.push(s);else{if(s<192)continue;s<224?(i=t[n++],o.push((31&s)<<6|63&i)):s<240?(i=t[n++],a=t[n++],o.push((15&s)<<12|(63&i)<<6|63&a)):s<248&&(s=(7&s)<<18|(63&(i=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++],s-=65536,o.push(55296+(s>>10&1023),56320+(1023&s)))}8192<=o.length&&(e+=String.fromCharCode.apply(null,o),o.length=0)}if(o.length<=8192)o=String.fromCharCode.apply(null,o);else{for(t="",r=0;r<o.length;r+=8192)t+=String.fromCharCode.apply(null,function(e,t,n){return arguments.length<=2?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)}(o,r,r+8192));o=t}return this.a=n,e+o},r.W=function(e){var t;return e<0||this.a+e>this.b.length?(this.u=!0,p("Invalid byte length!"),new Uint8Array(0)):(t=this.b.subarray(this.a,this.a+e),this.a+=e,l(this.a<=this.f),t)},G.prototype.getFieldNumber=G.prototype.ra=function(){return this.f},G.prototype.isDelimited=G.prototype.va=function(){return 2==this.b},G.prototype.isEndGroup=G.prototype.fa=function(){return 4==this.b},G.prototype.nextField=G.prototype.U=function(){if((t=this.a).a==t.f)return!1;if(t=(t=this.i)||(t=this.a).u||t.a<0||t.a>t.f)return p("Decoder hit an error"),!1;this.u=this.a.a;var e=this.a.m(),t=e>>>3;return 0!=(e&=7)&&5!=e&&1!=e&&2!=e&&3!=e&&4!=e?(p("Invalid wire type: %s (at position %s)",e,this.u),!(this.i=!0)):(this.f=t,this.b=e,!0)},G.prototype.readMessage=G.prototype.Aa=function(e,t){l(2==this.b);var n=this.a.f,r=this.a.m();r=this.a.a+r;this.a.f=r,t(e,this),this.a.a=r,this.a.f=n},G.prototype.readGroup=G.prototype.za=function(e,t,n){l(3==this.b),l(this.f==e),n(t,this),this.i||4==this.b||(p("Group submessage did not end with an END_GROUP tag"),this.i=!0)},G.prototype.readInt32=G.prototype.J=function(){return l(0==this.b),this.a.Y()},G.prototype.readInt64=G.prototype.K=function(){return l(0==this.b),this.a.Z()},G.prototype.readUint32=G.prototype.l=function(){return l(0==this.b),this.a.m()},G.prototype.readUint64=G.prototype.L=function(){return l(0==this.b),this.a.ga()},G.prototype.readSint32=G.prototype.Ra=function(){return l(0==this.b),this.a.ha()},G.prototype.readSint64=G.prototype.Sa=function(){return l(0==this.b),this.a.ia()},G.prototype.readFixed32=G.prototype.xa=function(){return l(5==this.b),this.a.l()},G.prototype.readFixed64=G.prototype.ya=function(){return l(1==this.b),this.a.L()},G.prototype.readSfixed32=G.prototype.Pa=function(){return l(5==this.b),this.a.J()},G.prototype.readSfixed64=G.prototype.Qa=function(){return l(1==this.b),this.a.K()},G.prototype.readFloat=G.prototype.I=function(){return l(5==this.b),this.a.I()},G.prototype.readDouble=G.prototype.H=function(){return l(1==this.b),this.a.H()},G.prototype.readBool=G.prototype.V=function(){return l(0==this.b),!!this.a.m()},G.prototype.readEnum=G.prototype.X=function(){return l(0==this.b),this.a.Z()},G.prototype.readString=G.prototype.$=function(){l(2==this.b);var e=this.a.m();return this.a.$(e)},G.prototype.readBytes=G.prototype.W=function(){l(2==this.b);var e=this.a.m();return this.a.W(e)},G.prototype.readPackedInt32=G.prototype.Ha=function(){return A(this,this.a.Y)},G.prototype.readPackedInt64=G.prototype.Ia=function(){return A(this,this.a.Z)},G.prototype.readPackedUint32=G.prototype.Na=function(){return A(this,this.a.m)},G.prototype.readPackedUint64=G.prototype.Oa=function(){return A(this,this.a.ga)},G.prototype.readPackedSint32=G.prototype.La=function(){return A(this,this.a.ha)},G.prototype.readPackedSint64=G.prototype.Ma=function(){return A(this,this.a.ia)},G.prototype.readPackedFixed32=G.prototype.Ea=function(){return A(this,this.a.l)},G.prototype.readPackedFixed64=G.prototype.Fa=function(){return A(this,this.a.L)},G.prototype.readPackedSfixed32=G.prototype.Ja=function(){return A(this,this.a.J)},G.prototype.readPackedSfixed64=G.prototype.Ka=function(){return A(this,this.a.K)},G.prototype.readPackedFloat=G.prototype.Ga=function(){return A(this,this.a.I)},G.prototype.readPackedDouble=G.prototype.Ca=function(){return A(this,this.a.H)},G.prototype.readPackedBool=G.prototype.Ba=function(){return A(this,this.a.V)},G.prototype.readPackedEnum=G.prototype.Da=function(){return A(this,this.a.X)},(r=N.prototype).length=function(){return this.a.length},r.o=function(e){l(e==Math.floor(e)),l(0<=e&&e<4294967296),this.a.push(e>>>0&255),this.a.push(e>>>8&255),this.a.push(e>>>16&255),this.a.push(e>>>24&255)},r.R=function(e){l(e==Math.floor(e)),l(0<=e&&e<0x10000000000000000),b(e),this.o(O),this.o(C)},r.N=function(e){l(e==Math.floor(e)),l(-2147483648<=e&&e<2147483648),this.a.push(e>>>0&255),this.a.push(e>>>8&255),this.a.push(e>>>16&255),this.a.push(e>>>24&255)},r.O=function(e){l(e==Math.floor(e)),l(-0x8000000000000000<=e&&e<0x8000000000000000),S(e),x(this,O,C)},r.C=function(e){l(1/0===e||-1/0===e||isNaN(e)||-34028234663852886e22<=e&&e<=34028234663852886e22);var t,n=e;O=0===(n=(e=n<0?1:0)?-n:n)?0<1/n?C=0:(C=0,2147483648):isNaN(n)?(C=0,2147483647):34028234663852886e22<n?(e<<31|2139095040)>>>(C=0):n<11754943508222875e-54?(e<<31|(n=Math.round(n/Math.pow(2,-149))))>>>(C=0):(t=Math.floor(Math.log(n)/Math.LN2),n*=Math.pow(2,-t),16777216<=(n=Math.round(8388608*n))&&++t,(e<<31|t+127<<23|8388607&n)>>>(C=0)),this.o(O)},r.B=function(e){l(1/0===e||-1/0===e||isNaN(e)||-17976931348623157e292<=e&&e<=17976931348623157e292);var t=e;if(0===(t=(e=t<0?1:0)?-t:t))C=0<1/t?0:2147483648,O=0;else if(isNaN(t))C=2147483647,O=4294967295;else if(17976931348623157e292<t)C=(e<<31|2146435072)>>>0,O=0;else if(t<22250738585072014e-324)t/=Math.pow(2,-1074),C=(e<<31|t/4294967296)>>>0,O=t>>>0;else{var n=t,r=0;if(2<=n)for(;2<=n&&r<1023;)r++,n/=2;else for(;n<1&&-1022<r;)n*=2,r--;t*=Math.pow(2,-r),C=(e<<31|r+1023<<20|1048576*t&1048575)>>>0,O=4503599627370496*t>>>0}this.o(O),this.o(C)},r.A=function(e){l("boolean"==typeof e||"number"==typeof e),this.a.push(e?1:0)},r.M=function(e){l(e==Math.floor(e)),l(-2147483648<=e&&e<2147483648),B(this,e)},r.ba=function(e){this.a.push.apply(this.a,e)},r.P=function(e){var t=this.a.length;!function(e,t,n){for(var r=[],o=2;o<arguments.length;++o)r[o-2]=arguments[o];"string"!=typeof e&&u("Expected string but got %s: %s.",[a(e),e],t,r)}(e);for(var n=0;n<e.length;n++){var r,o=e.charCodeAt(n);o<128?this.a.push(o):o<2048?(this.a.push(o>>6|192),this.a.push(63&o|128)):o<65536&&(55296<=o&&o<=56319&&n+1<e.length?56320<=(r=e.charCodeAt(n+1))&&r<=57343&&(this.a.push((o=1024*(o-55296)+r-56320+65536)>>18|240),this.a.push(o>>12&63|128),this.a.push(o>>6&63|128),this.a.push(63&o|128),n++):(this.a.push(o>>12|224),this.a.push(o>>6&63|128),this.a.push(63&o|128)))}return this.a.length-t},Y.prototype.add=function(e){return new Y((this.a+e.a&4294967295)>>>0>>>0,((this.b+e.b&4294967295)>>>0)+(4294967296<=this.a+e.a?1:0)>>>0)},Y.prototype.sub=function(e){return new Y((this.a-e.a&4294967295)>>>0>>>0,((this.b-e.b&4294967295)>>>0)-(this.a-e.a<0?1:0)>>>0)},Y.prototype.toString=function(){for(var e="",t=this;0!=t.a||0!=t.b;){for(var n=new Y(0,0),r=(t=new Y(t.a,t.b),new Y(10,0)),o=new Y(1,0);!(2147483648&r.b);)r=q(r),o=q(o);for(;0!=o.a||0!=o.b;)(r.b<t.b||r.b==t.b&&r.a<t.a?-1:r.b==t.b&&r.a==t.a?0:1)<=0&&(n=n.add(o),t=t.sub(r)),r=K(r),o=K(o);t=(n=[n,t])[0],e=n[1].a+e}return""==e?"0":e},Y.prototype.clone=function(){return new Y(this.a,this.b)},Z.prototype.getResultBuffer=Z.prototype.ua=function(){l(0==this.i.length);for(var e=new Uint8Array(this.b+this.a.length()),t=this.f,n=t.length,r=0,o=0;o<n;o++){var i=t[o];e.set(i,r),r+=i.length}return t=F(this.a),e.set(t,r),l((r+=t.length)==e.length),this.f=[e],e},Z.prototype.writeInt32=Z.prototype.N=function(e,t){null!=t&&(l(-2147483648<=t&&t<2147483648),null!=t)&&($(this,e,0),B(this.a,t))},Z.prototype.writeInt64=Z.prototype.O=function(e,t){null!=t&&(l(-0x8000000000000000<=t&&t<0x8000000000000000),null!=t)&&($(this,e,0),j(this.a,t))},Z.prototype.writeUint32=Z.prototype.o=function(e,t){null!=t&&(l(0<=t&&t<4294967296),null!=t)&&($(this,e,0),V(this.a,t))},Z.prototype.writeUint64=Z.prototype.R=function(e,t){null!=t&&(l(0<=t&&t<0x10000000000000000),null!=t)&&($(this,e,0),U(this.a,t))},Z.prototype.writeSint32=Z.prototype.Fb=function(e,t){null!=t&&(l(-2147483648<=t&&t<2147483648),null!=t)&&($(this,e,0),z(this.a,t))},Z.prototype.writeSint64=Z.prototype.Gb=function(e,t){null!=t&&(l(-0x8000000000000000<=t&&t<0x8000000000000000),null!=t)&&($(this,e,0),H(this.a,t))},Z.prototype.writeFixed32=Z.prototype.ja=function(e,t){null!=t&&(l(0<=t&&t<4294967296),$(this,e,5),this.a.o(t))},Z.prototype.writeFixed64=Z.prototype.ka=function(e,t){null!=t&&(l(0<=t&&t<0x10000000000000000),$(this,e,1),this.a.R(t))},Z.prototype.writeSfixed32=Z.prototype.la=function(e,t){null!=t&&(l(-2147483648<=t&&t<2147483648),$(this,e,5),this.a.N(t))},Z.prototype.writeSfixed64=Z.prototype.ma=function(e,t){null!=t&&(l(-0x8000000000000000<=t&&t<0x8000000000000000),$(this,e,1),this.a.O(t))},Z.prototype.writeFloat=Z.prototype.C=function(e,t){null!=t&&($(this,e,5),this.a.C(t))},Z.prototype.writeDouble=Z.prototype.B=function(e,t){null!=t&&($(this,e,1),this.a.B(t))},Z.prototype.writeBool=Z.prototype.A=function(e,t){null!=t&&(l("boolean"==typeof t||"number"==typeof t),$(this,e,0),this.a.A(t))},Z.prototype.writeEnum=Z.prototype.M=function(e,t){null!=t&&(l(-2147483648<=t&&t<2147483648),$(this,e,0),B(this.a,t))},Z.prototype.writeString=Z.prototype.P=function(e,t){null!=t&&(e=J(this,e),this.a.P(t),Q(this,e))},Z.prototype.writeBytes=Z.prototype.ba=function(e,t){null!=t&&(t=I(t),$(this,e,2),V(this.a,t.length),e=F(this.a),this.f.push(e),this.f.push(t),this.b+=e.length+t.length)},Z.prototype.writeMessage=Z.prototype.Xa=function(e,t,n){null!=t&&(e=J(this,e),n(t,this),Q(this,e))},Z.prototype.writeGroup=Z.prototype.Wa=function(e,t,n){null!=t&&($(this,e,3),n(t,this),$(this,e,4))},Z.prototype.writeRepeatedInt32=Z.prototype.vb=function(e,t){if(null!=t)for(var n=0;n<t.length;n++){var r=t[n];null!=r&&($(this,e,0),B(this.a,r))}},Z.prototype.writeRepeatedInt64=Z.prototype.wb=function(e,t){if(null!=t)for(var n=0;n<t.length;n++){var r=t[n];null!=r&&($(this,e,0),j(this.a,r))}},Z.prototype.writeRepeatedUint32=Z.prototype.Db=function(e,t){if(null!=t)for(var n=0;n<t.length;n++){var r=t[n];null!=r&&($(this,e,0),V(this.a,r))}},Z.prototype.writeRepeatedUint64=Z.prototype.Eb=function(e,t){if(null!=t)for(var n=0;n<t.length;n++){var r=t[n];null!=r&&($(this,e,0),U(this.a,r))}},Z.prototype.writeRepeatedSint32=Z.prototype.Ab=function(e,t){if(null!=t)for(var n=0;n<t.length;n++){var r=t[n];null!=r&&($(this,e,0),z(this.a,r))}},Z.prototype.writeRepeatedSint64=Z.prototype.Bb=function(e,t){if(null!=t)for(var n=0;n<t.length;n++){var r=t[n];null!=r&&($(this,e,0),H(this.a,r))}},Z.prototype.writeRepeatedFixed32=Z.prototype.qb=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.ja(e,t[n])},Z.prototype.writeRepeatedFixed64=Z.prototype.rb=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.ka(e,t[n])},Z.prototype.writeRepeatedFixed64String=Z.prototype.sb=function(e,t){if(null!=t)for(var n=0;n<t.length;n++){var r=e,o=t[n];if(null!=o){e:{for(var i=new Y(0,0),a=new Y(0,0),s=0;s<o.length;s++){if(o[s]<"0"||"9"<o[s]){o=null;break e}a.a=parseInt(o[s],10);var c=X(i.a);(i=X(i.b)).b=i.a,i.a=0,i=c.add(i).add(a)}o=i}$(this,r,1),x(this.a,o.a,o.b)}}},Z.prototype.writeRepeatedSfixed32=Z.prototype.yb=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.la(e,t[n])},Z.prototype.writeRepeatedSfixed64=Z.prototype.zb=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.ma(e,t[n])},Z.prototype.writeRepeatedFloat=Z.prototype.tb=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.C(e,t[n])},Z.prototype.writeRepeatedDouble=Z.prototype.ob=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.B(e,t[n])},Z.prototype.writeRepeatedBool=Z.prototype.mb=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.A(e,t[n])},Z.prototype.writeRepeatedEnum=Z.prototype.pb=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.M(e,t[n])},Z.prototype.writeRepeatedString=Z.prototype.Cb=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.P(e,t[n])},Z.prototype.writeRepeatedBytes=Z.prototype.nb=function(e,t){if(null!=t)for(var n=0;n<t.length;n++)this.ba(e,t[n])},Z.prototype.writeRepeatedMessage=Z.prototype.xb=function(e,t,n){if(null!=t)for(var r=0;r<t.length;r++){var o=J(this,e);n(t[r],this),Q(this,o)}},Z.prototype.writeRepeatedGroup=Z.prototype.ub=function(e,t,n){if(null!=t)for(var r=0;r<t.length;r++)$(this,e,3),n(t[r],this),$(this,e,4)},Z.prototype.writePackedInt32=Z.prototype.eb=function(e,t){if(null!=t&&t.length){e=J(this,e);for(var n=0;n<t.length;n++)B(this.a,t[n]);Q(this,e)}},Z.prototype.writePackedInt64=Z.prototype.fb=function(e,t){if(null!=t&&t.length){e=J(this,e);for(var n=0;n<t.length;n++)j(this.a,t[n]);Q(this,e)}},Z.prototype.writePackedUint32=Z.prototype.kb=function(e,t){if(null!=t&&t.length){e=J(this,e);for(var n=0;n<t.length;n++)V(this.a,t[n]);Q(this,e)}},Z.prototype.writePackedUint64=Z.prototype.lb=function(e,t){if(null!=t&&t.length){e=J(this,e);for(var n=0;n<t.length;n++)U(this.a,t[n]);Q(this,e)}},Z.prototype.writePackedSint32=Z.prototype.ib=function(e,t){if(null!=t&&t.length){e=J(this,e);for(var n=0;n<t.length;n++)z(this.a,t[n]);Q(this,e)}},Z.prototype.writePackedSint64=Z.prototype.jb=function(e,t){if(null!=t&&t.length){e=J(this,e);for(var n=0;n<t.length;n++)H(this.a,t[n]);Q(this,e)}},Z.prototype.writePackedFixed32=Z.prototype.ab=function(e,t){if(null!=t&&t.length)for($(this,e,2),V(this.a,4*t.length),e=0;e<t.length;e++)this.a.o(t[e])},Z.prototype.writePackedFixed64=Z.prototype.bb=function(e,t){if(null!=t&&t.length)for($(this,e,2),V(this.a,8*t.length),e=0;e<t.length;e++)this.a.R(t[e])},Z.prototype.writePackedSfixed32=Z.prototype.gb=function(e,t){if(null!=t&&t.length)for($(this,e,2),V(this.a,4*t.length),e=0;e<t.length;e++)this.a.N(t[e])},Z.prototype.writePackedSfixed64=Z.prototype.hb=function(e,t){if(null!=t&&t.length)for($(this,e,2),V(this.a,8*t.length),e=0;e<t.length;e++)this.a.O(t[e])},Z.prototype.writePackedFloat=Z.prototype.cb=function(e,t){if(null!=t&&t.length)for($(this,e,2),V(this.a,4*t.length),e=0;e<t.length;e++)this.a.C(t[e])},Z.prototype.writePackedDouble=Z.prototype.Za=function(e,t){if(null!=t&&t.length)for($(this,e,2),V(this.a,8*t.length),e=0;e<t.length;e++)this.a.B(t[e])},Z.prototype.writePackedBool=Z.prototype.Ya=function(e,t){if(null!=t&&t.length)for($(this,e,2),V(this.a,t.length),e=0;e<t.length;e++)this.a.A(t[e])},Z.prototype.writePackedEnum=Z.prototype.$a=function(e,t){if(null!=t&&t.length){e=J(this,e);for(var n=0;n<t.length;n++)this.a.M(t[n]);Q(this,e)}},i("jspb.Map",ee,void 0),ee.prototype.toArray=ee.prototype.g=function(){if(this.arrClean){if(this.b){var e,t,n=this.a;for(e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t=n[e].a)&&t.g()}}else{for(this.f.length=0,(n=re(this)).sort(),e=0;e<n.length;e++){var r=this.a[n[e]];(t=r.a)&&t.g(),this.f.push([r.key,r.value])}this.arrClean=!0}return this.f},ee.prototype.toObject=ee.prototype.Va=function(e,t){for(var n=this.g(),r=[],o=0;o<n.length;o++){var i=this.a[n[o][0].toString()],a=(ne(this,i),i.a);a?(l(t),r.push([i.key,t(e,a)])):r.push([i.key,i.value])}return r},ee.fromObject=function(e,t,n){t=new ee([],t);for(var r=0;r<e.length;r++){var o=e[r][0],i=n(e[r][1]);t.set(o,i)}return t},te.prototype.next=function(){return this.a<this.b.length?{done:!1,value:this.b[this.a++]}:{done:!0,value:void 0}},"undefined"!=typeof Symbol&&(te.prototype[Symbol.iterator]=function(){return this}),ee.prototype.getLength=ee.prototype.ta=function(){return re(this).length},ee.prototype.clear=function(){this.a={},this.arrClean=!1},ee.prototype.del=ee.prototype.pa=function(e){e=e.toString();var t=this.a.hasOwnProperty(e);return delete this.a[e],this.arrClean=!1,t},ee.prototype.getEntryList=ee.prototype.qa=function(){var e=[],t=re(this);t.sort();for(var n=0;n<t.length;n++){var r=this.a[t[n]];e.push([r.key,r.value])}return e},ee.prototype.entries=function(){var e=[],t=re(this);t.sort();for(var n=0;n<t.length;n++){var r=this.a[t[n]];e.push([r.key,ne(this,r)])}return new te(e)},ee.prototype.keys=function(){var e=[],t=re(this);t.sort();for(var n=0;n<t.length;n++)e.push(this.a[t[n]].key);return new te(e)},ee.prototype.values=function(){var e=[],t=re(this);t.sort();for(var n=0;n<t.length;n++)e.push(ne(this,this.a[t[n]]));return new te(e)},ee.prototype.forEach=function(e,t){var n=re(this);n.sort();for(var r=0;r<n.length;r++){var o=this.a[n[r]];e.call(t,ne(this,o),o.key,this)}},ee.prototype.set=function(e,t){var n=new oe(e);return this.b?(n.a=t,n.value=t.g()):n.value=t,this.a[e.toString()]=n,this.arrClean=!1,this},ee.prototype.get=function(e){if(e=this.a[e.toString()])return ne(this,e)},ee.prototype.has=function(e){return e.toString()in this.a},ee.prototype.serializeBinary=ee.prototype.Ta=function(e,t,n,r,o){var i=re(this);i.sort();for(var a=0;a<i.length;a++){var s=this.a[i[a]];t.i.push(J(t,e)),n.call(t,1,s.key),this.b?r.call(t,2,ne(this,s),o):r.call(t,2,s.value),l(0<=(s=t).i.length),Q(s,s.i.pop())}},ee.deserializeBinary=function(e,t,n,r,o,i,a){for(;t.U()&&!t.fa();){var s=t.f;1==s?i=n.call(t):2==s&&(e.b?(l(o),a=a||new e.b,r.call(t,a,o)):a=r.call(t))}l(null!=i),l(null!=a),e.set(i,a)},i("jspb.ExtensionFieldInfo",ie,void 0),i("jspb.ExtensionFieldBinaryInfo",ae,void 0),ie.prototype.isMessageType=ie.prototype.v=function(){return!!this.D},i("jspb.Message",se,void 0),se.GENERATE_TO_OBJECT=!0,se.GENERATE_FROM_OBJECT=!0;var ce="function"==typeof Uint8Array,ue=(se.prototype.getJsPbMessageId=se.prototype.sa=function(){return this.b},se.initialize=function(e,t,n,r,o,i){if(e.c=null,t=t||(n?[n]:[]),e.b=n?String(n):void 0,e.s=0===n?-1:0,e.j=t,t=-1,!(n=e.j.length)||null===(n=e.j[t=n-1])||"object"!=typeof n||Array.isArray(n)||ce&&n instanceof Uint8Array?-1<r?(e.w=Math.max(r,t+1-e.s),e.h=null):e.w=Number.MAX_VALUE:(e.w=t-e.s,e.h=n),e.a={},o)for(r=0;r<o.length;r++)(t=o[r])<e.w?(t+=e.s,e.j[t]=e.j[t]||ue):(le(e),e.h[t]=e.h[t]||ue);if(i&&i.length)for(r=0;r<i.length;r++)be(e,i[r])},Object.freeze?Object.freeze([]):[]);function le(e){var t=e.w+e.s;e.j[t]||(e.h=e.j[t]={})}function pe(e,t,n){for(var r=[],o=0;o<e.length;o++)r[o]=t.call(e[o],n,e[o]);return r}function de(e,t){var n;return t<e.w?(t+=e.s,(n=e.j[t])===ue?e.j[t]=[]:n):e.h?(n=e.h[t])===ue?e.h[t]=[]:n:void 0}function he(e,t){return null==(e=de(e,t))?e:+e}function fe(e,t){return null==(e=de(e,t))?e:!!e}function ge(e){if(null==e||"string"==typeof e)return e;if(ce&&e instanceof Uint8Array){void 0===t&&(t=0),v();for(var t=m[t],n=[],r=0;r<e.length;r+=3){var o=e[r],i=r+1<e.length,s=i?e[r+1]:0,c=r+2<e.length,u=c?e[r+2]:0,l=o>>2;o=(3&o)<<4|s>>4,s=(15&s)<<2|u>>6;u&=63,c||(u=64,i)||(s=64),n.push(t[l],t[o],t[s]||"",t[u]||"")}return n.join("")}return p("Cannot coerce to b64 string: "+a(e)),null}function me(e){return null==e||e instanceof Uint8Array?e:"string"==typeof e?_(e):(p("Cannot coerce to Uint8Array: "+a(e)),null)}function ye(e){var t;e&&1<e.length&&(t=a(e[0]),f(e,(function(e){a(e)!=t&&p("Inconsistent type in JSPB repeated field array. Got "+a(e)+" expected "+t)})))}function _e(e,t,n){return null==(e=de(e,t))?n:e}function ve(e,t,n){return d(e,se),t<e.w?e.j[t+e.s]=n:(le(e),e.h[t]=n),e}function Oe(e,t,n,r){return d(e,se),n!==r?ve(e,t,n):t<e.w?e.j[t+e.s]=null:(le(e),delete e.h[t]),e}function Ce(e,t,n,r){return d(e,se),(n=be(e,n))&&n!==t&&void 0!==r&&(e.c&&n in e.c&&(e.c[n]=void 0),ve(e,n,void 0)),ve(e,t,r)}function be(e,t){for(var n,r,o=0;o<t.length;o++){var i=t[o],a=de(e,i);null!=a&&(r=a,ve(e,n=i,void 0))}return n?(ve(e,n,r),n):0}function Se(e,t,n){if(e.c||(e.c={}),!e.c[n]){for(var r=de(e,n),o=[],i=0;i<r.length;i++)o[i]=new t(r[i]);e.c[n]=o}}function Ee(e){if(e.c)for(var t in e.c){var n=e.c[t];if(Array.isArray(n))for(var r=0;r<n.length;r++)n[r]&&n[r].g();else n&&n.g()}}function Te(e,t){t=t||{};var n,r={};for(n in e=e||{})r[n]=0;for(n in t)r[n]=0;for(n in r)if(!Pe(e[n],t[n]))return!1;return!0}function Pe(e,t){if(e==t)return!0;if(!s(e)||!s(t))return!!("number"==typeof e&&isNaN(e)||"number"==typeof t&&isNaN(t))&&String(e)==String(t);if(e.constructor!=t.constructor)return!1;if(ce&&e.constructor===Uint8Array){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}if(e.constructor===Array){var r=void 0,o=void 0,i=Math.max(e.length,t.length);for(n=0;n<i;n++){var a=e[n],c=t[n];if(a&&a.constructor==Object&&(l(void 0===r),l(n===e.length-1),r=a,a=void 0),c&&c.constructor==Object&&(l(void 0===o),l(n===t.length-1),o=c,c=void 0),!Pe(a,c))return!1}return!r&&!o||Te(r=r||{},o=o||{})}if(e.constructor===Object)return Te(e,t);throw Error("Invalid type in JSPB array")}function Ie(e){return new e.constructor(function e(t){if(Array.isArray(t))for(var n=Array(t.length),r=0;r<t.length;r++){var o=t[r];null!=o&&(n[r]="object"==typeof o?e(l(o)):o)}else{if(ce&&t instanceof Uint8Array)return new Uint8Array(t);for(r in n={},t)null!=(o=t[r])&&(n[r]="object"==typeof o?e(l(o)):o)}return n}(e.g()))}se.toObjectList=pe,se.toObjectExtension=function(e,t,n,r,o){for(var i in n){var a=n[i];if(null!=(i=r.call(e,a))){for(var s in a.ea)if(a.ea.hasOwnProperty(s))break;t[s]=a.aa?a.G?pe(i,a.aa,o):a.aa(o,i):i}}},se.serializeBinaryExtensions=function(e,t,n,r){for(var o in n){var i=(o=n[o]).da;if(!o.T)throw Error("Message extension present that was generated without binary serialization support");var a=r.call(e,i);if(null!=a)if(i.v()){if(!o.ca)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");o.T.call(t,i.F,a,o.ca)}else o.T.call(t,i.F,a)}},se.readBinaryExtension=function(e,t,n,r,o){var i,a=n[t.f];if(a){if(n=a.da,!a.S)throw Error("Deserializing extension whose generated code does not support binary format");n.v()?(i=new n.D,a.S.call(t,i,a.na)):i=a.S.call(t),n.G&&!a.wa?(t=r.call(e,n))?t.push(i):o.call(e,n,[i]):o.call(e,n,i)}else!function e(t){switch(t.b){case 0:if(0!=t.b)p("Invalid wire type for skipVarintField"),e(t);else{for(t=t.a;128&t.b[t.a];)t.a++;t.a++}break;case 1:1!=t.b?(p("Invalid wire type for skipFixed64Field"),e(t)):k(t.a,8);break;case 2:var n;2!=t.b?(p("Invalid wire type for skipDelimitedField"),e(t)):(n=t.a.m(),k(t.a,n));break;case 5:5!=t.b?(p("Invalid wire type for skipFixed32Field"),e(t)):k(t.a,4);break;case 3:for(n=t.f;;){if(!t.U()){p("Unmatched start-group tag: stream EOF"),t.i=!0;break}if(4==t.b){t.f!=n&&(p("Unmatched end-group tag"),t.i=!0);break}e(t)}break;default:p("Invalid wire encoding for field.")}}(t)},se.getField=de,se.getRepeatedField=de,se.getOptionalFloatingPointField=he,se.getBooleanField=fe,se.getRepeatedFloatingPointField=function(e,t){var n=de(e,t);if(e.a||(e.a={}),!e.a[t]){for(var r=0;r<n.length;r++)n[r]=+n[r];e.a[t]=!0}return n},se.getRepeatedBooleanField=function(e,t){var n=de(e,t);if(e.a||(e.a={}),!e.a[t]){for(var r=0;r<n.length;r++)n[r]=!!n[r];e.a[t]=!0}return n},se.bytesAsB64=ge,se.bytesAsU8=me,se.bytesListAsB64=function(e){return ye(e),e.length&&"string"!=typeof e[0]?g(e,ge):e},se.bytesListAsU8=function(e){return ye(e),!e.length||e[0]instanceof Uint8Array?e:g(e,me)},se.getFieldWithDefault=_e,se.getBooleanFieldWithDefault=function(e,t,n){return null==(e=fe(e,t))?n:e},se.getFloatingPointFieldWithDefault=function(e,t,n){return null==(e=he(e,t))?n:e},se.getFieldProto3=_e,se.getMapField=function(e,t,n,r){if(e.c||(e.c={}),t in e.c)return e.c[t];var o=de(e,t);if(!o){if(n)return;ve(e,t,o=[])}return e.c[t]=new ee(o,r)},se.setField=ve,se.setProto3IntField=function(e,t,n){return Oe(e,t,n,0)},se.setProto3FloatField=function(e,t,n){return Oe(e,t,n,0)},se.setProto3BooleanField=function(e,t,n){return Oe(e,t,n,!1)},se.setProto3StringField=function(e,t,n){return Oe(e,t,n,"")},se.setProto3BytesField=function(e,t,n){return Oe(e,t,n,"")},se.setProto3EnumField=function(e,t,n){return Oe(e,t,n,0)},se.setProto3StringIntField=function(e,t,n){return Oe(e,t,n,"0")},se.addToRepeatedField=function(e,t,n,r){return d(e,se),t=de(e,t),null!=r?t.splice(r,0,n):t.push(n),e},se.setOneofField=Ce,se.computeOneofCase=be,se.getWrapperField=function(e,t,n,r){var o;return e.c||(e.c={}),!e.c[n]&&(o=de(e,n),r||o)&&(e.c[n]=new t(o)),e.c[n]},se.getRepeatedWrapperField=function(e,t,n){return Se(e,t,n),(t=e.c[n])==ue?e.c[n]=[]:t},se.setWrapperField=function(e,t,n){d(e,se),e.c||(e.c={});var r=n&&n.g();return e.c[t]=n,ve(e,t,r)},se.setOneofWrapperField=function(e,t,n,r){d(e,se),e.c||(e.c={});var o=r&&r.g();return e.c[t]=r,Ce(e,t,n,o)},se.setRepeatedWrapperField=function(e,t,n){d(e,se),e.c||(e.c={}),n=n||[];for(var r=[],o=0;o<n.length;o++)r[o]=n[o].g();return e.c[t]=n,ve(e,t,r)},se.addToRepeatedWrapperField=function(e,t,n,r,o){Se(e,r,t);var i=(i=e.c[t])||(e.c[t]=[]);return n=n||new r,e=de(e,t),null!=o?(i.splice(o,0,n),e.splice(o,0,n.g())):(i.push(n),e.push(n.g())),n},se.toMap=function(e,t,n,r){for(var o={},i=0;i<e.length;i++)o[t.call(e[i])]=n?n.call(e[i],r,e[i]):e[i];return o},se.prototype.toArray=se.prototype.g=function(){return Ee(this),this.j},se.prototype.toString=function(){return Ee(this),this.j.toString()},se.prototype.getExtension=function(e){if(this.h){this.c||(this.c={});var t=e.F;if(e.G){if(e.v())return this.c[t]||(this.c[t]=g(this.h[t]||[],(function(t){return new e.D(t)}))),this.c[t]}else if(e.v())return!this.c[t]&&this.h[t]&&(this.c[t]=new e.D(this.h[t])),this.c[t];return this.h[t]}},se.prototype.setExtension=se.prototype.Ua=function(e,t){this.c||(this.c={}),le(this);var n=e.F;return e.G?(t=t||[],e.v()?(this.c[n]=t,this.h[n]=g(t,(function(e){return e.g()}))):this.h[n]=t):e.v()?(this.c[n]=t,this.h[n]=t&&t.g()):this.h[n]=t,this},se.difference=function(e,t){if(!(e instanceof t.constructor))throw Error("Messages have different types.");var n=e.g(),r=(t=t.g(),[]),o=0,i=(n.length>t.length?n:t).length;for(e.b&&(r[0]=e.b,o=1);o<i;o++)Pe(n[o],t[o])||(r[o]=t[o]);return new e.constructor(r)},se.equals=function(e,t){return e==t||!(!e||!t)&&e instanceof t.constructor&&Pe(e.g(),t.g())},se.compareExtensions=Te,se.compareFields=Pe,se.prototype.cloneMessage=se.prototype.oa=function(){return Ie(this)},se.prototype.clone=function(){return Ie(this)},se.clone=Ie,se.copyInto=function(e,t){d(e,se),d(t,se),l(e.constructor==t.constructor,"Copy source and target message should have the same type."),e=Ie(e);for(var n=t.g(),r=e.g(),o=n.length=0;o<r.length;o++)n[o]=r[o];t.c=e.c,t.h=e.h},se.registerMessageType=function(e,t){t.Hb=e},"object"==typeof n&&(n.Map=ee,n.Message=se,n.BinaryReader=G,n.BinaryWriter=Z,n.ExtensionFieldInfo=ie,n.ExtensionFieldBinaryInfo=ae,n.exportSymbol=function(e,t,n){i(e,t,n)},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},n.object={extend:function(e,t){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])e[n]=r[n];for(var i=0;i<c.length;i++)n=c[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}},n.typeOf=a)},{}],2:[function(e,t,n){var r=e("google-protobuf"),o=(e=r,function(){return this||window||o||self||Function("return this")()}.call(null));e.exportSymbol("proto.CG.PROTO.CoordinatePos",null,o),e.exportSymbol("proto.CG.PROTO.InputOPData",null,o),e.exportSymbol("proto.CG.PROTO.MemInputData",null,o),e.exportSymbol("proto.CG.PROTO.OneInputOPData",null,o),e.exportSymbol("proto.CG.PROTO.OneInputOPData.InputOP",null,o),e.exportSymbol("proto.CG.PROTO.OneInputOPData.InputState",null,o),e.exportSymbol("proto.CG.PROTO.OpMappingDevice",null,o),proto.CG.PROTO.CoordinatePos=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.CG.PROTO.CoordinatePos,r.Message),e.DEBUG&&!COMPILED&&(proto.CG.PROTO.CoordinatePos.displayName="proto.CG.PROTO.CoordinatePos"),proto.CG.PROTO.OneInputOPData=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.CG.PROTO.OneInputOPData,r.Message),e.DEBUG&&!COMPILED&&(proto.CG.PROTO.OneInputOPData.displayName="proto.CG.PROTO.OneInputOPData"),proto.CG.PROTO.InputOPData=function(e){r.Message.initialize(this,e,0,-1,proto.CG.PROTO.InputOPData.repeatedFields_,null)},e.inherits(proto.CG.PROTO.InputOPData,r.Message),e.DEBUG&&!COMPILED&&(proto.CG.PROTO.InputOPData.displayName="proto.CG.PROTO.InputOPData"),proto.CG.PROTO.MemInputData=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.CG.PROTO.MemInputData,r.Message),e.DEBUG&&!COMPILED&&(proto.CG.PROTO.MemInputData.displayName="proto.CG.PROTO.MemInputData"),r.Message.GENERATE_TO_OBJECT&&(proto.CG.PROTO.CoordinatePos.prototype.toObject=function(e){return proto.CG.PROTO.CoordinatePos.toObject(e,this)},proto.CG.PROTO.CoordinatePos.toObject=function(e,t){var n={x:null==(n=r.Message.getField(t,1))?void 0:n,y:null==(n=r.Message.getField(t,2))?void 0:n};return e&&(n.$jspbMessageInstance=t),n}),proto.CG.PROTO.CoordinatePos.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.CG.PROTO.CoordinatePos;return proto.CG.PROTO.CoordinatePos.deserializeBinaryFromReader(t,e)},proto.CG.PROTO.CoordinatePos.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readInt32();e.setX(n);break;case 2:n=t.readInt32(),e.setY(n);break;default:t.skipField()}return e},proto.CG.PROTO.CoordinatePos.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.CG.PROTO.CoordinatePos.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.CG.PROTO.CoordinatePos.serializeBinaryToWriter=function(e,t){var n;null!=(n=r.Message.getField(e,1))&&t.writeInt32(1,n),null!=(n=r.Message.getField(e,2))&&t.writeInt32(2,n)},proto.CG.PROTO.CoordinatePos.prototype.getX=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.CG.PROTO.CoordinatePos.prototype.setX=function(e){return r.Message.setField(this,1,e)},proto.CG.PROTO.CoordinatePos.prototype.clearX=function(){return r.Message.setField(this,1,void 0)},proto.CG.PROTO.CoordinatePos.prototype.hasX=function(){return null!=r.Message.getField(this,1)},proto.CG.PROTO.CoordinatePos.prototype.getY=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.CG.PROTO.CoordinatePos.prototype.setY=function(e){return r.Message.setField(this,2,e)},proto.CG.PROTO.CoordinatePos.prototype.clearY=function(){return r.Message.setField(this,2,void 0)},proto.CG.PROTO.CoordinatePos.prototype.hasY=function(){return null!=r.Message.getField(this,2)},r.Message.GENERATE_TO_OBJECT&&(proto.CG.PROTO.OneInputOPData.prototype.toObject=function(e){return proto.CG.PROTO.OneInputOPData.toObject(e,this)},proto.CG.PROTO.OneInputOPData.toObject=function(e,t){var n={inputOp:null==(n=r.Message.getField(t,1))?void 0:n,inputState:null==(n=r.Message.getField(t,2))?void 0:n,value:null==(n=r.Message.getField(t,3))?void 0:n,cursorPos:(n=t.getCursorPos())&&proto.CG.PROTO.CoordinatePos.toObject(e,n),mousePos:(n=t.getMousePos())&&proto.CG.PROTO.CoordinatePos.toObject(e,n),opDevice:null==(n=r.Message.getField(t,6))?void 0:n,xinputUserIndex:null==(n=r.Message.getField(t,7))?void 0:n};return e&&(n.$jspbMessageInstance=t),n}),proto.CG.PROTO.OneInputOPData.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.CG.PROTO.OneInputOPData;return proto.CG.PROTO.OneInputOPData.deserializeBinaryFromReader(t,e)},proto.CG.PROTO.OneInputOPData.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readInt32();e.setInputOp(n);break;case 2:n=t.readEnum(),e.setInputState(n);break;case 3:n=t.readInt32(),e.setValue(n);break;case 4:n=new proto.CG.PROTO.CoordinatePos,t.readMessage(n,proto.CG.PROTO.CoordinatePos.deserializeBinaryFromReader),e.setCursorPos(n);break;case 5:n=new proto.CG.PROTO.CoordinatePos,t.readMessage(n,proto.CG.PROTO.CoordinatePos.deserializeBinaryFromReader),e.setMousePos(n);break;case 6:n=t.readInt32(),e.setOpDevice(n);break;case 7:n=t.readInt32(),e.setXinputUserIndex(n);break;default:t.skipField()}return e},proto.CG.PROTO.OneInputOPData.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.CG.PROTO.OneInputOPData.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.CG.PROTO.OneInputOPData.serializeBinaryToWriter=function(e,t){var n;null!=(n=r.Message.getField(e,1))&&t.writeInt32(1,n),null!=(n=r.Message.getField(e,2))&&t.writeEnum(2,n),null!=(n=r.Message.getField(e,3))&&t.writeInt32(3,n),null!=(n=e.getCursorPos())&&t.writeMessage(4,n,proto.CG.PROTO.CoordinatePos.serializeBinaryToWriter),null!=(n=e.getMousePos())&&t.writeMessage(5,n,proto.CG.PROTO.CoordinatePos.serializeBinaryToWriter),null!=(n=r.Message.getField(e,6))&&t.writeInt32(6,n),null!=(n=r.Message.getField(e,7))&&t.writeInt32(7,n)},proto.CG.PROTO.OneInputOPData.InputOP={OP_KEY_BEGIN:0,OP_KEY_VK_XBUTTON1:5,OP_KEY_VK_CAPITAL:20,OP_KEY_VK_SPACE:32,OP_KEY_VK_NUMLOCK:144,OP_KEY_VK_SCROLL:145,OP_KEY_END:510,OP_MOUSE_BEGIN:511,OP_MOUSE_BUTTON_LEFT:512,OP_MOUSE_BUTTON_MIDDLE:513,OP_MOUSE_BUTTON_RIGHT:514,OP_MOUSE_WHEEL:515,OP_MOUSE_MOV:516,OP_MOUSE_END:766,OP_GAMEPAD_BEGIN:767,OP_GAMEPAD_BTN_A:768,OP_GAMEPAD_BTN_B:769,OP_GAMEPAD_BTN_C:770,OP_GAMEPAD_BTN_D:771,OP_GAMEPAD_BTN_L1:772,OP_GAMEPAD_BTN_R1:773,OP_GAMEPAD_BTN_L2:774,OP_GAMEPAD_BTN_R2:775,OP_GAMEPAD_BTN_SELECT:776,OP_GAMEPAD_BTN_START:777,OP_GAMEPAD_BTN_LA:778,OP_GAMEPAD_BTN_RA:779,OP_GAMEPAD_BTN_MODE:780,OP_GAMEPAD_BTN_TURBO:781,OP_GAMEPAD_BTN_CLEAR:782,OP_GAEMPAD_AXIS_POV0:783,OP_GAMEPAD_AXIS_X:784,OP_GAMEPAD_AXIS_Y:785,OP_GAMEPAD_AXIS_Z:786,OP_GAMEPAD_AXIS_Z_ROTATION:787,OP_GAMEPAD_END:1022,OP_XINPUT_BEGIN:1023,OP_XINPUT_BUTTONS:1024,OP_XINPUT_LEFT_TRIGGER:1025,OP_XINPUT_RIGHT_TRIGGER:1026,OP_XINPUT_THUMB_LX:1027,OP_XINPUT_THUMB_LY:1028,OP_XINPUT_THUMB_RX:1029,OP_XINPUT_THUMB_RY:1030,OP_XINPUT_A_BUTTON:1031,OP_XINPUT_END:1150,OP_TOUCH:1152},proto.CG.PROTO.OneInputOPData.InputState={OP_STATE_DEFAULT:1,OP_STATE_DOWN:2,OP_STATE_UP:3,OP_VK_UNTOGGLED:4,OP_VK_TOGGLED:5},proto.CG.PROTO.OneInputOPData.prototype.getInputOp=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.CG.PROTO.OneInputOPData.prototype.setInputOp=function(e){return r.Message.setField(this,1,e)},proto.CG.PROTO.OneInputOPData.prototype.clearInputOp=function(){return r.Message.setField(this,1,void 0)},proto.CG.PROTO.OneInputOPData.prototype.hasInputOp=function(){return null!=r.Message.getField(this,1)},proto.CG.PROTO.OneInputOPData.prototype.getInputState=function(){return r.Message.getFieldWithDefault(this,2,1)},proto.CG.PROTO.OneInputOPData.prototype.setInputState=function(e){return r.Message.setField(this,2,e)},proto.CG.PROTO.OneInputOPData.prototype.clearInputState=function(){return r.Message.setField(this,2,void 0)},proto.CG.PROTO.OneInputOPData.prototype.hasInputState=function(){return null!=r.Message.getField(this,2)},proto.CG.PROTO.OneInputOPData.prototype.getValue=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.CG.PROTO.OneInputOPData.prototype.setValue=function(e){return r.Message.setField(this,3,e)},proto.CG.PROTO.OneInputOPData.prototype.clearValue=function(){return r.Message.setField(this,3,void 0)},proto.CG.PROTO.OneInputOPData.prototype.hasValue=function(){return null!=r.Message.getField(this,3)},proto.CG.PROTO.OneInputOPData.prototype.getCursorPos=function(){return r.Message.getWrapperField(this,proto.CG.PROTO.CoordinatePos,4)},proto.CG.PROTO.OneInputOPData.prototype.setCursorPos=function(e){return r.Message.setWrapperField(this,4,e)},proto.CG.PROTO.OneInputOPData.prototype.clearCursorPos=function(){return this.setCursorPos(void 0)},proto.CG.PROTO.OneInputOPData.prototype.hasCursorPos=function(){return null!=r.Message.getField(this,4)},proto.CG.PROTO.OneInputOPData.prototype.getMousePos=function(){return r.Message.getWrapperField(this,proto.CG.PROTO.CoordinatePos,5)},proto.CG.PROTO.OneInputOPData.prototype.setMousePos=function(e){return r.Message.setWrapperField(this,5,e)},proto.CG.PROTO.OneInputOPData.prototype.clearMousePos=function(){return this.setMousePos(void 0)},proto.CG.PROTO.OneInputOPData.prototype.hasMousePos=function(){return null!=r.Message.getField(this,5)},proto.CG.PROTO.OneInputOPData.prototype.getOpDevice=function(){return r.Message.getFieldWithDefault(this,6,0)},proto.CG.PROTO.OneInputOPData.prototype.setOpDevice=function(e){return r.Message.setField(this,6,e)},proto.CG.PROTO.OneInputOPData.prototype.clearOpDevice=function(){return r.Message.setField(this,6,void 0)},proto.CG.PROTO.OneInputOPData.prototype.hasOpDevice=function(){return null!=r.Message.getField(this,6)},proto.CG.PROTO.OneInputOPData.prototype.getXinputUserIndex=function(){return r.Message.getFieldWithDefault(this,7,0)},proto.CG.PROTO.OneInputOPData.prototype.setXinputUserIndex=function(e){return r.Message.setField(this,7,e)},proto.CG.PROTO.OneInputOPData.prototype.clearXinputUserIndex=function(){return r.Message.setField(this,7,void 0)},proto.CG.PROTO.OneInputOPData.prototype.hasXinputUserIndex=function(){return null!=r.Message.getField(this,7)},proto.CG.PROTO.InputOPData.repeatedFields_=[1],r.Message.GENERATE_TO_OBJECT&&(proto.CG.PROTO.InputOPData.prototype.toObject=function(e){return proto.CG.PROTO.InputOPData.toObject(e,this)},proto.CG.PROTO.InputOPData.toObject=function(e,t){var n={opListList:r.Message.toObjectList(t.getOpListList(),proto.CG.PROTO.OneInputOPData.toObject,e)};return e&&(n.$jspbMessageInstance=t),n}),proto.CG.PROTO.InputOPData.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.CG.PROTO.InputOPData;return proto.CG.PROTO.InputOPData.deserializeBinaryFromReader(t,e)},proto.CG.PROTO.InputOPData.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){var n;1===t.getFieldNumber()?(n=new proto.CG.PROTO.OneInputOPData,t.readMessage(n,proto.CG.PROTO.OneInputOPData.deserializeBinaryFromReader),e.addOpList(n)):t.skipField()}return e},proto.CG.PROTO.InputOPData.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.CG.PROTO.InputOPData.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.CG.PROTO.InputOPData.serializeBinaryToWriter=function(e,t){0<(e=e.getOpListList()).length&&t.writeRepeatedMessage(1,e,proto.CG.PROTO.OneInputOPData.serializeBinaryToWriter)},proto.CG.PROTO.InputOPData.prototype.getOpListList=function(){return r.Message.getRepeatedWrapperField(this,proto.CG.PROTO.OneInputOPData,1)},proto.CG.PROTO.InputOPData.prototype.setOpListList=function(e){return r.Message.setRepeatedWrapperField(this,1,e)},proto.CG.PROTO.InputOPData.prototype.addOpList=function(e,t){return r.Message.addToRepeatedWrapperField(this,1,e,proto.CG.PROTO.OneInputOPData,t)},proto.CG.PROTO.InputOPData.prototype.clearOpListList=function(){return this.setOpListList([])},r.Message.GENERATE_TO_OBJECT&&(proto.CG.PROTO.MemInputData.prototype.toObject=function(e){return proto.CG.PROTO.MemInputData.toObject(e,this)},proto.CG.PROTO.MemInputData.toObject=function(e,t){var n={playerindex:null==(n=r.Message.getField(t,1))?void 0:n,isstring:null==(n=r.Message.getBooleanField(t,2))?void 0:n,inputop:(n=t.getInputop())&&proto.CG.PROTO.InputOPData.toObject(e,n),string:t.getString_asB64()};return e&&(n.$jspbMessageInstance=t),n}),proto.CG.PROTO.MemInputData.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.CG.PROTO.MemInputData;return proto.CG.PROTO.MemInputData.deserializeBinaryFromReader(t,e)},proto.CG.PROTO.MemInputData.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readInt32();e.setPlayerindex(n);break;case 2:n=t.readBool(),e.setIsstring(n);break;case 3:n=new proto.CG.PROTO.InputOPData,t.readMessage(n,proto.CG.PROTO.InputOPData.deserializeBinaryFromReader),e.setInputop(n);break;case 4:n=t.readBytes(),e.setString(n);break;default:t.skipField()}return e},proto.CG.PROTO.MemInputData.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.CG.PROTO.MemInputData.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.CG.PROTO.MemInputData.serializeBinaryToWriter=function(e,t){var n;null!=(n=r.Message.getField(e,1))&&t.writeInt32(1,n),null!=(n=r.Message.getField(e,2))&&t.writeBool(2,n),null!=(n=e.getInputop())&&t.writeMessage(3,n,proto.CG.PROTO.InputOPData.serializeBinaryToWriter),null!=(n=r.Message.getField(e,4))&&t.writeBytes(4,n)},proto.CG.PROTO.MemInputData.prototype.getPlayerindex=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.CG.PROTO.MemInputData.prototype.setPlayerindex=function(e){return r.Message.setField(this,1,e)},proto.CG.PROTO.MemInputData.prototype.clearPlayerindex=function(){return r.Message.setField(this,1,void 0)},proto.CG.PROTO.MemInputData.prototype.hasPlayerindex=function(){return null!=r.Message.getField(this,1)},proto.CG.PROTO.MemInputData.prototype.getIsstring=function(){return r.Message.getBooleanFieldWithDefault(this,2,!1)},proto.CG.PROTO.MemInputData.prototype.setIsstring=function(e){return r.Message.setField(this,2,e)},proto.CG.PROTO.MemInputData.prototype.clearIsstring=function(){return r.Message.setField(this,2,void 0)},proto.CG.PROTO.MemInputData.prototype.hasIsstring=function(){return null!=r.Message.getField(this,2)},proto.CG.PROTO.MemInputData.prototype.getInputop=function(){return r.Message.getWrapperField(this,proto.CG.PROTO.InputOPData,3)},proto.CG.PROTO.MemInputData.prototype.setInputop=function(e){return r.Message.setWrapperField(this,3,e)},proto.CG.PROTO.MemInputData.prototype.clearInputop=function(){return this.setInputop(void 0)},proto.CG.PROTO.MemInputData.prototype.hasInputop=function(){return null!=r.Message.getField(this,3)},proto.CG.PROTO.MemInputData.prototype.getString=function(){return r.Message.getFieldWithDefault(this,4,"")},proto.CG.PROTO.MemInputData.prototype.getString_asB64=function(){return r.Message.bytesAsB64(this.getString())},proto.CG.PROTO.MemInputData.prototype.getString_asU8=function(){return r.Message.bytesAsU8(this.getString())},proto.CG.PROTO.MemInputData.prototype.setString=function(e){return r.Message.setField(this,4,e)},proto.CG.PROTO.MemInputData.prototype.clearString=function(){return r.Message.setField(this,4,void 0)},proto.CG.PROTO.MemInputData.prototype.hasString=function(){return null!=r.Message.getField(this,4)},proto.CG.PROTO.OpMappingDevice={OP_MAPPING_DEV_STANDARD_BEGIN:0,OP_MAPPING_DEV_KEYBOARD:1,OP_MAPPING_DEV_MOUSE:2,OP_MAPPING_DEV_XINPUT:3,OP_MAPPING_DEV_GAMEPAD:4,OP_MAPPING_DEV_TOUCH:16,OP_MAPPING_DEV_STANDARD_END:62,OP_MAPPING_DEV_DISS_GAMEPAD_BEGIN:63,OP_MAPPING_DEV_XBOXCONTROLLER_BEGIN:64,OP_MAPPING_DEV_XBOXCONTROLLER_END:71,OP_MAPPING_DEV_DISS_GAMEPAD_END:126,OP_MAPPING_DEV_REMOTEOP_BEGIN:127,OP_MAPPING_DEV_REMOTEOP_END:254},e.object.extend(n,proto.CG.PROTO)},{"google-protobuf":1}],3:[function(e,t,n){var r=e("google-protobuf"),o=(e=r,function(){return this||window||o||self||Function("return this")()}.call(null));e.exportSymbol("proto.WLCGV2.CoordinatePos",null,o),e.exportSymbol("proto.WLCGV2.InputOPData",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.Connect",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.DS4_CUSBUTTONS",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.DS4_EXPAND_BUTTONS",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.DS4_PADBUTTONS",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.DS5_WBUTTONS_1",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.DS5_WBUTTONS_2",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.DS5_WBUTTONS_3",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.DeviceType",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.DualSense5",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.DualShock4",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.GamePad",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.GamePadButton",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.GamePadTouchPad",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.GamePadType",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.KeyBoad",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.Mouse",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.MouseAction",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.SensorData",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.SensorType",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.ToucAction",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.TouchPoint",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.TouchPoints",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.TrackPadPosition",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.TrackingQuat",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.TrackingVector3",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.VRController",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.VRControllerButton",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.VRHMD",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.VRInputData",null,o),e.exportSymbol("proto.WLCGV2.OneInputOPData.battery",null,o),e.exportSymbol("proto.WLCGV2.OpMappingDevice",null,o),proto.WLCGV2.CoordinatePos=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.WLCGV2.CoordinatePos,r.Message),e.DEBUG&&!COMPILED&&(proto.WLCGV2.CoordinatePos.displayName="proto.WLCGV2.CoordinatePos"),proto.WLCGV2.OneInputOPData=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.WLCGV2.OneInputOPData,r.Message),e.DEBUG&&!COMPILED&&(proto.WLCGV2.OneInputOPData.displayName="proto.WLCGV2.OneInputOPData"),proto.WLCGV2.OneInputOPData.KeyBoad=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.WLCGV2.OneInputOPData.KeyBoad,r.Message),e.DEBUG&&!COMPILED&&(proto.WLCGV2.OneInputOPData.KeyBoad.displayName="proto.WLCGV2.OneInputOPData.KeyBoad"),proto.WLCGV2.OneInputOPData.Mouse=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.WLCGV2.OneInputOPData.Mouse,r.Message),e.DEBUG&&!COMPILED&&(proto.WLCGV2.OneInputOPData.Mouse.displayName="proto.WLCGV2.OneInputOPData.Mouse"),proto.WLCGV2.OneInputOPData.TouchPoint=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.WLCGV2.OneInputOPData.TouchPoint,r.Message),e.DEBUG&&!COMPILED&&(proto.WLCGV2.OneInputOPData.TouchPoint.displayName="proto.WLCGV2.OneInputOPData.TouchPoint"),proto.WLCGV2.OneInputOPData.TouchPoints=function(e){r.Message.initialize(this,e,0,-1,proto.WLCGV2.OneInputOPData.TouchPoints.repeatedFields_,null)},e.inherits(proto.WLCGV2.OneInputOPData.TouchPoints,r.Message),e.DEBUG&&!COMPILED&&(proto.WLCGV2.OneInputOPData.TouchPoints.displayName="proto.WLCGV2.OneInputOPData.TouchPoints"),proto.WLCGV2.OneInputOPData.GamePad=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.WLCGV2.OneInputOPData.GamePad,r.Message),e.DEBUG&&!COMPILED&&(proto.WLCGV2.OneInputOPData.GamePad.displayName="proto.WLCGV2.OneInputOPData.GamePad"),proto.WLCGV2.OneInputOPData.TrackingQuat=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.WLCGV2.OneInputOPData.TrackingQuat,r.Message),e.DEBUG&&!COMPILED&&(proto.WLCGV2.OneInputOPData.TrackingQuat.displayName="proto.WLCGV2.OneInputOPData.TrackingQuat"),proto.WLCGV2.OneInputOPData.TrackingVector3=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.WLCGV2.OneInputOPData.TrackingVector3,r.Message),e.DEBUG&&!COMPILED&&(proto.WLCGV2.OneInputOPData.TrackingVector3.displayName="proto.WLCGV2.OneInputOPData.TrackingVector3"),proto.WLCGV2.OneInputOPData.TrackPadPosition=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.WLCGV2.OneInputOPData.TrackPadPosition,r.Message),e.DEBUG&&!COMPILED&&(proto.WLCGV2.OneInputOPData.TrackPadPosition.displayName="proto.WLCGV2.OneInputOPData.TrackPadPosition"),proto.WLCGV2.OneInputOPData.SensorData=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.WLCGV2.OneInputOPData.SensorData,r.Message),e.DEBUG&&!COMPILED&&(proto.WLCGV2.OneInputOPData.SensorData.displayName="proto.WLCGV2.OneInputOPData.SensorData"),proto.WLCGV2.OneInputOPData.VRController=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.WLCGV2.OneInputOPData.VRController,r.Message),e.DEBUG&&!COMPILED&&(proto.WLCGV2.OneInputOPData.VRController.displayName="proto.WLCGV2.OneInputOPData.VRController"),proto.WLCGV2.OneInputOPData.VRHMD=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.WLCGV2.OneInputOPData.VRHMD,r.Message),e.DEBUG&&!COMPILED&&(proto.WLCGV2.OneInputOPData.VRHMD.displayName="proto.WLCGV2.OneInputOPData.VRHMD"),proto.WLCGV2.OneInputOPData.VRInputData=function(e){r.Message.initialize(this,e,0,-1,proto.WLCGV2.OneInputOPData.VRInputData.repeatedFields_,null)},e.inherits(proto.WLCGV2.OneInputOPData.VRInputData,r.Message),e.DEBUG&&!COMPILED&&(proto.WLCGV2.OneInputOPData.VRInputData.displayName="proto.WLCGV2.OneInputOPData.VRInputData"),proto.WLCGV2.OneInputOPData.GamePadTouchPad=function(e){r.Message.initialize(this,e,0,-1,proto.WLCGV2.OneInputOPData.GamePadTouchPad.repeatedFields_,null)},e.inherits(proto.WLCGV2.OneInputOPData.GamePadTouchPad,r.Message),e.DEBUG&&!COMPILED&&(proto.WLCGV2.OneInputOPData.GamePadTouchPad.displayName="proto.WLCGV2.OneInputOPData.GamePadTouchPad"),proto.WLCGV2.OneInputOPData.Connect=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.WLCGV2.OneInputOPData.Connect,r.Message),e.DEBUG&&!COMPILED&&(proto.WLCGV2.OneInputOPData.Connect.displayName="proto.WLCGV2.OneInputOPData.Connect"),proto.WLCGV2.OneInputOPData.DualShock4=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.WLCGV2.OneInputOPData.DualShock4,r.Message),e.DEBUG&&!COMPILED&&(proto.WLCGV2.OneInputOPData.DualShock4.displayName="proto.WLCGV2.OneInputOPData.DualShock4"),proto.WLCGV2.OneInputOPData.battery=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.WLCGV2.OneInputOPData.battery,r.Message),e.DEBUG&&!COMPILED&&(proto.WLCGV2.OneInputOPData.battery.displayName="proto.WLCGV2.OneInputOPData.battery"),proto.WLCGV2.OneInputOPData.DualSense5=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.WLCGV2.OneInputOPData.DualSense5,r.Message),e.DEBUG&&!COMPILED&&(proto.WLCGV2.OneInputOPData.DualSense5.displayName="proto.WLCGV2.OneInputOPData.DualSense5"),proto.WLCGV2.InputOPData=function(e){r.Message.initialize(this,e,0,-1,proto.WLCGV2.InputOPData.repeatedFields_,null)},e.inherits(proto.WLCGV2.InputOPData,r.Message),e.DEBUG&&!COMPILED&&(proto.WLCGV2.InputOPData.displayName="proto.WLCGV2.InputOPData"),r.Message.GENERATE_TO_OBJECT&&(proto.WLCGV2.CoordinatePos.prototype.toObject=function(e){return proto.WLCGV2.CoordinatePos.toObject(e,this)},proto.WLCGV2.CoordinatePos.toObject=function(e,t){var n={x:r.Message.getFieldWithDefault(t,1,0),y:r.Message.getFieldWithDefault(t,2,0)};return e&&(n.$jspbMessageInstance=t),n}),proto.WLCGV2.CoordinatePos.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.WLCGV2.CoordinatePos;return proto.WLCGV2.CoordinatePos.deserializeBinaryFromReader(t,e)},proto.WLCGV2.CoordinatePos.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readInt32();e.setX(n);break;case 2:n=t.readInt32(),e.setY(n);break;default:t.skipField()}return e},proto.WLCGV2.CoordinatePos.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.WLCGV2.CoordinatePos.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WLCGV2.CoordinatePos.serializeBinaryToWriter=function(e,t){var n;null!=(n=r.Message.getField(e,1))&&t.writeInt32(1,n),null!=(n=r.Message.getField(e,2))&&t.writeInt32(2,n)},proto.WLCGV2.CoordinatePos.prototype.getX=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.WLCGV2.CoordinatePos.prototype.setX=function(e){return r.Message.setField(this,1,e)},proto.WLCGV2.CoordinatePos.prototype.clearX=function(){return r.Message.setField(this,1,void 0)},proto.WLCGV2.CoordinatePos.prototype.hasX=function(){return null!=r.Message.getField(this,1)},proto.WLCGV2.CoordinatePos.prototype.getY=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.WLCGV2.CoordinatePos.prototype.setY=function(e){return r.Message.setField(this,2,e)},proto.WLCGV2.CoordinatePos.prototype.clearY=function(){return r.Message.setField(this,2,void 0)},proto.WLCGV2.CoordinatePos.prototype.hasY=function(){return null!=r.Message.getField(this,2)},r.Message.GENERATE_TO_OBJECT&&(proto.WLCGV2.OneInputOPData.prototype.toObject=function(e){return proto.WLCGV2.OneInputOPData.toObject(e,this)},proto.WLCGV2.OneInputOPData.toObject=function(e,t){var n={opDevice:r.Message.getFieldWithDefault(t,1,0),key:(n=t.getKey())&&proto.WLCGV2.OneInputOPData.KeyBoad.toObject(e,n),mouse:(n=t.getMouse())&&proto.WLCGV2.OneInputOPData.Mouse.toObject(e,n),touchpoints:(n=t.getTouchpoints())&&proto.WLCGV2.OneInputOPData.TouchPoints.toObject(e,n),gamePad:(n=t.getGamePad())&&proto.WLCGV2.OneInputOPData.GamePad.toObject(e,n),sensordata:(n=t.getSensordata())&&proto.WLCGV2.OneInputOPData.SensorData.toObject(e,n),vrdata:(n=t.getVrdata())&&proto.WLCGV2.OneInputOPData.VRInputData.toObject(e,n),devMode:r.Message.getFieldWithDefault(t,8,""),ds4data:(n=t.getDs4data())&&proto.WLCGV2.OneInputOPData.DualShock4.toObject(e,n),ds5data:(n=t.getDs5data())&&proto.WLCGV2.OneInputOPData.DualSense5.toObject(e,n),state:(n=t.getState())&&proto.WLCGV2.OneInputOPData.Connect.toObject(e,n)};return e&&(n.$jspbMessageInstance=t),n}),proto.WLCGV2.OneInputOPData.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.WLCGV2.OneInputOPData;return proto.WLCGV2.OneInputOPData.deserializeBinaryFromReader(t,e)},proto.WLCGV2.OneInputOPData.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readEnum();e.setOpDevice(n);break;case 2:n=new proto.WLCGV2.OneInputOPData.KeyBoad,t.readMessage(n,proto.WLCGV2.OneInputOPData.KeyBoad.deserializeBinaryFromReader),e.setKey(n);break;case 3:n=new proto.WLCGV2.OneInputOPData.Mouse,t.readMessage(n,proto.WLCGV2.OneInputOPData.Mouse.deserializeBinaryFromReader),e.setMouse(n);break;case 4:n=new proto.WLCGV2.OneInputOPData.TouchPoints,t.readMessage(n,proto.WLCGV2.OneInputOPData.TouchPoints.deserializeBinaryFromReader),e.setTouchpoints(n);break;case 5:n=new proto.WLCGV2.OneInputOPData.GamePad,t.readMessage(n,proto.WLCGV2.OneInputOPData.GamePad.deserializeBinaryFromReader),e.setGamePad(n);break;case 6:n=new proto.WLCGV2.OneInputOPData.SensorData,t.readMessage(n,proto.WLCGV2.OneInputOPData.SensorData.deserializeBinaryFromReader),e.setSensordata(n);break;case 7:n=new proto.WLCGV2.OneInputOPData.VRInputData,t.readMessage(n,proto.WLCGV2.OneInputOPData.VRInputData.deserializeBinaryFromReader),e.setVrdata(n);break;case 8:n=t.readString(),e.setDevMode(n);break;case 9:n=new proto.WLCGV2.OneInputOPData.DualShock4,t.readMessage(n,proto.WLCGV2.OneInputOPData.DualShock4.deserializeBinaryFromReader),e.setDs4data(n);break;case 10:n=new proto.WLCGV2.OneInputOPData.DualSense5,t.readMessage(n,proto.WLCGV2.OneInputOPData.DualSense5.deserializeBinaryFromReader),e.setDs5data(n);break;case 11:n=new proto.WLCGV2.OneInputOPData.Connect,t.readMessage(n,proto.WLCGV2.OneInputOPData.Connect.deserializeBinaryFromReader),e.setState(n);break;default:t.skipField()}return e},proto.WLCGV2.OneInputOPData.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.WLCGV2.OneInputOPData.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WLCGV2.OneInputOPData.serializeBinaryToWriter=function(e,t){var n;null!=(n=r.Message.getField(e,1))&&t.writeEnum(1,n),null!=(n=e.getKey())&&t.writeMessage(2,n,proto.WLCGV2.OneInputOPData.KeyBoad.serializeBinaryToWriter),null!=(n=e.getMouse())&&t.writeMessage(3,n,proto.WLCGV2.OneInputOPData.Mouse.serializeBinaryToWriter),null!=(n=e.getTouchpoints())&&t.writeMessage(4,n,proto.WLCGV2.OneInputOPData.TouchPoints.serializeBinaryToWriter),null!=(n=e.getGamePad())&&t.writeMessage(5,n,proto.WLCGV2.OneInputOPData.GamePad.serializeBinaryToWriter),null!=(n=e.getSensordata())&&t.writeMessage(6,n,proto.WLCGV2.OneInputOPData.SensorData.serializeBinaryToWriter),null!=(n=e.getVrdata())&&t.writeMessage(7,n,proto.WLCGV2.OneInputOPData.VRInputData.serializeBinaryToWriter),null!=(n=r.Message.getField(e,8))&&t.writeString(8,n),null!=(n=e.getDs4data())&&t.writeMessage(9,n,proto.WLCGV2.OneInputOPData.DualShock4.serializeBinaryToWriter),null!=(n=e.getDs5data())&&t.writeMessage(10,n,proto.WLCGV2.OneInputOPData.DualSense5.serializeBinaryToWriter),null!=(n=e.getState())&&t.writeMessage(11,n,proto.WLCGV2.OneInputOPData.Connect.serializeBinaryToWriter)},proto.WLCGV2.OneInputOPData.MouseAction={MOUSE_BEGIN:0,MOUSE_BUTTON_LEFT_DOWN:1,MOUSE_BUTTON_MIDDLE_DOWN:2,MOUSE_BUTTON_RIGHT_DOWN:3,MOUSE_BUTTON_LEFT_UP:4,MOUSE_BUTTON_MIDDLE_UP:5,MOUSE_BUTTON_RIGHT_UP:6,MOUSE_WHEEL:7,MOUSE_MOV:8},proto.WLCGV2.OneInputOPData.ToucAction={ACTION_DOWN:0,ACTION_UP:1,ACTION_MOVE:2,ACTION_CANCEL:3,ACTION_OUTSIDE:4,ACTION_POINTER_DOWN:5,ACTION_POINTER_UP:6},proto.WLCGV2.OneInputOPData.GamePadButton={GAMEPAD_DPAD_BEGIN:0,GAMEPAD_DPAD_UP:1,GAMEPAD_DPAD_DOWN:2,GAMEPAD_DPAD_LEFT:4,GAMEPAD_DPAD_RIGHT:8,GAMEPAD_START:16,GAMEPAD_BACK:32,GAMEPAD_LEFT_THUMB:64,GAMEPAD_RIGHT_THUMB:128,GAMEPAD_LEFT_SHOULDER:256,GAMEPAD_RIGHT_SHOULDER:512,GAMEPAD_A:4096,GAMEPAD_B:8192,GAMEPAD_X:16384,GAMEPAD_Y:32768},proto.WLCGV2.OneInputOPData.SensorType={TYPE_UNKOWN:0,TYPE_ACCELEROMETER:1,TYPE_MAGNETIC_FIELD:2,TYPE_ORIENTATION:3,TYPE_GYROSCOPE:4,TYPE_LIGHT:5,TYPE_PRESSURE:6,TYPE_TEMPERATURE:7,TYPE_PROXIMITY:8,TYPE_GRAVITY:9,TYPE_LINEAR_ACCELERATION:10,TYPE_ROTATION_VECTOR:11,TYPE_RELATIVE_HUMIDITY:12,TYPE_AMBIENT_TEMPERATURE:13,TYPE_MAGNETIC_FIELD_UNCALIBRATED:14,TYPE_GAME_ROTATION_VECTOR:15,TYPE_GYROSCOPE_UNCALIBRATED:16,TYPE_SIGNIFICANT_MOTION:17,TYPE_STEP_DETECTOR:18,TYPE_STEP_COUNTER:19,TYPE_GEOMAGNETIC_ROTATION_VECTOR:20,TYPE_HEART_RATE:21,TYPE_TILT_DETECTOR:22,TYPE_WAKE_GESTURE:23,TYPE_GLANCE_GESTURE:24,TYPE_PICK_UP_GESTURE:25,TYPE_WRIST_TILT_GESTURE:26,TYPE_DEVICE_ORIENTATION:27,TYPE_POSE_6DOF:28,TYPE_STATIONARY_DETECT:29,TYPE_MOTION_DETECT:30,TYPE_HEART_BEAT:31,TYPE_DYNAMIC_SENSOR_META:32,TYPE_LOW_LATENCY_OFFBODY_DETECT:34,TYPE_ACCELEROMETER_UNCALIBRATED:35,TYPE_HINGE_ANGLE:36,TYPE_PICOVR_SENSOR:60,TYPE_SCALE_RATIO:64},proto.WLCGV2.OneInputOPData.DeviceType={DEVICE_BEGAIN:0,PICONEO3:1},proto.WLCGV2.OneInputOPData.VRControllerButton={VR_INPUT_BEGAIN:0,VR_INPUT_A_CLICK:1,VR_INPUT_A_TOUCH:2,VR_INPUT_B_CLICK:4,VR_INPUT_B_TOUCH:8,VR_INPUT_X_CLICK:16,VR_INPUT_X_TOUCH:32,VR_INPUT_Y_CLICK:64,VR_INPUT_Y_TOUCH:128,VR_INPUT_JOYSTICK_TOUCH:256,VR_INPUT_JOYSTICK_CLICK:512,VR_INPUT_TRIGGER_CLICK:1024,VR_INPUT_TRIGGER_TOUCH:2048,VR_INPUT_GRIP_CLICK:4096,VR_INPUT_GRIP_TOUCH:8192,VR_INPUT_SYSTEM_CLICK:16384,VR_INPUT_APP_CLICK:32768},proto.WLCGV2.OneInputOPData.GamePadType={GAMEPADTYPE_XBOX:0,GAMEPADTYPE_PS4:1,GAMEPADTYPE_PS5:2},proto.WLCGV2.OneInputOPData.DS4_PADBUTTONS={PADBUTTONS_UP:0,PADBUTTONS_TOPRIGHT:1,PADBUTTONS_RIGHT:2,PADBUTTONS_LOWERRIGHT:3,PADBUTTONS_DOWN:4,PADBUTTONS_LOWERLEFT:5,PADBUTTONS_LEFT:6,PADBUTTONS_TOPLEFT:7,PADBUTTONS_NOSIGNAL:8,PADBUTTONS_SQUARE:16,PADBUTTONS_CROSS:32,PADBUTTONS_CIRCLE:64,PADBUTTONS_TRIANGLE:128},proto.WLCGV2.OneInputOPData.DS4_CUSBUTTONS={CUSBUTTONS_NOSIGNAL:0,CUSBUTTONS_L1:1,CUSBUTTONS_R1:2,CUSBUTTONS_L2:4,CUSBUTTONS_R2:8,CUSBUTTONS_SHARE:16,CUSBUTTONS_OPTION:32,CUSBUTTONS_LS:64,CUSBUTTONS_RS:128},proto.WLCGV2.OneInputOPData.DS4_EXPAND_BUTTONS={EXPAND_BUTTON_NOSIGNAL:0,EXPAND_BUTTON_PS:1,EXPAND_BUTTON_TOUCHPAD:2},proto.WLCGV2.OneInputOPData.DS5_WBUTTONS_1={WBUTTON_1_UP:0,WBUTTON_1_TOPRIGHT:1,WBUTTON_1_RIGHT:2,WBUTTON_1_LOWERRIGHT:3,WBUTTON_1_DOWN:4,WBUTTON_1_LOWERLEFT:5,WBUTTON_1_LEFT:6,WBUTTON_1_TOPLEFT:7,WBUTTON_1_NOSIGNAL:8,WBUTTON_1_SQUARE:16,WBUTTON_1_CROSS:32,WBUTTON_1_CIRCLE:64,WBUTTON_1_TRIANGLE:128},proto.WLCGV2.OneInputOPData.DS5_WBUTTONS_2={WBUTTON_2_NOSIGNAL:0,WBUTTON_2_L1:1,WBUTTON_2_R1:2,WBUTTON_2_L2:4,WBUTTON_2_R2:8,WBUTTON_2_SHARE:16,WBUTTON_2_OPTION:32,WBUTTON_2_LS:64,WBUTTON_2_RS:128},proto.WLCGV2.OneInputOPData.DS5_WBUTTONS_3={WBUTTON_3_NOSIGNAL:0,WBUTTON_3_PS:1,WBUTTON_3_TOUCHPAD:2,WBUTTON_3_MIC:4},r.Message.GENERATE_TO_OBJECT&&(proto.WLCGV2.OneInputOPData.KeyBoad.prototype.toObject=function(e){return proto.WLCGV2.OneInputOPData.KeyBoad.toObject(e,this)},proto.WLCGV2.OneInputOPData.KeyBoad.toObject=function(e,t){var n={key:r.Message.getFieldWithDefault(t,1,0),stat:r.Message.getBooleanFieldWithDefault(t,2,!1)};return e&&(n.$jspbMessageInstance=t),n}),proto.WLCGV2.OneInputOPData.KeyBoad.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.WLCGV2.OneInputOPData.KeyBoad;return proto.WLCGV2.OneInputOPData.KeyBoad.deserializeBinaryFromReader(t,e)},proto.WLCGV2.OneInputOPData.KeyBoad.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readInt32();e.setKey(n);break;case 2:n=t.readBool(),e.setStat(n);break;default:t.skipField()}return e},proto.WLCGV2.OneInputOPData.KeyBoad.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.WLCGV2.OneInputOPData.KeyBoad.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WLCGV2.OneInputOPData.KeyBoad.serializeBinaryToWriter=function(e,t){var n;0!==(n=e.getKey())&&t.writeInt32(1,n),(n=e.getStat())&&t.writeBool(2,n)},proto.WLCGV2.OneInputOPData.KeyBoad.prototype.getKey=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.WLCGV2.OneInputOPData.KeyBoad.prototype.setKey=function(e){return r.Message.setProto3IntField(this,1,e)},proto.WLCGV2.OneInputOPData.KeyBoad.prototype.getStat=function(){return r.Message.getBooleanFieldWithDefault(this,2,!1)},proto.WLCGV2.OneInputOPData.KeyBoad.prototype.setStat=function(e){return r.Message.setProto3BooleanField(this,2,e)},r.Message.GENERATE_TO_OBJECT&&(proto.WLCGV2.OneInputOPData.Mouse.prototype.toObject=function(e){return proto.WLCGV2.OneInputOPData.Mouse.toObject(e,this)},proto.WLCGV2.OneInputOPData.Mouse.toObject=function(e,t){var n={action:r.Message.getFieldWithDefault(t,1,0),cursorPos:(n=t.getCursorPos())&&proto.WLCGV2.CoordinatePos.toObject(e,n),mousePos:(n=t.getMousePos())&&proto.WLCGV2.CoordinatePos.toObject(e,n),wheel:r.Message.getFieldWithDefault(t,4,0)};return e&&(n.$jspbMessageInstance=t),n}),proto.WLCGV2.OneInputOPData.Mouse.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.WLCGV2.OneInputOPData.Mouse;return proto.WLCGV2.OneInputOPData.Mouse.deserializeBinaryFromReader(t,e)},proto.WLCGV2.OneInputOPData.Mouse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readEnum();e.setAction(n);break;case 2:n=new proto.WLCGV2.CoordinatePos,t.readMessage(n,proto.WLCGV2.CoordinatePos.deserializeBinaryFromReader),e.setCursorPos(n);break;case 3:n=new proto.WLCGV2.CoordinatePos,t.readMessage(n,proto.WLCGV2.CoordinatePos.deserializeBinaryFromReader),e.setMousePos(n);break;case 4:n=t.readInt32(),e.setWheel(n);break;default:t.skipField()}return e},proto.WLCGV2.OneInputOPData.Mouse.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.WLCGV2.OneInputOPData.Mouse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WLCGV2.OneInputOPData.Mouse.serializeBinaryToWriter=function(e,t){var n;null!=(n=r.Message.getField(e,1))&&t.writeEnum(1,n),null!=(n=e.getCursorPos())&&t.writeMessage(2,n,proto.WLCGV2.CoordinatePos.serializeBinaryToWriter),null!=(n=e.getMousePos())&&t.writeMessage(3,n,proto.WLCGV2.CoordinatePos.serializeBinaryToWriter),null!=(n=r.Message.getField(e,4))&&t.writeInt32(4,n)},proto.WLCGV2.OneInputOPData.Mouse.prototype.getAction=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.WLCGV2.OneInputOPData.Mouse.prototype.setAction=function(e){return r.Message.setField(this,1,e)},proto.WLCGV2.OneInputOPData.Mouse.prototype.clearAction=function(){return r.Message.setField(this,1,void 0)},proto.WLCGV2.OneInputOPData.Mouse.prototype.hasAction=function(){return null!=r.Message.getField(this,1)},proto.WLCGV2.OneInputOPData.Mouse.prototype.getCursorPos=function(){return r.Message.getWrapperField(this,proto.WLCGV2.CoordinatePos,2)},proto.WLCGV2.OneInputOPData.Mouse.prototype.setCursorPos=function(e){return r.Message.setWrapperField(this,2,e)},proto.WLCGV2.OneInputOPData.Mouse.prototype.clearCursorPos=function(){return this.setCursorPos(void 0)},proto.WLCGV2.OneInputOPData.Mouse.prototype.hasCursorPos=function(){return null!=r.Message.getField(this,2)},proto.WLCGV2.OneInputOPData.Mouse.prototype.getMousePos=function(){return r.Message.getWrapperField(this,proto.WLCGV2.CoordinatePos,3)},proto.WLCGV2.OneInputOPData.Mouse.prototype.setMousePos=function(e){return r.Message.setWrapperField(this,3,e)},proto.WLCGV2.OneInputOPData.Mouse.prototype.clearMousePos=function(){return this.setMousePos(void 0)},proto.WLCGV2.OneInputOPData.Mouse.prototype.hasMousePos=function(){return null!=r.Message.getField(this,3)},proto.WLCGV2.OneInputOPData.Mouse.prototype.getWheel=function(){return r.Message.getFieldWithDefault(this,4,0)},proto.WLCGV2.OneInputOPData.Mouse.prototype.setWheel=function(e){return r.Message.setField(this,4,e)},proto.WLCGV2.OneInputOPData.Mouse.prototype.clearWheel=function(){return r.Message.setField(this,4,void 0)},proto.WLCGV2.OneInputOPData.Mouse.prototype.hasWheel=function(){return null!=r.Message.getField(this,4)},r.Message.GENERATE_TO_OBJECT&&(proto.WLCGV2.OneInputOPData.TouchPoint.prototype.toObject=function(e){return proto.WLCGV2.OneInputOPData.TouchPoint.toObject(e,this)},proto.WLCGV2.OneInputOPData.TouchPoint.toObject=function(e,t){var n={x:r.Message.getFieldWithDefault(t,1,0),y:r.Message.getFieldWithDefault(t,2,0),id:r.Message.getFieldWithDefault(t,3,0),flags:r.Message.getFieldWithDefault(t,4,0),status:r.Message.getFieldWithDefault(t,5,0)};return e&&(n.$jspbMessageInstance=t),n}),proto.WLCGV2.OneInputOPData.TouchPoint.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.WLCGV2.OneInputOPData.TouchPoint;return proto.WLCGV2.OneInputOPData.TouchPoint.deserializeBinaryFromReader(t,e)},proto.WLCGV2.OneInputOPData.TouchPoint.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readInt32();e.setX(n);break;case 2:n=t.readInt32(),e.setY(n);break;case 3:n=t.readInt32(),e.setId(n);break;case 4:n=t.readEnum(),e.setFlags(n);break;case 5:n=t.readInt32(),e.setStatus(n);break;default:t.skipField()}return e},proto.WLCGV2.OneInputOPData.TouchPoint.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.WLCGV2.OneInputOPData.TouchPoint.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WLCGV2.OneInputOPData.TouchPoint.serializeBinaryToWriter=function(e,t){var n;0!==(n=e.getX())&&t.writeInt32(1,n),0!==(n=e.getY())&&t.writeInt32(2,n),0!==(n=e.getId())&&t.writeInt32(3,n),0!==(n=e.getFlags())&&t.writeEnum(4,n),0!==(n=e.getStatus())&&t.writeInt32(5,n)},proto.WLCGV2.OneInputOPData.TouchPoint.prototype.getX=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.WLCGV2.OneInputOPData.TouchPoint.prototype.setX=function(e){return r.Message.setProto3IntField(this,1,e)},proto.WLCGV2.OneInputOPData.TouchPoint.prototype.getY=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.WLCGV2.OneInputOPData.TouchPoint.prototype.setY=function(e){return r.Message.setProto3IntField(this,2,e)},proto.WLCGV2.OneInputOPData.TouchPoint.prototype.getId=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.WLCGV2.OneInputOPData.TouchPoint.prototype.setId=function(e){return r.Message.setProto3IntField(this,3,e)},proto.WLCGV2.OneInputOPData.TouchPoint.prototype.getFlags=function(){return r.Message.getFieldWithDefault(this,4,0)},proto.WLCGV2.OneInputOPData.TouchPoint.prototype.setFlags=function(e){return r.Message.setProto3EnumField(this,4,e)},proto.WLCGV2.OneInputOPData.TouchPoint.prototype.getStatus=function(){return r.Message.getFieldWithDefault(this,5,0)},proto.WLCGV2.OneInputOPData.TouchPoint.prototype.setStatus=function(e){return r.Message.setProto3IntField(this,5,e)},proto.WLCGV2.OneInputOPData.TouchPoints.repeatedFields_=[1],r.Message.GENERATE_TO_OBJECT&&(proto.WLCGV2.OneInputOPData.TouchPoints.prototype.toObject=function(e){return proto.WLCGV2.OneInputOPData.TouchPoints.toObject(e,this)},proto.WLCGV2.OneInputOPData.TouchPoints.toObject=function(e,t){var n={touchpointsList:r.Message.toObjectList(t.getTouchpointsList(),proto.WLCGV2.OneInputOPData.TouchPoint.toObject,e)};return e&&(n.$jspbMessageInstance=t),n}),proto.WLCGV2.OneInputOPData.TouchPoints.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.WLCGV2.OneInputOPData.TouchPoints;return proto.WLCGV2.OneInputOPData.TouchPoints.deserializeBinaryFromReader(t,e)},proto.WLCGV2.OneInputOPData.TouchPoints.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){var n;1===t.getFieldNumber()?(n=new proto.WLCGV2.OneInputOPData.TouchPoint,t.readMessage(n,proto.WLCGV2.OneInputOPData.TouchPoint.deserializeBinaryFromReader),e.addTouchpoints(n)):t.skipField()}return e},proto.WLCGV2.OneInputOPData.TouchPoints.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.WLCGV2.OneInputOPData.TouchPoints.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WLCGV2.OneInputOPData.TouchPoints.serializeBinaryToWriter=function(e,t){0<(e=e.getTouchpointsList()).length&&t.writeRepeatedMessage(1,e,proto.WLCGV2.OneInputOPData.TouchPoint.serializeBinaryToWriter)},proto.WLCGV2.OneInputOPData.TouchPoints.prototype.getTouchpointsList=function(){return r.Message.getRepeatedWrapperField(this,proto.WLCGV2.OneInputOPData.TouchPoint,1)},proto.WLCGV2.OneInputOPData.TouchPoints.prototype.setTouchpointsList=function(e){return r.Message.setRepeatedWrapperField(this,1,e)},proto.WLCGV2.OneInputOPData.TouchPoints.prototype.addTouchpoints=function(e,t){return r.Message.addToRepeatedWrapperField(this,1,e,proto.WLCGV2.OneInputOPData.TouchPoint,t)},proto.WLCGV2.OneInputOPData.TouchPoints.prototype.clearTouchpointsList=function(){return this.setTouchpointsList([])},r.Message.GENERATE_TO_OBJECT&&(proto.WLCGV2.OneInputOPData.GamePad.prototype.toObject=function(e){return proto.WLCGV2.OneInputOPData.GamePad.toObject(e,this)},proto.WLCGV2.OneInputOPData.GamePad.toObject=function(e,t){var n={wbuttons:r.Message.getFieldWithDefault(t,1,0),blefttrigger:r.Message.getFieldWithDefault(t,2,0),brighttrigger:r.Message.getFieldWithDefault(t,3,0),sthumblx:r.Message.getFieldWithDefault(t,4,0),sthumbly:r.Message.getFieldWithDefault(t,5,0),sthumbrx:r.Message.getFieldWithDefault(t,6,0),sthumbry:r.Message.getFieldWithDefault(t,7,0),userindex:r.Message.getFieldWithDefault(t,8,0)};return e&&(n.$jspbMessageInstance=t),n}),proto.WLCGV2.OneInputOPData.GamePad.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.WLCGV2.OneInputOPData.GamePad;return proto.WLCGV2.OneInputOPData.GamePad.deserializeBinaryFromReader(t,e)},proto.WLCGV2.OneInputOPData.GamePad.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readInt32();e.setWbuttons(n);break;case 2:n=t.readInt32(),e.setBlefttrigger(n);break;case 3:n=t.readInt32(),e.setBrighttrigger(n);break;case 4:n=t.readInt32(),e.setSthumblx(n);break;case 5:n=t.readInt32(),e.setSthumbly(n);break;case 6:n=t.readInt32(),e.setSthumbrx(n);break;case 7:n=t.readInt32(),e.setSthumbry(n);break;case 8:n=t.readInt32(),e.setUserindex(n);break;default:t.skipField()}return e},proto.WLCGV2.OneInputOPData.GamePad.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.WLCGV2.OneInputOPData.GamePad.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WLCGV2.OneInputOPData.GamePad.serializeBinaryToWriter=function(e,t){var n;null!=(n=r.Message.getField(e,1))&&t.writeInt32(1,n),null!=(n=r.Message.getField(e,2))&&t.writeInt32(2,n),null!=(n=r.Message.getField(e,3))&&t.writeInt32(3,n),null!=(n=r.Message.getField(e,4))&&t.writeInt32(4,n),null!=(n=r.Message.getField(e,5))&&t.writeInt32(5,n),null!=(n=r.Message.getField(e,6))&&t.writeInt32(6,n),null!=(n=r.Message.getField(e,7))&&t.writeInt32(7,n),null!=(n=r.Message.getField(e,8))&&t.writeInt32(8,n)},proto.WLCGV2.OneInputOPData.GamePad.prototype.getWbuttons=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.WLCGV2.OneInputOPData.GamePad.prototype.setWbuttons=function(e){return r.Message.setField(this,1,e)},proto.WLCGV2.OneInputOPData.GamePad.prototype.clearWbuttons=function(){return r.Message.setField(this,1,void 0)},proto.WLCGV2.OneInputOPData.GamePad.prototype.hasWbuttons=function(){return null!=r.Message.getField(this,1)},proto.WLCGV2.OneInputOPData.GamePad.prototype.getBlefttrigger=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.WLCGV2.OneInputOPData.GamePad.prototype.setBlefttrigger=function(e){return r.Message.setField(this,2,e)},proto.WLCGV2.OneInputOPData.GamePad.prototype.clearBlefttrigger=function(){return r.Message.setField(this,2,void 0)},proto.WLCGV2.OneInputOPData.GamePad.prototype.hasBlefttrigger=function(){return null!=r.Message.getField(this,2)},proto.WLCGV2.OneInputOPData.GamePad.prototype.getBrighttrigger=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.WLCGV2.OneInputOPData.GamePad.prototype.setBrighttrigger=function(e){return r.Message.setField(this,3,e)},proto.WLCGV2.OneInputOPData.GamePad.prototype.clearBrighttrigger=function(){return r.Message.setField(this,3,void 0)},proto.WLCGV2.OneInputOPData.GamePad.prototype.hasBrighttrigger=function(){return null!=r.Message.getField(this,3)},proto.WLCGV2.OneInputOPData.GamePad.prototype.getSthumblx=function(){return r.Message.getFieldWithDefault(this,4,0)},proto.WLCGV2.OneInputOPData.GamePad.prototype.setSthumblx=function(e){return r.Message.setField(this,4,e)},proto.WLCGV2.OneInputOPData.GamePad.prototype.clearSthumblx=function(){return r.Message.setField(this,4,void 0)},proto.WLCGV2.OneInputOPData.GamePad.prototype.hasSthumblx=function(){return null!=r.Message.getField(this,4)},proto.WLCGV2.OneInputOPData.GamePad.prototype.getSthumbly=function(){return r.Message.getFieldWithDefault(this,5,0)},proto.WLCGV2.OneInputOPData.GamePad.prototype.setSthumbly=function(e){return r.Message.setField(this,5,e)},proto.WLCGV2.OneInputOPData.GamePad.prototype.clearSthumbly=function(){return r.Message.setField(this,5,void 0)},proto.WLCGV2.OneInputOPData.GamePad.prototype.hasSthumbly=function(){return null!=r.Message.getField(this,5)},proto.WLCGV2.OneInputOPData.GamePad.prototype.getSthumbrx=function(){return r.Message.getFieldWithDefault(this,6,0)},proto.WLCGV2.OneInputOPData.GamePad.prototype.setSthumbrx=function(e){return r.Message.setField(this,6,e)},proto.WLCGV2.OneInputOPData.GamePad.prototype.clearSthumbrx=function(){return r.Message.setField(this,6,void 0)},proto.WLCGV2.OneInputOPData.GamePad.prototype.hasSthumbrx=function(){return null!=r.Message.getField(this,6)},proto.WLCGV2.OneInputOPData.GamePad.prototype.getSthumbry=function(){return r.Message.getFieldWithDefault(this,7,0)},proto.WLCGV2.OneInputOPData.GamePad.prototype.setSthumbry=function(e){return r.Message.setField(this,7,e)},proto.WLCGV2.OneInputOPData.GamePad.prototype.clearSthumbry=function(){return r.Message.setField(this,7,void 0)},proto.WLCGV2.OneInputOPData.GamePad.prototype.hasSthumbry=function(){return null!=r.Message.getField(this,7)},proto.WLCGV2.OneInputOPData.GamePad.prototype.getUserindex=function(){return r.Message.getFieldWithDefault(this,8,0)},proto.WLCGV2.OneInputOPData.GamePad.prototype.setUserindex=function(e){return r.Message.setField(this,8,e)},proto.WLCGV2.OneInputOPData.GamePad.prototype.clearUserindex=function(){return r.Message.setField(this,8,void 0)},proto.WLCGV2.OneInputOPData.GamePad.prototype.hasUserindex=function(){return null!=r.Message.getField(this,8)},r.Message.GENERATE_TO_OBJECT&&(proto.WLCGV2.OneInputOPData.TrackingQuat.prototype.toObject=function(e){return proto.WLCGV2.OneInputOPData.TrackingQuat.toObject(e,this)},proto.WLCGV2.OneInputOPData.TrackingQuat.toObject=function(e,t){var n={x:r.Message.getFloatingPointFieldWithDefault(t,1,0),y:r.Message.getFloatingPointFieldWithDefault(t,2,0),z:r.Message.getFloatingPointFieldWithDefault(t,3,0),w:r.Message.getFloatingPointFieldWithDefault(t,4,0)};return e&&(n.$jspbMessageInstance=t),n}),proto.WLCGV2.OneInputOPData.TrackingQuat.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.WLCGV2.OneInputOPData.TrackingQuat;return proto.WLCGV2.OneInputOPData.TrackingQuat.deserializeBinaryFromReader(t,e)},proto.WLCGV2.OneInputOPData.TrackingQuat.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readFloat();e.setX(n);break;case 2:n=t.readFloat(),e.setY(n);break;case 3:n=t.readFloat(),e.setZ(n);break;case 4:n=t.readFloat(),e.setW(n);break;default:t.skipField()}return e},proto.WLCGV2.OneInputOPData.TrackingQuat.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.WLCGV2.OneInputOPData.TrackingQuat.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WLCGV2.OneInputOPData.TrackingQuat.serializeBinaryToWriter=function(e,t){var n;null!=(n=r.Message.getField(e,1))&&t.writeFloat(1,n),null!=(n=r.Message.getField(e,2))&&t.writeFloat(2,n),null!=(n=r.Message.getField(e,3))&&t.writeFloat(3,n),null!=(n=r.Message.getField(e,4))&&t.writeFloat(4,n)},proto.WLCGV2.OneInputOPData.TrackingQuat.prototype.getX=function(){return r.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.WLCGV2.OneInputOPData.TrackingQuat.prototype.setX=function(e){return r.Message.setField(this,1,e)},proto.WLCGV2.OneInputOPData.TrackingQuat.prototype.clearX=function(){return r.Message.setField(this,1,void 0)},proto.WLCGV2.OneInputOPData.TrackingQuat.prototype.hasX=function(){return null!=r.Message.getField(this,1)},proto.WLCGV2.OneInputOPData.TrackingQuat.prototype.getY=function(){return r.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.WLCGV2.OneInputOPData.TrackingQuat.prototype.setY=function(e){return r.Message.setField(this,2,e)},proto.WLCGV2.OneInputOPData.TrackingQuat.prototype.clearY=function(){return r.Message.setField(this,2,void 0)},proto.WLCGV2.OneInputOPData.TrackingQuat.prototype.hasY=function(){return null!=r.Message.getField(this,2)},proto.WLCGV2.OneInputOPData.TrackingQuat.prototype.getZ=function(){return r.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.WLCGV2.OneInputOPData.TrackingQuat.prototype.setZ=function(e){return r.Message.setField(this,3,e)},proto.WLCGV2.OneInputOPData.TrackingQuat.prototype.clearZ=function(){return r.Message.setField(this,3,void 0)},proto.WLCGV2.OneInputOPData.TrackingQuat.prototype.hasZ=function(){return null!=r.Message.getField(this,3)},proto.WLCGV2.OneInputOPData.TrackingQuat.prototype.getW=function(){return r.Message.getFloatingPointFieldWithDefault(this,4,0)},proto.WLCGV2.OneInputOPData.TrackingQuat.prototype.setW=function(e){return r.Message.setField(this,4,e)},proto.WLCGV2.OneInputOPData.TrackingQuat.prototype.clearW=function(){return r.Message.setField(this,4,void 0)},proto.WLCGV2.OneInputOPData.TrackingQuat.prototype.hasW=function(){return null!=r.Message.getField(this,4)},r.Message.GENERATE_TO_OBJECT&&(proto.WLCGV2.OneInputOPData.TrackingVector3.prototype.toObject=function(e){return proto.WLCGV2.OneInputOPData.TrackingVector3.toObject(e,this)},proto.WLCGV2.OneInputOPData.TrackingVector3.toObject=function(e,t){var n={x:r.Message.getFloatingPointFieldWithDefault(t,1,0),y:r.Message.getFloatingPointFieldWithDefault(t,2,0),z:r.Message.getFloatingPointFieldWithDefault(t,3,0)};return e&&(n.$jspbMessageInstance=t),n}),proto.WLCGV2.OneInputOPData.TrackingVector3.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.WLCGV2.OneInputOPData.TrackingVector3;return proto.WLCGV2.OneInputOPData.TrackingVector3.deserializeBinaryFromReader(t,e)},proto.WLCGV2.OneInputOPData.TrackingVector3.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readFloat();e.setX(n);break;case 2:n=t.readFloat(),e.setY(n);break;case 3:n=t.readFloat(),e.setZ(n);break;default:t.skipField()}return e},proto.WLCGV2.OneInputOPData.TrackingVector3.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.WLCGV2.OneInputOPData.TrackingVector3.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WLCGV2.OneInputOPData.TrackingVector3.serializeBinaryToWriter=function(e,t){var n;null!=(n=r.Message.getField(e,1))&&t.writeFloat(1,n),null!=(n=r.Message.getField(e,2))&&t.writeFloat(2,n),null!=(n=r.Message.getField(e,3))&&t.writeFloat(3,n)},proto.WLCGV2.OneInputOPData.TrackingVector3.prototype.getX=function(){return r.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.WLCGV2.OneInputOPData.TrackingVector3.prototype.setX=function(e){return r.Message.setField(this,1,e)},proto.WLCGV2.OneInputOPData.TrackingVector3.prototype.clearX=function(){return r.Message.setField(this,1,void 0)},proto.WLCGV2.OneInputOPData.TrackingVector3.prototype.hasX=function(){return null!=r.Message.getField(this,1)},proto.WLCGV2.OneInputOPData.TrackingVector3.prototype.getY=function(){return r.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.WLCGV2.OneInputOPData.TrackingVector3.prototype.setY=function(e){return r.Message.setField(this,2,e)},proto.WLCGV2.OneInputOPData.TrackingVector3.prototype.clearY=function(){return r.Message.setField(this,2,void 0)},proto.WLCGV2.OneInputOPData.TrackingVector3.prototype.hasY=function(){return null!=r.Message.getField(this,2)},proto.WLCGV2.OneInputOPData.TrackingVector3.prototype.getZ=function(){return r.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.WLCGV2.OneInputOPData.TrackingVector3.prototype.setZ=function(e){return r.Message.setField(this,3,e)},proto.WLCGV2.OneInputOPData.TrackingVector3.prototype.clearZ=function(){return r.Message.setField(this,3,void 0)},proto.WLCGV2.OneInputOPData.TrackingVector3.prototype.hasZ=function(){return null!=r.Message.getField(this,3)},r.Message.GENERATE_TO_OBJECT&&(proto.WLCGV2.OneInputOPData.TrackPadPosition.prototype.toObject=function(e){return proto.WLCGV2.OneInputOPData.TrackPadPosition.toObject(e,this)},proto.WLCGV2.OneInputOPData.TrackPadPosition.toObject=function(e,t){var n={x:r.Message.getFloatingPointFieldWithDefault(t,1,0),y:r.Message.getFloatingPointFieldWithDefault(t,2,0)};return e&&(n.$jspbMessageInstance=t),n}),proto.WLCGV2.OneInputOPData.TrackPadPosition.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.WLCGV2.OneInputOPData.TrackPadPosition;return proto.WLCGV2.OneInputOPData.TrackPadPosition.deserializeBinaryFromReader(t,e)},proto.WLCGV2.OneInputOPData.TrackPadPosition.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readFloat();e.setX(n);break;case 2:n=t.readFloat(),e.setY(n);break;default:t.skipField()}return e},proto.WLCGV2.OneInputOPData.TrackPadPosition.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.WLCGV2.OneInputOPData.TrackPadPosition.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WLCGV2.OneInputOPData.TrackPadPosition.serializeBinaryToWriter=function(e,t){var n;null!=(n=r.Message.getField(e,1))&&t.writeFloat(1,n),null!=(n=r.Message.getField(e,2))&&t.writeFloat(2,n)},proto.WLCGV2.OneInputOPData.TrackPadPosition.prototype.getX=function(){return r.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.WLCGV2.OneInputOPData.TrackPadPosition.prototype.setX=function(e){return r.Message.setField(this,1,e)},proto.WLCGV2.OneInputOPData.TrackPadPosition.prototype.clearX=function(){return r.Message.setField(this,1,void 0)},proto.WLCGV2.OneInputOPData.TrackPadPosition.prototype.hasX=function(){return null!=r.Message.getField(this,1)},proto.WLCGV2.OneInputOPData.TrackPadPosition.prototype.getY=function(){return r.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.WLCGV2.OneInputOPData.TrackPadPosition.prototype.setY=function(e){return r.Message.setField(this,2,e)},proto.WLCGV2.OneInputOPData.TrackPadPosition.prototype.clearY=function(){return r.Message.setField(this,2,void 0)},proto.WLCGV2.OneInputOPData.TrackPadPosition.prototype.hasY=function(){return null!=r.Message.getField(this,2)},r.Message.GENERATE_TO_OBJECT&&(proto.WLCGV2.OneInputOPData.SensorData.prototype.toObject=function(e){return proto.WLCGV2.OneInputOPData.SensorData.toObject(e,this)},proto.WLCGV2.OneInputOPData.SensorData.toObject=function(e,t){var n={sensor:r.Message.getFieldWithDefault(t,1,0),id:r.Message.getFieldWithDefault(t,2,0),value:r.Message.getFloatingPointFieldWithDefault(t,3,0),vector3:(n=t.getVector3())&&proto.WLCGV2.OneInputOPData.TrackingVector3.toObject(e,n),quatertion:(n=t.getQuatertion())&&proto.WLCGV2.OneInputOPData.TrackingQuat.toObject(e,n),rotation:r.Message.getFieldWithDefault(t,6,0)};return e&&(n.$jspbMessageInstance=t),n}),proto.WLCGV2.OneInputOPData.SensorData.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.WLCGV2.OneInputOPData.SensorData;return proto.WLCGV2.OneInputOPData.SensorData.deserializeBinaryFromReader(t,e)},proto.WLCGV2.OneInputOPData.SensorData.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readEnum();e.setSensor(n);break;case 2:n=t.readInt32(),e.setId(n);break;case 3:n=t.readFloat(),e.setValue(n);break;case 4:n=new proto.WLCGV2.OneInputOPData.TrackingVector3,t.readMessage(n,proto.WLCGV2.OneInputOPData.TrackingVector3.deserializeBinaryFromReader),e.setVector3(n);break;case 5:n=new proto.WLCGV2.OneInputOPData.TrackingQuat,t.readMessage(n,proto.WLCGV2.OneInputOPData.TrackingQuat.deserializeBinaryFromReader),e.setQuatertion(n);break;case 6:n=t.readInt32(),e.setRotation(n);break;default:t.skipField()}return e},proto.WLCGV2.OneInputOPData.SensorData.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.WLCGV2.OneInputOPData.SensorData.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WLCGV2.OneInputOPData.SensorData.serializeBinaryToWriter=function(e,t){var n;0!==(n=e.getSensor())&&t.writeEnum(1,n),null!=(n=r.Message.getField(e,2))&&t.writeInt32(2,n),null!=(n=r.Message.getField(e,3))&&t.writeFloat(3,n),null!=(n=e.getVector3())&&t.writeMessage(4,n,proto.WLCGV2.OneInputOPData.TrackingVector3.serializeBinaryToWriter),null!=(n=e.getQuatertion())&&t.writeMessage(5,n,proto.WLCGV2.OneInputOPData.TrackingQuat.serializeBinaryToWriter),null!=(n=r.Message.getField(e,6))&&t.writeInt32(6,n)},proto.WLCGV2.OneInputOPData.SensorData.prototype.getSensor=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.WLCGV2.OneInputOPData.SensorData.prototype.setSensor=function(e){return r.Message.setProto3EnumField(this,1,e)},proto.WLCGV2.OneInputOPData.SensorData.prototype.getId=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.WLCGV2.OneInputOPData.SensorData.prototype.setId=function(e){return r.Message.setField(this,2,e)},proto.WLCGV2.OneInputOPData.SensorData.prototype.clearId=function(){return r.Message.setField(this,2,void 0)},proto.WLCGV2.OneInputOPData.SensorData.prototype.hasId=function(){return null!=r.Message.getField(this,2)},proto.WLCGV2.OneInputOPData.SensorData.prototype.getValue=function(){return r.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.WLCGV2.OneInputOPData.SensorData.prototype.setValue=function(e){return r.Message.setField(this,3,e)},proto.WLCGV2.OneInputOPData.SensorData.prototype.clearValue=function(){return r.Message.setField(this,3,void 0)},proto.WLCGV2.OneInputOPData.SensorData.prototype.hasValue=function(){return null!=r.Message.getField(this,3)},proto.WLCGV2.OneInputOPData.SensorData.prototype.getVector3=function(){return r.Message.getWrapperField(this,proto.WLCGV2.OneInputOPData.TrackingVector3,4)},proto.WLCGV2.OneInputOPData.SensorData.prototype.setVector3=function(e){return r.Message.setWrapperField(this,4,e)},proto.WLCGV2.OneInputOPData.SensorData.prototype.clearVector3=function(){return this.setVector3(void 0)},proto.WLCGV2.OneInputOPData.SensorData.prototype.hasVector3=function(){return null!=r.Message.getField(this,4)},proto.WLCGV2.OneInputOPData.SensorData.prototype.getQuatertion=function(){return r.Message.getWrapperField(this,proto.WLCGV2.OneInputOPData.TrackingQuat,5)},proto.WLCGV2.OneInputOPData.SensorData.prototype.setQuatertion=function(e){return r.Message.setWrapperField(this,5,e)},proto.WLCGV2.OneInputOPData.SensorData.prototype.clearQuatertion=function(){return this.setQuatertion(void 0)},proto.WLCGV2.OneInputOPData.SensorData.prototype.hasQuatertion=function(){return null!=r.Message.getField(this,5)},proto.WLCGV2.OneInputOPData.SensorData.prototype.getRotation=function(){return r.Message.getFieldWithDefault(this,6,0)},proto.WLCGV2.OneInputOPData.SensorData.prototype.setRotation=function(e){return r.Message.setField(this,6,e)},proto.WLCGV2.OneInputOPData.SensorData.prototype.clearRotation=function(){return r.Message.setField(this,6,void 0)},proto.WLCGV2.OneInputOPData.SensorData.prototype.hasRotation=function(){return null!=r.Message.getField(this,6)},r.Message.GENERATE_TO_OBJECT&&(proto.WLCGV2.OneInputOPData.VRController.prototype.toObject=function(e){return proto.WLCGV2.OneInputOPData.VRController.toObject(e,this)},proto.WLCGV2.OneInputOPData.VRController.toObject=function(e,t){var n={buttons:r.Message.getFieldWithDefault(t,1,0),triggervalue:r.Message.getFloatingPointFieldWithDefault(t,2,0),gripvalue:r.Message.getFloatingPointFieldWithDefault(t,3,0),batterypercentremaining:r.Message.getFieldWithDefault(t,6,0),trackpadposition:(n=t.getTrackpadposition())&&proto.WLCGV2.OneInputOPData.TrackPadPosition.toObject(e,n),orientation:(n=t.getOrientation())&&proto.WLCGV2.OneInputOPData.TrackingQuat.toObject(e,n),position:(n=t.getPosition())&&proto.WLCGV2.OneInputOPData.TrackingVector3.toObject(e,n),angularvelocity:(n=t.getAngularvelocity())&&proto.WLCGV2.OneInputOPData.TrackingVector3.toObject(e,n),linearvelocity:(n=t.getLinearvelocity())&&proto.WLCGV2.OneInputOPData.TrackingVector3.toObject(e,n),enable:r.Message.getBooleanFieldWithDefault(t,16,!1)};return e&&(n.$jspbMessageInstance=t),n}),proto.WLCGV2.OneInputOPData.VRController.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.WLCGV2.OneInputOPData.VRController;return proto.WLCGV2.OneInputOPData.VRController.deserializeBinaryFromReader(t,e)},proto.WLCGV2.OneInputOPData.VRController.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readInt32();e.setButtons(n);break;case 2:n=t.readFloat(),e.setTriggervalue(n);break;case 3:n=t.readFloat(),e.setGripvalue(n);break;case 6:n=t.readInt32(),e.setBatterypercentremaining(n);break;case 11:n=new proto.WLCGV2.OneInputOPData.TrackPadPosition,t.readMessage(n,proto.WLCGV2.OneInputOPData.TrackPadPosition.deserializeBinaryFromReader),e.setTrackpadposition(n);break;case 12:n=new proto.WLCGV2.OneInputOPData.TrackingQuat,t.readMessage(n,proto.WLCGV2.OneInputOPData.TrackingQuat.deserializeBinaryFromReader),e.setOrientation(n);break;case 13:n=new proto.WLCGV2.OneInputOPData.TrackingVector3,t.readMessage(n,proto.WLCGV2.OneInputOPData.TrackingVector3.deserializeBinaryFromReader),e.setPosition(n);break;case 14:n=new proto.WLCGV2.OneInputOPData.TrackingVector3,t.readMessage(n,proto.WLCGV2.OneInputOPData.TrackingVector3.deserializeBinaryFromReader),e.setAngularvelocity(n);break;case 15:n=new proto.WLCGV2.OneInputOPData.TrackingVector3,t.readMessage(n,proto.WLCGV2.OneInputOPData.TrackingVector3.deserializeBinaryFromReader),e.setLinearvelocity(n);break;case 16:n=t.readBool(),e.setEnable(n);break;default:t.skipField()}return e},proto.WLCGV2.OneInputOPData.VRController.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.WLCGV2.OneInputOPData.VRController.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WLCGV2.OneInputOPData.VRController.serializeBinaryToWriter=function(e,t){var n;null!=(n=r.Message.getField(e,1))&&t.writeInt32(1,n),null!=(n=r.Message.getField(e,2))&&t.writeFloat(2,n),null!=(n=r.Message.getField(e,3))&&t.writeFloat(3,n),null!=(n=r.Message.getField(e,6))&&t.writeInt32(6,n),null!=(n=e.getTrackpadposition())&&t.writeMessage(11,n,proto.WLCGV2.OneInputOPData.TrackPadPosition.serializeBinaryToWriter),null!=(n=e.getOrientation())&&t.writeMessage(12,n,proto.WLCGV2.OneInputOPData.TrackingQuat.serializeBinaryToWriter),null!=(n=e.getPosition())&&t.writeMessage(13,n,proto.WLCGV2.OneInputOPData.TrackingVector3.serializeBinaryToWriter),null!=(n=e.getAngularvelocity())&&t.writeMessage(14,n,proto.WLCGV2.OneInputOPData.TrackingVector3.serializeBinaryToWriter),null!=(n=e.getLinearvelocity())&&t.writeMessage(15,n,proto.WLCGV2.OneInputOPData.TrackingVector3.serializeBinaryToWriter),null!=(n=r.Message.getField(e,16))&&t.writeBool(16,n)},proto.WLCGV2.OneInputOPData.VRController.prototype.getButtons=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.WLCGV2.OneInputOPData.VRController.prototype.setButtons=function(e){return r.Message.setField(this,1,e)},proto.WLCGV2.OneInputOPData.VRController.prototype.clearButtons=function(){return r.Message.setField(this,1,void 0)},proto.WLCGV2.OneInputOPData.VRController.prototype.hasButtons=function(){return null!=r.Message.getField(this,1)},proto.WLCGV2.OneInputOPData.VRController.prototype.getTriggervalue=function(){return r.Message.getFloatingPointFieldWithDefault(this,2,0)},proto.WLCGV2.OneInputOPData.VRController.prototype.setTriggervalue=function(e){return r.Message.setField(this,2,e)},proto.WLCGV2.OneInputOPData.VRController.prototype.clearTriggervalue=function(){return r.Message.setField(this,2,void 0)},proto.WLCGV2.OneInputOPData.VRController.prototype.hasTriggervalue=function(){return null!=r.Message.getField(this,2)},proto.WLCGV2.OneInputOPData.VRController.prototype.getGripvalue=function(){return r.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.WLCGV2.OneInputOPData.VRController.prototype.setGripvalue=function(e){return r.Message.setField(this,3,e)},proto.WLCGV2.OneInputOPData.VRController.prototype.clearGripvalue=function(){return r.Message.setField(this,3,void 0)},proto.WLCGV2.OneInputOPData.VRController.prototype.hasGripvalue=function(){return null!=r.Message.getField(this,3)},proto.WLCGV2.OneInputOPData.VRController.prototype.getBatterypercentremaining=function(){return r.Message.getFieldWithDefault(this,6,0)},proto.WLCGV2.OneInputOPData.VRController.prototype.setBatterypercentremaining=function(e){return r.Message.setField(this,6,e)},proto.WLCGV2.OneInputOPData.VRController.prototype.clearBatterypercentremaining=function(){return r.Message.setField(this,6,void 0)},proto.WLCGV2.OneInputOPData.VRController.prototype.hasBatterypercentremaining=function(){return null!=r.Message.getField(this,6)},proto.WLCGV2.OneInputOPData.VRController.prototype.getTrackpadposition=function(){return r.Message.getWrapperField(this,proto.WLCGV2.OneInputOPData.TrackPadPosition,11)},proto.WLCGV2.OneInputOPData.VRController.prototype.setTrackpadposition=function(e){return r.Message.setWrapperField(this,11,e)},proto.WLCGV2.OneInputOPData.VRController.prototype.clearTrackpadposition=function(){return this.setTrackpadposition(void 0)},proto.WLCGV2.OneInputOPData.VRController.prototype.hasTrackpadposition=function(){return null!=r.Message.getField(this,11)},proto.WLCGV2.OneInputOPData.VRController.prototype.getOrientation=function(){return r.Message.getWrapperField(this,proto.WLCGV2.OneInputOPData.TrackingQuat,12)},proto.WLCGV2.OneInputOPData.VRController.prototype.setOrientation=function(e){return r.Message.setWrapperField(this,12,e)},proto.WLCGV2.OneInputOPData.VRController.prototype.clearOrientation=function(){return this.setOrientation(void 0)},proto.WLCGV2.OneInputOPData.VRController.prototype.hasOrientation=function(){return null!=r.Message.getField(this,12)},proto.WLCGV2.OneInputOPData.VRController.prototype.getPosition=function(){return r.Message.getWrapperField(this,proto.WLCGV2.OneInputOPData.TrackingVector3,13)},proto.WLCGV2.OneInputOPData.VRController.prototype.setPosition=function(e){return r.Message.setWrapperField(this,13,e)},proto.WLCGV2.OneInputOPData.VRController.prototype.clearPosition=function(){return this.setPosition(void 0)},proto.WLCGV2.OneInputOPData.VRController.prototype.hasPosition=function(){return null!=r.Message.getField(this,13)},proto.WLCGV2.OneInputOPData.VRController.prototype.getAngularvelocity=function(){return r.Message.getWrapperField(this,proto.WLCGV2.OneInputOPData.TrackingVector3,14)},proto.WLCGV2.OneInputOPData.VRController.prototype.setAngularvelocity=function(e){return r.Message.setWrapperField(this,14,e)},proto.WLCGV2.OneInputOPData.VRController.prototype.clearAngularvelocity=function(){return this.setAngularvelocity(void 0)},proto.WLCGV2.OneInputOPData.VRController.prototype.hasAngularvelocity=function(){return null!=r.Message.getField(this,14)},proto.WLCGV2.OneInputOPData.VRController.prototype.getLinearvelocity=function(){return r.Message.getWrapperField(this,proto.WLCGV2.OneInputOPData.TrackingVector3,15)},proto.WLCGV2.OneInputOPData.VRController.prototype.setLinearvelocity=function(e){return r.Message.setWrapperField(this,15,e)},proto.WLCGV2.OneInputOPData.VRController.prototype.clearLinearvelocity=function(){return this.setLinearvelocity(void 0)},proto.WLCGV2.OneInputOPData.VRController.prototype.hasLinearvelocity=function(){return null!=r.Message.getField(this,15)},proto.WLCGV2.OneInputOPData.VRController.prototype.getEnable=function(){return r.Message.getBooleanFieldWithDefault(this,16,!1)},proto.WLCGV2.OneInputOPData.VRController.prototype.setEnable=function(e){return r.Message.setField(this,16,e)},proto.WLCGV2.OneInputOPData.VRController.prototype.clearEnable=function(){return r.Message.setField(this,16,void 0)},proto.WLCGV2.OneInputOPData.VRController.prototype.hasEnable=function(){return null!=r.Message.getField(this,16)},r.Message.GENERATE_TO_OBJECT&&(proto.WLCGV2.OneInputOPData.VRHMD.prototype.toObject=function(e){return proto.WLCGV2.OneInputOPData.VRHMD.toObject(e,this)},proto.WLCGV2.OneInputOPData.VRHMD.toObject=function(e,t){var n={headposePoseOrientation:(n=t.getHeadposePoseOrientation())&&proto.WLCGV2.OneInputOPData.TrackingQuat.toObject(e,n),headposePosePosition:(n=t.getHeadposePosePosition())&&proto.WLCGV2.OneInputOPData.TrackingVector3.toObject(e,n),ipd:r.Message.getFloatingPointFieldWithDefault(t,3,0),enable:r.Message.getBooleanFieldWithDefault(t,4,!1)};return e&&(n.$jspbMessageInstance=t),n}),proto.WLCGV2.OneInputOPData.VRHMD.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.WLCGV2.OneInputOPData.VRHMD;return proto.WLCGV2.OneInputOPData.VRHMD.deserializeBinaryFromReader(t,e)},proto.WLCGV2.OneInputOPData.VRHMD.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=new proto.WLCGV2.OneInputOPData.TrackingQuat;t.readMessage(n,proto.WLCGV2.OneInputOPData.TrackingQuat.deserializeBinaryFromReader),e.setHeadposePoseOrientation(n);break;case 2:n=new proto.WLCGV2.OneInputOPData.TrackingVector3,t.readMessage(n,proto.WLCGV2.OneInputOPData.TrackingVector3.deserializeBinaryFromReader),e.setHeadposePosePosition(n);break;case 3:n=t.readFloat(),e.setIpd(n);break;case 4:n=t.readBool(),e.setEnable(n);break;default:t.skipField()}return e},proto.WLCGV2.OneInputOPData.VRHMD.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.WLCGV2.OneInputOPData.VRHMD.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WLCGV2.OneInputOPData.VRHMD.serializeBinaryToWriter=function(e,t){var n;null!=(n=e.getHeadposePoseOrientation())&&t.writeMessage(1,n,proto.WLCGV2.OneInputOPData.TrackingQuat.serializeBinaryToWriter),null!=(n=e.getHeadposePosePosition())&&t.writeMessage(2,n,proto.WLCGV2.OneInputOPData.TrackingVector3.serializeBinaryToWriter),null!=(n=r.Message.getField(e,3))&&t.writeFloat(3,n),null!=(n=r.Message.getField(e,4))&&t.writeBool(4,n)},proto.WLCGV2.OneInputOPData.VRHMD.prototype.getHeadposePoseOrientation=function(){return r.Message.getWrapperField(this,proto.WLCGV2.OneInputOPData.TrackingQuat,1)},proto.WLCGV2.OneInputOPData.VRHMD.prototype.setHeadposePoseOrientation=function(e){return r.Message.setWrapperField(this,1,e)},proto.WLCGV2.OneInputOPData.VRHMD.prototype.clearHeadposePoseOrientation=function(){return this.setHeadposePoseOrientation(void 0)},proto.WLCGV2.OneInputOPData.VRHMD.prototype.hasHeadposePoseOrientation=function(){return null!=r.Message.getField(this,1)},proto.WLCGV2.OneInputOPData.VRHMD.prototype.getHeadposePosePosition=function(){return r.Message.getWrapperField(this,proto.WLCGV2.OneInputOPData.TrackingVector3,2)},proto.WLCGV2.OneInputOPData.VRHMD.prototype.setHeadposePosePosition=function(e){return r.Message.setWrapperField(this,2,e)},proto.WLCGV2.OneInputOPData.VRHMD.prototype.clearHeadposePosePosition=function(){return this.setHeadposePosePosition(void 0)},proto.WLCGV2.OneInputOPData.VRHMD.prototype.hasHeadposePosePosition=function(){return null!=r.Message.getField(this,2)},proto.WLCGV2.OneInputOPData.VRHMD.prototype.getIpd=function(){return r.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.WLCGV2.OneInputOPData.VRHMD.prototype.setIpd=function(e){return r.Message.setField(this,3,e)},proto.WLCGV2.OneInputOPData.VRHMD.prototype.clearIpd=function(){return r.Message.setField(this,3,void 0)},proto.WLCGV2.OneInputOPData.VRHMD.prototype.hasIpd=function(){return null!=r.Message.getField(this,3)},proto.WLCGV2.OneInputOPData.VRHMD.prototype.getEnable=function(){return r.Message.getBooleanFieldWithDefault(this,4,!1)},proto.WLCGV2.OneInputOPData.VRHMD.prototype.setEnable=function(e){return r.Message.setField(this,4,e)},proto.WLCGV2.OneInputOPData.VRHMD.prototype.clearEnable=function(){return r.Message.setField(this,4,void 0)},proto.WLCGV2.OneInputOPData.VRHMD.prototype.hasEnable=function(){return null!=r.Message.getField(this,4)},proto.WLCGV2.OneInputOPData.VRInputData.repeatedFields_=[2],r.Message.GENERATE_TO_OBJECT&&(proto.WLCGV2.OneInputOPData.VRInputData.prototype.toObject=function(e){return proto.WLCGV2.OneInputOPData.VRInputData.toObject(e,this)},proto.WLCGV2.OneInputOPData.VRInputData.toObject=function(e,t){var n={hmddata:(n=t.getHmddata())&&proto.WLCGV2.OneInputOPData.VRHMD.toObject(e,n),controllerdataList:r.Message.toObjectList(t.getControllerdataList(),proto.WLCGV2.OneInputOPData.VRController.toObject,e),devicetype:r.Message.getFieldWithDefault(t,3,0)};return e&&(n.$jspbMessageInstance=t),n}),proto.WLCGV2.OneInputOPData.VRInputData.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.WLCGV2.OneInputOPData.VRInputData;return proto.WLCGV2.OneInputOPData.VRInputData.deserializeBinaryFromReader(t,e)},proto.WLCGV2.OneInputOPData.VRInputData.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=new proto.WLCGV2.OneInputOPData.VRHMD;t.readMessage(n,proto.WLCGV2.OneInputOPData.VRHMD.deserializeBinaryFromReader),e.setHmddata(n);break;case 2:n=new proto.WLCGV2.OneInputOPData.VRController,t.readMessage(n,proto.WLCGV2.OneInputOPData.VRController.deserializeBinaryFromReader),e.addControllerdata(n);break;case 3:n=t.readEnum(),e.setDevicetype(n);break;default:t.skipField()}return e},proto.WLCGV2.OneInputOPData.VRInputData.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.WLCGV2.OneInputOPData.VRInputData.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WLCGV2.OneInputOPData.VRInputData.serializeBinaryToWriter=function(e,t){var n;null!=(n=e.getHmddata())&&t.writeMessage(1,n,proto.WLCGV2.OneInputOPData.VRHMD.serializeBinaryToWriter),0<(n=e.getControllerdataList()).length&&t.writeRepeatedMessage(2,n,proto.WLCGV2.OneInputOPData.VRController.serializeBinaryToWriter),null!=(n=r.Message.getField(e,3))&&t.writeEnum(3,n)},proto.WLCGV2.OneInputOPData.VRInputData.prototype.getHmddata=function(){return r.Message.getWrapperField(this,proto.WLCGV2.OneInputOPData.VRHMD,1)},proto.WLCGV2.OneInputOPData.VRInputData.prototype.setHmddata=function(e){return r.Message.setWrapperField(this,1,e)},proto.WLCGV2.OneInputOPData.VRInputData.prototype.clearHmddata=function(){return this.setHmddata(void 0)},proto.WLCGV2.OneInputOPData.VRInputData.prototype.hasHmddata=function(){return null!=r.Message.getField(this,1)},proto.WLCGV2.OneInputOPData.VRInputData.prototype.getControllerdataList=function(){return r.Message.getRepeatedWrapperField(this,proto.WLCGV2.OneInputOPData.VRController,2)},proto.WLCGV2.OneInputOPData.VRInputData.prototype.setControllerdataList=function(e){return r.Message.setRepeatedWrapperField(this,2,e)},proto.WLCGV2.OneInputOPData.VRInputData.prototype.addControllerdata=function(e,t){return r.Message.addToRepeatedWrapperField(this,2,e,proto.WLCGV2.OneInputOPData.VRController,t)},proto.WLCGV2.OneInputOPData.VRInputData.prototype.clearControllerdataList=function(){return this.setControllerdataList([])},proto.WLCGV2.OneInputOPData.VRInputData.prototype.getDevicetype=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.WLCGV2.OneInputOPData.VRInputData.prototype.setDevicetype=function(e){return r.Message.setField(this,3,e)},proto.WLCGV2.OneInputOPData.VRInputData.prototype.clearDevicetype=function(){return r.Message.setField(this,3,void 0)},proto.WLCGV2.OneInputOPData.VRInputData.prototype.hasDevicetype=function(){return null!=r.Message.getField(this,3)},proto.WLCGV2.OneInputOPData.GamePadTouchPad.repeatedFields_=[2],r.Message.GENERATE_TO_OBJECT&&(proto.WLCGV2.OneInputOPData.GamePadTouchPad.prototype.toObject=function(e){return proto.WLCGV2.OneInputOPData.GamePadTouchPad.toObject(e,this)},proto.WLCGV2.OneInputOPData.GamePadTouchPad.toObject=function(e,t){var n={userindex:r.Message.getFieldWithDefault(t,1,0),touchpointpadList:r.Message.toObjectList(t.getTouchpointpadList(),proto.WLCGV2.OneInputOPData.TouchPoint.toObject,e)};return e&&(n.$jspbMessageInstance=t),n}),proto.WLCGV2.OneInputOPData.GamePadTouchPad.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.WLCGV2.OneInputOPData.GamePadTouchPad;return proto.WLCGV2.OneInputOPData.GamePadTouchPad.deserializeBinaryFromReader(t,e)},proto.WLCGV2.OneInputOPData.GamePadTouchPad.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readInt32();e.setUserindex(n);break;case 2:n=new proto.WLCGV2.OneInputOPData.TouchPoint,t.readMessage(n,proto.WLCGV2.OneInputOPData.TouchPoint.deserializeBinaryFromReader),e.addTouchpointpad(n);break;default:t.skipField()}return e},proto.WLCGV2.OneInputOPData.GamePadTouchPad.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.WLCGV2.OneInputOPData.GamePadTouchPad.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WLCGV2.OneInputOPData.GamePadTouchPad.serializeBinaryToWriter=function(e,t){var n;null!=(n=r.Message.getField(e,1))&&t.writeInt32(1,n),0<(n=e.getTouchpointpadList()).length&&t.writeRepeatedMessage(2,n,proto.WLCGV2.OneInputOPData.TouchPoint.serializeBinaryToWriter)},proto.WLCGV2.OneInputOPData.GamePadTouchPad.prototype.getUserindex=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.WLCGV2.OneInputOPData.GamePadTouchPad.prototype.setUserindex=function(e){return r.Message.setField(this,1,e)},proto.WLCGV2.OneInputOPData.GamePadTouchPad.prototype.clearUserindex=function(){return r.Message.setField(this,1,void 0)},proto.WLCGV2.OneInputOPData.GamePadTouchPad.prototype.hasUserindex=function(){return null!=r.Message.getField(this,1)},proto.WLCGV2.OneInputOPData.GamePadTouchPad.prototype.getTouchpointpadList=function(){return r.Message.getRepeatedWrapperField(this,proto.WLCGV2.OneInputOPData.TouchPoint,2)},proto.WLCGV2.OneInputOPData.GamePadTouchPad.prototype.setTouchpointpadList=function(e){return r.Message.setRepeatedWrapperField(this,2,e)},proto.WLCGV2.OneInputOPData.GamePadTouchPad.prototype.addTouchpointpad=function(e,t){return r.Message.addToRepeatedWrapperField(this,2,e,proto.WLCGV2.OneInputOPData.TouchPoint,t)},proto.WLCGV2.OneInputOPData.GamePadTouchPad.prototype.clearTouchpointpadList=function(){return this.setTouchpointpadList([])},r.Message.GENERATE_TO_OBJECT&&(proto.WLCGV2.OneInputOPData.Connect.prototype.toObject=function(e){return proto.WLCGV2.OneInputOPData.Connect.toObject(e,this)},proto.WLCGV2.OneInputOPData.Connect.toObject=function(e,t){var n={connectstate:r.Message.getBooleanFieldWithDefault(t,1,!1),userindex:r.Message.getFieldWithDefault(t,2,0),padtype:r.Message.getFieldWithDefault(t,3,0)};return e&&(n.$jspbMessageInstance=t),n}),proto.WLCGV2.OneInputOPData.Connect.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.WLCGV2.OneInputOPData.Connect;return proto.WLCGV2.OneInputOPData.Connect.deserializeBinaryFromReader(t,e)},proto.WLCGV2.OneInputOPData.Connect.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readBool();e.setConnectstate(n);break;case 2:n=t.readInt32(),e.setUserindex(n);break;case 3:n=t.readInt32(),e.setPadtype(n);break;default:t.skipField()}return e},proto.WLCGV2.OneInputOPData.Connect.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.WLCGV2.OneInputOPData.Connect.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WLCGV2.OneInputOPData.Connect.serializeBinaryToWriter=function(e,t){var n;null!=(n=r.Message.getField(e,1))&&t.writeBool(1,n),null!=(n=r.Message.getField(e,2))&&t.writeInt32(2,n),null!=(n=r.Message.getField(e,3))&&t.writeInt32(3,n)},proto.WLCGV2.OneInputOPData.Connect.prototype.getConnectstate=function(){return r.Message.getBooleanFieldWithDefault(this,1,!1)},proto.WLCGV2.OneInputOPData.Connect.prototype.setConnectstate=function(e){return r.Message.setField(this,1,e)},proto.WLCGV2.OneInputOPData.Connect.prototype.clearConnectstate=function(){return r.Message.setField(this,1,void 0)},proto.WLCGV2.OneInputOPData.Connect.prototype.hasConnectstate=function(){return null!=r.Message.getField(this,1)},proto.WLCGV2.OneInputOPData.Connect.prototype.getUserindex=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.WLCGV2.OneInputOPData.Connect.prototype.setUserindex=function(e){return r.Message.setField(this,2,e)},proto.WLCGV2.OneInputOPData.Connect.prototype.clearUserindex=function(){return r.Message.setField(this,2,void 0)},proto.WLCGV2.OneInputOPData.Connect.prototype.hasUserindex=function(){return null!=r.Message.getField(this,2)},proto.WLCGV2.OneInputOPData.Connect.prototype.getPadtype=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.WLCGV2.OneInputOPData.Connect.prototype.setPadtype=function(e){return r.Message.setField(this,3,e)},proto.WLCGV2.OneInputOPData.Connect.prototype.clearPadtype=function(){return r.Message.setField(this,3,void 0)},proto.WLCGV2.OneInputOPData.Connect.prototype.hasPadtype=function(){return null!=r.Message.getField(this,3)},r.Message.GENERATE_TO_OBJECT&&(proto.WLCGV2.OneInputOPData.DualShock4.prototype.toObject=function(e){return proto.WLCGV2.OneInputOPData.DualShock4.toObject(e,this)},proto.WLCGV2.OneInputOPData.DualShock4.toObject=function(e,t){var n={padbuttons:r.Message.getFieldWithDefault(t,1,0),cusbuttons:r.Message.getFieldWithDefault(t,2,0),expbuttons:r.Message.getFieldWithDefault(t,3,0),sthumblx:r.Message.getFieldWithDefault(t,4,0),sthumbly:r.Message.getFieldWithDefault(t,5,0),sthumbrx:r.Message.getFieldWithDefault(t,6,0),sthumbry:r.Message.getFieldWithDefault(t,7,0),blefttrigger:r.Message.getFieldWithDefault(t,8,0),brighttrigger:r.Message.getFieldWithDefault(t,9,0),userindex:r.Message.getFieldWithDefault(t,10,0),serialindex:r.Message.getFieldWithDefault(t,11,0),touchpadpointps4:(n=t.getTouchpadpointps4())&&proto.WLCGV2.OneInputOPData.GamePadTouchPad.toObject(e,n)};return e&&(n.$jspbMessageInstance=t),n}),proto.WLCGV2.OneInputOPData.DualShock4.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.WLCGV2.OneInputOPData.DualShock4;return proto.WLCGV2.OneInputOPData.DualShock4.deserializeBinaryFromReader(t,e)},proto.WLCGV2.OneInputOPData.DualShock4.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readInt32();e.setPadbuttons(n);break;case 2:n=t.readInt32(),e.setCusbuttons(n);break;case 3:n=t.readInt32(),e.setExpbuttons(n);break;case 4:n=t.readInt32(),e.setSthumblx(n);break;case 5:n=t.readInt32(),e.setSthumbly(n);break;case 6:n=t.readInt32(),e.setSthumbrx(n);break;case 7:n=t.readInt32(),e.setSthumbry(n);break;case 8:n=t.readInt32(),e.setBlefttrigger(n);break;case 9:n=t.readInt32(),e.setBrighttrigger(n);break;case 10:n=t.readInt32(),e.setUserindex(n);break;case 11:n=t.readInt32(),e.setSerialindex(n);break;case 12:n=new proto.WLCGV2.OneInputOPData.GamePadTouchPad,t.readMessage(n,proto.WLCGV2.OneInputOPData.GamePadTouchPad.deserializeBinaryFromReader),e.setTouchpadpointps4(n);break;default:t.skipField()}return e},proto.WLCGV2.OneInputOPData.DualShock4.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.WLCGV2.OneInputOPData.DualShock4.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WLCGV2.OneInputOPData.DualShock4.serializeBinaryToWriter=function(e,t){var n;null!=(n=r.Message.getField(e,1))&&t.writeInt32(1,n),null!=(n=r.Message.getField(e,2))&&t.writeInt32(2,n),null!=(n=r.Message.getField(e,3))&&t.writeInt32(3,n),null!=(n=r.Message.getField(e,4))&&t.writeInt32(4,n),null!=(n=r.Message.getField(e,5))&&t.writeInt32(5,n),null!=(n=r.Message.getField(e,6))&&t.writeInt32(6,n),null!=(n=r.Message.getField(e,7))&&t.writeInt32(7,n),null!=(n=r.Message.getField(e,8))&&t.writeInt32(8,n),null!=(n=r.Message.getField(e,9))&&t.writeInt32(9,n),null!=(n=r.Message.getField(e,10))&&t.writeInt32(10,n),null!=(n=r.Message.getField(e,11))&&t.writeInt32(11,n),null!=(n=e.getTouchpadpointps4())&&t.writeMessage(12,n,proto.WLCGV2.OneInputOPData.GamePadTouchPad.serializeBinaryToWriter)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.getPadbuttons=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.setPadbuttons=function(e){return r.Message.setField(this,1,e)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.clearPadbuttons=function(){return r.Message.setField(this,1,void 0)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.hasPadbuttons=function(){return null!=r.Message.getField(this,1)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.getCusbuttons=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.setCusbuttons=function(e){return r.Message.setField(this,2,e)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.clearCusbuttons=function(){return r.Message.setField(this,2,void 0)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.hasCusbuttons=function(){return null!=r.Message.getField(this,2)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.getExpbuttons=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.setExpbuttons=function(e){return r.Message.setField(this,3,e)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.clearExpbuttons=function(){return r.Message.setField(this,3,void 0)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.hasExpbuttons=function(){return null!=r.Message.getField(this,3)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.getSthumblx=function(){return r.Message.getFieldWithDefault(this,4,0)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.setSthumblx=function(e){return r.Message.setField(this,4,e)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.clearSthumblx=function(){return r.Message.setField(this,4,void 0)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.hasSthumblx=function(){return null!=r.Message.getField(this,4)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.getSthumbly=function(){return r.Message.getFieldWithDefault(this,5,0)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.setSthumbly=function(e){return r.Message.setField(this,5,e)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.clearSthumbly=function(){return r.Message.setField(this,5,void 0)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.hasSthumbly=function(){return null!=r.Message.getField(this,5)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.getSthumbrx=function(){return r.Message.getFieldWithDefault(this,6,0)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.setSthumbrx=function(e){return r.Message.setField(this,6,e)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.clearSthumbrx=function(){return r.Message.setField(this,6,void 0)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.hasSthumbrx=function(){return null!=r.Message.getField(this,6)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.getSthumbry=function(){return r.Message.getFieldWithDefault(this,7,0)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.setSthumbry=function(e){return r.Message.setField(this,7,e)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.clearSthumbry=function(){return r.Message.setField(this,7,void 0)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.hasSthumbry=function(){return null!=r.Message.getField(this,7)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.getBlefttrigger=function(){return r.Message.getFieldWithDefault(this,8,0)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.setBlefttrigger=function(e){return r.Message.setField(this,8,e)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.clearBlefttrigger=function(){return r.Message.setField(this,8,void 0)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.hasBlefttrigger=function(){return null!=r.Message.getField(this,8)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.getBrighttrigger=function(){return r.Message.getFieldWithDefault(this,9,0)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.setBrighttrigger=function(e){return r.Message.setField(this,9,e)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.clearBrighttrigger=function(){return r.Message.setField(this,9,void 0)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.hasBrighttrigger=function(){return null!=r.Message.getField(this,9)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.getUserindex=function(){return r.Message.getFieldWithDefault(this,10,0)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.setUserindex=function(e){return r.Message.setField(this,10,e)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.clearUserindex=function(){return r.Message.setField(this,10,void 0)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.hasUserindex=function(){return null!=r.Message.getField(this,10)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.getSerialindex=function(){return r.Message.getFieldWithDefault(this,11,0)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.setSerialindex=function(e){return r.Message.setField(this,11,e)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.clearSerialindex=function(){return r.Message.setField(this,11,void 0)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.hasSerialindex=function(){return null!=r.Message.getField(this,11)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.getTouchpadpointps4=function(){return r.Message.getWrapperField(this,proto.WLCGV2.OneInputOPData.GamePadTouchPad,12)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.setTouchpadpointps4=function(e){return r.Message.setWrapperField(this,12,e)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.clearTouchpadpointps4=function(){return this.setTouchpadpointps4(void 0)},proto.WLCGV2.OneInputOPData.DualShock4.prototype.hasTouchpadpointps4=function(){return null!=r.Message.getField(this,12)},r.Message.GENERATE_TO_OBJECT&&(proto.WLCGV2.OneInputOPData.battery.prototype.toObject=function(e){return proto.WLCGV2.OneInputOPData.battery.toObject(e,this)},proto.WLCGV2.OneInputOPData.battery.toObject=function(e,t){var n={ischarging:r.Message.getBooleanFieldWithDefault(t,1,!1),fullycharged:r.Message.getBooleanFieldWithDefault(t,2,!1),level:r.Message.getBooleanFieldWithDefault(t,3,!1)};return e&&(n.$jspbMessageInstance=t),n}),proto.WLCGV2.OneInputOPData.battery.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.WLCGV2.OneInputOPData.battery;return proto.WLCGV2.OneInputOPData.battery.deserializeBinaryFromReader(t,e)},proto.WLCGV2.OneInputOPData.battery.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readBool();e.setIscharging(n);break;case 2:n=t.readBool(),e.setFullycharged(n);break;case 3:n=t.readBool(),e.setLevel(n);break;default:t.skipField()}return e},proto.WLCGV2.OneInputOPData.battery.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.WLCGV2.OneInputOPData.battery.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WLCGV2.OneInputOPData.battery.serializeBinaryToWriter=function(e,t){var n;null!=(n=r.Message.getField(e,1))&&t.writeBool(1,n),null!=(n=r.Message.getField(e,2))&&t.writeBool(2,n),null!=(n=r.Message.getField(e,3))&&t.writeBool(3,n)},proto.WLCGV2.OneInputOPData.battery.prototype.getIscharging=function(){return r.Message.getBooleanFieldWithDefault(this,1,!1)},proto.WLCGV2.OneInputOPData.battery.prototype.setIscharging=function(e){return r.Message.setField(this,1,e)},proto.WLCGV2.OneInputOPData.battery.prototype.clearIscharging=function(){return r.Message.setField(this,1,void 0)},proto.WLCGV2.OneInputOPData.battery.prototype.hasIscharging=function(){return null!=r.Message.getField(this,1)},proto.WLCGV2.OneInputOPData.battery.prototype.getFullycharged=function(){return r.Message.getBooleanFieldWithDefault(this,2,!1)},proto.WLCGV2.OneInputOPData.battery.prototype.setFullycharged=function(e){return r.Message.setField(this,2,e)},proto.WLCGV2.OneInputOPData.battery.prototype.clearFullycharged=function(){return r.Message.setField(this,2,void 0)},proto.WLCGV2.OneInputOPData.battery.prototype.hasFullycharged=function(){return null!=r.Message.getField(this,2)},proto.WLCGV2.OneInputOPData.battery.prototype.getLevel=function(){return r.Message.getBooleanFieldWithDefault(this,3,!1)},proto.WLCGV2.OneInputOPData.battery.prototype.setLevel=function(e){return r.Message.setField(this,3,e)},proto.WLCGV2.OneInputOPData.battery.prototype.clearLevel=function(){return r.Message.setField(this,3,void 0)},proto.WLCGV2.OneInputOPData.battery.prototype.hasLevel=function(){return null!=r.Message.getField(this,3)},r.Message.GENERATE_TO_OBJECT&&(proto.WLCGV2.OneInputOPData.DualSense5.prototype.toObject=function(e){return proto.WLCGV2.OneInputOPData.DualSense5.toObject(e,this)},proto.WLCGV2.OneInputOPData.DualSense5.toObject=function(e,t){var n={headphoneconnected:r.Message.getBooleanFieldWithDefault(t,1,!1),wbuttons1:r.Message.getFieldWithDefault(t,2,0),wbuttons2:r.Message.getFieldWithDefault(t,3,0),wbuttons3:r.Message.getFieldWithDefault(t,4,0),blefttrigger:r.Message.getFieldWithDefault(t,5,0),brighttrigger:r.Message.getFieldWithDefault(t,6,0),blefttriggerfeedback:r.Message.getFieldWithDefault(t,7,0),brighttriggerfeedback:r.Message.getFieldWithDefault(t,8,0),sthumblx:r.Message.getFieldWithDefault(t,9,0),sthumbly:r.Message.getFieldWithDefault(t,10,0),sthumbrx:r.Message.getFieldWithDefault(t,11,0),sthumbry:r.Message.getFieldWithDefault(t,12,0),vector3:(n=t.getVector3())&&proto.WLCGV2.OneInputOPData.TrackingVector3.toObject(e,n),accelerometer:(n=t.getAccelerometer())&&proto.WLCGV2.OneInputOPData.TrackingVector3.toObject(e,n),userindex:r.Message.getFieldWithDefault(t,15,0),serialindex:r.Message.getFieldWithDefault(t,16,0),touchpadpointps5:(n=t.getTouchpadpointps5())&&proto.WLCGV2.OneInputOPData.GamePadTouchPad.toObject(e,n)};return e&&(n.$jspbMessageInstance=t),n}),proto.WLCGV2.OneInputOPData.DualSense5.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.WLCGV2.OneInputOPData.DualSense5;return proto.WLCGV2.OneInputOPData.DualSense5.deserializeBinaryFromReader(t,e)},proto.WLCGV2.OneInputOPData.DualSense5.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readBool();e.setHeadphoneconnected(n);break;case 2:n=t.readInt32(),e.setWbuttons1(n);break;case 3:n=t.readInt32(),e.setWbuttons2(n);break;case 4:n=t.readInt32(),e.setWbuttons3(n);break;case 5:n=t.readInt32(),e.setBlefttrigger(n);break;case 6:n=t.readInt32(),e.setBrighttrigger(n);break;case 7:n=t.readInt32(),e.setBlefttriggerfeedback(n);break;case 8:n=t.readInt32(),e.setBrighttriggerfeedback(n);break;case 9:n=t.readInt32(),e.setSthumblx(n);break;case 10:n=t.readInt32(),e.setSthumbly(n);break;case 11:n=t.readInt32(),e.setSthumbrx(n);break;case 12:n=t.readInt32(),e.setSthumbry(n);break;case 13:n=new proto.WLCGV2.OneInputOPData.TrackingVector3,t.readMessage(n,proto.WLCGV2.OneInputOPData.TrackingVector3.deserializeBinaryFromReader),e.setVector3(n);break;case 14:n=new proto.WLCGV2.OneInputOPData.TrackingVector3,t.readMessage(n,proto.WLCGV2.OneInputOPData.TrackingVector3.deserializeBinaryFromReader),e.setAccelerometer(n);break;case 15:n=t.readInt32(),e.setUserindex(n);break;case 16:n=t.readInt32(),e.setSerialindex(n);break;case 17:n=new proto.WLCGV2.OneInputOPData.GamePadTouchPad,t.readMessage(n,proto.WLCGV2.OneInputOPData.GamePadTouchPad.deserializeBinaryFromReader),e.setTouchpadpointps5(n);break;default:t.skipField()}return e},proto.WLCGV2.OneInputOPData.DualSense5.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.WLCGV2.OneInputOPData.DualSense5.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WLCGV2.OneInputOPData.DualSense5.serializeBinaryToWriter=function(e,t){var n;null!=(n=r.Message.getField(e,1))&&t.writeBool(1,n),null!=(n=r.Message.getField(e,2))&&t.writeInt32(2,n),null!=(n=r.Message.getField(e,3))&&t.writeInt32(3,n),null!=(n=r.Message.getField(e,4))&&t.writeInt32(4,n),null!=(n=r.Message.getField(e,5))&&t.writeInt32(5,n),null!=(n=r.Message.getField(e,6))&&t.writeInt32(6,n),null!=(n=r.Message.getField(e,7))&&t.writeInt32(7,n),null!=(n=r.Message.getField(e,8))&&t.writeInt32(8,n),null!=(n=r.Message.getField(e,9))&&t.writeInt32(9,n),null!=(n=r.Message.getField(e,10))&&t.writeInt32(10,n),null!=(n=r.Message.getField(e,11))&&t.writeInt32(11,n),null!=(n=r.Message.getField(e,12))&&t.writeInt32(12,n),null!=(n=e.getVector3())&&t.writeMessage(13,n,proto.WLCGV2.OneInputOPData.TrackingVector3.serializeBinaryToWriter),null!=(n=e.getAccelerometer())&&t.writeMessage(14,n,proto.WLCGV2.OneInputOPData.TrackingVector3.serializeBinaryToWriter),null!=(n=r.Message.getField(e,15))&&t.writeInt32(15,n),null!=(n=r.Message.getField(e,16))&&t.writeInt32(16,n),null!=(n=e.getTouchpadpointps5())&&t.writeMessage(17,n,proto.WLCGV2.OneInputOPData.GamePadTouchPad.serializeBinaryToWriter)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.getHeadphoneconnected=function(){return r.Message.getBooleanFieldWithDefault(this,1,!1)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.setHeadphoneconnected=function(e){return r.Message.setField(this,1,e)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.clearHeadphoneconnected=function(){return r.Message.setField(this,1,void 0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.hasHeadphoneconnected=function(){return null!=r.Message.getField(this,1)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.getWbuttons1=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.setWbuttons1=function(e){return r.Message.setField(this,2,e)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.clearWbuttons1=function(){return r.Message.setField(this,2,void 0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.hasWbuttons1=function(){return null!=r.Message.getField(this,2)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.getWbuttons2=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.setWbuttons2=function(e){return r.Message.setField(this,3,e)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.clearWbuttons2=function(){return r.Message.setField(this,3,void 0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.hasWbuttons2=function(){return null!=r.Message.getField(this,3)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.getWbuttons3=function(){return r.Message.getFieldWithDefault(this,4,0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.setWbuttons3=function(e){return r.Message.setField(this,4,e)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.clearWbuttons3=function(){return r.Message.setField(this,4,void 0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.hasWbuttons3=function(){return null!=r.Message.getField(this,4)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.getBlefttrigger=function(){return r.Message.getFieldWithDefault(this,5,0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.setBlefttrigger=function(e){return r.Message.setField(this,5,e)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.clearBlefttrigger=function(){return r.Message.setField(this,5,void 0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.hasBlefttrigger=function(){return null!=r.Message.getField(this,5)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.getBrighttrigger=function(){return r.Message.getFieldWithDefault(this,6,0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.setBrighttrigger=function(e){return r.Message.setField(this,6,e)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.clearBrighttrigger=function(){return r.Message.setField(this,6,void 0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.hasBrighttrigger=function(){return null!=r.Message.getField(this,6)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.getBlefttriggerfeedback=function(){return r.Message.getFieldWithDefault(this,7,0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.setBlefttriggerfeedback=function(e){return r.Message.setField(this,7,e)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.clearBlefttriggerfeedback=function(){return r.Message.setField(this,7,void 0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.hasBlefttriggerfeedback=function(){return null!=r.Message.getField(this,7)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.getBrighttriggerfeedback=function(){return r.Message.getFieldWithDefault(this,8,0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.setBrighttriggerfeedback=function(e){return r.Message.setField(this,8,e)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.clearBrighttriggerfeedback=function(){return r.Message.setField(this,8,void 0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.hasBrighttriggerfeedback=function(){return null!=r.Message.getField(this,8)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.getSthumblx=function(){return r.Message.getFieldWithDefault(this,9,0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.setSthumblx=function(e){return r.Message.setField(this,9,e)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.clearSthumblx=function(){return r.Message.setField(this,9,void 0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.hasSthumblx=function(){return null!=r.Message.getField(this,9)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.getSthumbly=function(){return r.Message.getFieldWithDefault(this,10,0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.setSthumbly=function(e){return r.Message.setField(this,10,e)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.clearSthumbly=function(){return r.Message.setField(this,10,void 0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.hasSthumbly=function(){return null!=r.Message.getField(this,10)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.getSthumbrx=function(){return r.Message.getFieldWithDefault(this,11,0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.setSthumbrx=function(e){return r.Message.setField(this,11,e)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.clearSthumbrx=function(){return r.Message.setField(this,11,void 0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.hasSthumbrx=function(){return null!=r.Message.getField(this,11)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.getSthumbry=function(){return r.Message.getFieldWithDefault(this,12,0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.setSthumbry=function(e){return r.Message.setField(this,12,e)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.clearSthumbry=function(){return r.Message.setField(this,12,void 0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.hasSthumbry=function(){return null!=r.Message.getField(this,12)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.getVector3=function(){return r.Message.getWrapperField(this,proto.WLCGV2.OneInputOPData.TrackingVector3,13)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.setVector3=function(e){return r.Message.setWrapperField(this,13,e)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.clearVector3=function(){return this.setVector3(void 0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.hasVector3=function(){return null!=r.Message.getField(this,13)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.getAccelerometer=function(){return r.Message.getWrapperField(this,proto.WLCGV2.OneInputOPData.TrackingVector3,14)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.setAccelerometer=function(e){return r.Message.setWrapperField(this,14,e)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.clearAccelerometer=function(){return this.setAccelerometer(void 0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.hasAccelerometer=function(){return null!=r.Message.getField(this,14)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.getUserindex=function(){return r.Message.getFieldWithDefault(this,15,0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.setUserindex=function(e){return r.Message.setField(this,15,e)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.clearUserindex=function(){return r.Message.setField(this,15,void 0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.hasUserindex=function(){return null!=r.Message.getField(this,15)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.getSerialindex=function(){return r.Message.getFieldWithDefault(this,16,0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.setSerialindex=function(e){return r.Message.setField(this,16,e)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.clearSerialindex=function(){return r.Message.setField(this,16,void 0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.hasSerialindex=function(){return null!=r.Message.getField(this,16)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.getTouchpadpointps5=function(){return r.Message.getWrapperField(this,proto.WLCGV2.OneInputOPData.GamePadTouchPad,17)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.setTouchpadpointps5=function(e){return r.Message.setWrapperField(this,17,e)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.clearTouchpadpointps5=function(){return this.setTouchpadpointps5(void 0)},proto.WLCGV2.OneInputOPData.DualSense5.prototype.hasTouchpadpointps5=function(){return null!=r.Message.getField(this,17)},proto.WLCGV2.OneInputOPData.prototype.getOpDevice=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.WLCGV2.OneInputOPData.prototype.setOpDevice=function(e){return r.Message.setField(this,1,e)},proto.WLCGV2.OneInputOPData.prototype.clearOpDevice=function(){return r.Message.setField(this,1,void 0)},proto.WLCGV2.OneInputOPData.prototype.hasOpDevice=function(){return null!=r.Message.getField(this,1)},proto.WLCGV2.OneInputOPData.prototype.getKey=function(){return r.Message.getWrapperField(this,proto.WLCGV2.OneInputOPData.KeyBoad,2)},proto.WLCGV2.OneInputOPData.prototype.setKey=function(e){return r.Message.setWrapperField(this,2,e)},proto.WLCGV2.OneInputOPData.prototype.clearKey=function(){return this.setKey(void 0)},proto.WLCGV2.OneInputOPData.prototype.hasKey=function(){return null!=r.Message.getField(this,2)},proto.WLCGV2.OneInputOPData.prototype.getMouse=function(){return r.Message.getWrapperField(this,proto.WLCGV2.OneInputOPData.Mouse,3)},proto.WLCGV2.OneInputOPData.prototype.setMouse=function(e){return r.Message.setWrapperField(this,3,e)},proto.WLCGV2.OneInputOPData.prototype.clearMouse=function(){return this.setMouse(void 0)},proto.WLCGV2.OneInputOPData.prototype.hasMouse=function(){return null!=r.Message.getField(this,3)},proto.WLCGV2.OneInputOPData.prototype.getTouchpoints=function(){return r.Message.getWrapperField(this,proto.WLCGV2.OneInputOPData.TouchPoints,4)},proto.WLCGV2.OneInputOPData.prototype.setTouchpoints=function(e){return r.Message.setWrapperField(this,4,e)},proto.WLCGV2.OneInputOPData.prototype.clearTouchpoints=function(){return this.setTouchpoints(void 0)},proto.WLCGV2.OneInputOPData.prototype.hasTouchpoints=function(){return null!=r.Message.getField(this,4)},proto.WLCGV2.OneInputOPData.prototype.getGamePad=function(){return r.Message.getWrapperField(this,proto.WLCGV2.OneInputOPData.GamePad,5)},proto.WLCGV2.OneInputOPData.prototype.setGamePad=function(e){return r.Message.setWrapperField(this,5,e)},proto.WLCGV2.OneInputOPData.prototype.clearGamePad=function(){return this.setGamePad(void 0)},proto.WLCGV2.OneInputOPData.prototype.hasGamePad=function(){return null!=r.Message.getField(this,5)},proto.WLCGV2.OneInputOPData.prototype.getSensordata=function(){return r.Message.getWrapperField(this,proto.WLCGV2.OneInputOPData.SensorData,6)},proto.WLCGV2.OneInputOPData.prototype.setSensordata=function(e){return r.Message.setWrapperField(this,6,e)},proto.WLCGV2.OneInputOPData.prototype.clearSensordata=function(){return this.setSensordata(void 0)},proto.WLCGV2.OneInputOPData.prototype.hasSensordata=function(){return null!=r.Message.getField(this,6)},proto.WLCGV2.OneInputOPData.prototype.getVrdata=function(){return r.Message.getWrapperField(this,proto.WLCGV2.OneInputOPData.VRInputData,7)},proto.WLCGV2.OneInputOPData.prototype.setVrdata=function(e){return r.Message.setWrapperField(this,7,e)},proto.WLCGV2.OneInputOPData.prototype.clearVrdata=function(){return this.setVrdata(void 0)},proto.WLCGV2.OneInputOPData.prototype.hasVrdata=function(){return null!=r.Message.getField(this,7)},proto.WLCGV2.OneInputOPData.prototype.getDevMode=function(){return r.Message.getFieldWithDefault(this,8,"")},proto.WLCGV2.OneInputOPData.prototype.setDevMode=function(e){return r.Message.setField(this,8,e)},proto.WLCGV2.OneInputOPData.prototype.clearDevMode=function(){return r.Message.setField(this,8,void 0)},proto.WLCGV2.OneInputOPData.prototype.hasDevMode=function(){return null!=r.Message.getField(this,8)},proto.WLCGV2.OneInputOPData.prototype.getDs4data=function(){return r.Message.getWrapperField(this,proto.WLCGV2.OneInputOPData.DualShock4,9)},proto.WLCGV2.OneInputOPData.prototype.setDs4data=function(e){return r.Message.setWrapperField(this,9,e)},proto.WLCGV2.OneInputOPData.prototype.clearDs4data=function(){return this.setDs4data(void 0)},proto.WLCGV2.OneInputOPData.prototype.hasDs4data=function(){return null!=r.Message.getField(this,9)},proto.WLCGV2.OneInputOPData.prototype.getDs5data=function(){return r.Message.getWrapperField(this,proto.WLCGV2.OneInputOPData.DualSense5,10)},proto.WLCGV2.OneInputOPData.prototype.setDs5data=function(e){return r.Message.setWrapperField(this,10,e)},proto.WLCGV2.OneInputOPData.prototype.clearDs5data=function(){return this.setDs5data(void 0)},proto.WLCGV2.OneInputOPData.prototype.hasDs5data=function(){return null!=r.Message.getField(this,10)},proto.WLCGV2.OneInputOPData.prototype.getState=function(){return r.Message.getWrapperField(this,proto.WLCGV2.OneInputOPData.Connect,11)},proto.WLCGV2.OneInputOPData.prototype.setState=function(e){return r.Message.setWrapperField(this,11,e)},proto.WLCGV2.OneInputOPData.prototype.clearState=function(){return this.setState(void 0)},proto.WLCGV2.OneInputOPData.prototype.hasState=function(){return null!=r.Message.getField(this,11)},proto.WLCGV2.InputOPData.repeatedFields_=[1],r.Message.GENERATE_TO_OBJECT&&(proto.WLCGV2.InputOPData.prototype.toObject=function(e){return proto.WLCGV2.InputOPData.toObject(e,this)},proto.WLCGV2.InputOPData.toObject=function(e,t){var n={opListList:r.Message.toObjectList(t.getOpListList(),proto.WLCGV2.OneInputOPData.toObject,e)};return e&&(n.$jspbMessageInstance=t),n}),proto.WLCGV2.InputOPData.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.WLCGV2.InputOPData;return proto.WLCGV2.InputOPData.deserializeBinaryFromReader(t,e)},proto.WLCGV2.InputOPData.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){var n;1===t.getFieldNumber()?(n=new proto.WLCGV2.OneInputOPData,t.readMessage(n,proto.WLCGV2.OneInputOPData.deserializeBinaryFromReader),e.addOpList(n)):t.skipField()}return e},proto.WLCGV2.InputOPData.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.WLCGV2.InputOPData.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WLCGV2.InputOPData.serializeBinaryToWriter=function(e,t){0<(e=e.getOpListList()).length&&t.writeRepeatedMessage(1,e,proto.WLCGV2.OneInputOPData.serializeBinaryToWriter)},proto.WLCGV2.InputOPData.prototype.getOpListList=function(){return r.Message.getRepeatedWrapperField(this,proto.WLCGV2.OneInputOPData,1)},proto.WLCGV2.InputOPData.prototype.setOpListList=function(e){return r.Message.setRepeatedWrapperField(this,1,e)},proto.WLCGV2.InputOPData.prototype.addOpList=function(e,t){return r.Message.addToRepeatedWrapperField(this,1,e,proto.WLCGV2.OneInputOPData,t)},proto.WLCGV2.InputOPData.prototype.clearOpListList=function(){return this.setOpListList([])},proto.WLCGV2.OpMappingDevice={OP_MAPPING_DEV_STANDARD_BEGIN:0,OP_MAPPING_DEV_KEYBOARD:1,OP_MAPPING_DEV_MOUSE:2,OP_MAPPING_DEV_XINPUT:3,OP_MAPPING_DEV_GAMEPAD:4,OP_MAPPING_DEV_PS4:5,OP_MAPPING_DEV_PS5:6,OP_MAPPING_DEV_SENSOR:7,OP_MAPPING_DEV_TOUCH:16,OP_MAPPING_PICO_NEO3:32,OP_MAPPING_DEV_KEEP_ALIVE:61,OP_MAPPING_DEV_STANDARD_END:62},e.object.extend(n,proto.WLCGV2)},{"google-protobuf":1}],4:[function(e,t,n){var r=e("google-protobuf"),o=(e=r,function(){return this||window||o||self||Function("return this")()}.call(null));e.exportSymbol("proto.WLCGV2.ClientFirstOnline",null,o),e.exportSymbol("proto.WLCGV2.ID",null,o),e.exportSymbol("proto.WLCGV2.SimpleCmd",null,o),e.exportSymbol("proto.WLCGV2.VideoSettings",null,o),proto.WLCGV2.VideoSettings=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.WLCGV2.VideoSettings,r.Message),e.DEBUG&&!COMPILED&&(proto.WLCGV2.VideoSettings.displayName="proto.WLCGV2.VideoSettings"),proto.WLCGV2.ClientFirstOnline=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.WLCGV2.ClientFirstOnline,r.Message),e.DEBUG&&!COMPILED&&(proto.WLCGV2.ClientFirstOnline.displayName="proto.WLCGV2.ClientFirstOnline"),proto.WLCGV2.SimpleCmd=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.WLCGV2.SimpleCmd,r.Message),e.DEBUG&&!COMPILED&&(proto.WLCGV2.SimpleCmd.displayName="proto.WLCGV2.SimpleCmd"),r.Message.GENERATE_TO_OBJECT&&(proto.WLCGV2.VideoSettings.prototype.toObject=function(e){return proto.WLCGV2.VideoSettings.toObject(e,this)},proto.WLCGV2.VideoSettings.toObject=function(e,t){var n={width:null==(n=r.Message.getField(t,1))?void 0:n,height:null==(n=r.Message.getField(t,2))?void 0:n,codecType:null==(n=r.Message.getField(t,3))?void 0:n,bitRate:null==(n=r.Message.getField(t,4))?void 0:n,fps:null==(n=r.Message.getField(t,6))?void 0:n};return e&&(n.$jspbMessageInstance=t),n}),proto.WLCGV2.VideoSettings.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.WLCGV2.VideoSettings;return proto.WLCGV2.VideoSettings.deserializeBinaryFromReader(t,e)},proto.WLCGV2.VideoSettings.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readInt32();e.setWidth(n);break;case 2:n=t.readInt32(),e.setHeight(n);break;case 3:n=t.readInt32(),e.setCodecType(n);break;case 4:n=t.readInt32(),e.setBitRate(n);break;case 6:n=t.readInt32(),e.setFps(n);break;default:t.skipField()}return e},proto.WLCGV2.VideoSettings.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.WLCGV2.VideoSettings.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WLCGV2.VideoSettings.serializeBinaryToWriter=function(e,t){var n;null!=(n=r.Message.getField(e,1))&&t.writeInt32(1,n),null!=(n=r.Message.getField(e,2))&&t.writeInt32(2,n),null!=(n=r.Message.getField(e,3))&&t.writeInt32(3,n),null!=(n=r.Message.getField(e,4))&&t.writeInt32(4,n),null!=(n=r.Message.getField(e,6))&&t.writeInt32(6,n)},proto.WLCGV2.VideoSettings.prototype.getWidth=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.WLCGV2.VideoSettings.prototype.setWidth=function(e){return r.Message.setField(this,1,e)},proto.WLCGV2.VideoSettings.prototype.clearWidth=function(){return r.Message.setField(this,1,void 0)},proto.WLCGV2.VideoSettings.prototype.hasWidth=function(){return null!=r.Message.getField(this,1)},proto.WLCGV2.VideoSettings.prototype.getHeight=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.WLCGV2.VideoSettings.prototype.setHeight=function(e){return r.Message.setField(this,2,e)},proto.WLCGV2.VideoSettings.prototype.clearHeight=function(){return r.Message.setField(this,2,void 0)},proto.WLCGV2.VideoSettings.prototype.hasHeight=function(){return null!=r.Message.getField(this,2)},proto.WLCGV2.VideoSettings.prototype.getCodecType=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.WLCGV2.VideoSettings.prototype.setCodecType=function(e){return r.Message.setField(this,3,e)},proto.WLCGV2.VideoSettings.prototype.clearCodecType=function(){return r.Message.setField(this,3,void 0)},proto.WLCGV2.VideoSettings.prototype.hasCodecType=function(){return null!=r.Message.getField(this,3)},proto.WLCGV2.VideoSettings.prototype.getBitRate=function(){return r.Message.getFieldWithDefault(this,4,0)},proto.WLCGV2.VideoSettings.prototype.setBitRate=function(e){return r.Message.setField(this,4,e)},proto.WLCGV2.VideoSettings.prototype.clearBitRate=function(){return r.Message.setField(this,4,void 0)},proto.WLCGV2.VideoSettings.prototype.hasBitRate=function(){return null!=r.Message.getField(this,4)},proto.WLCGV2.VideoSettings.prototype.getFps=function(){return r.Message.getFieldWithDefault(this,6,0)},proto.WLCGV2.VideoSettings.prototype.setFps=function(e){return r.Message.setField(this,6,e)},proto.WLCGV2.VideoSettings.prototype.clearFps=function(){return r.Message.setField(this,6,void 0)},proto.WLCGV2.VideoSettings.prototype.hasFps=function(){return null!=r.Message.getField(this,6)},r.Message.GENERATE_TO_OBJECT&&(proto.WLCGV2.ClientFirstOnline.prototype.toObject=function(e){return proto.WLCGV2.ClientFirstOnline.toObject(e,this)},proto.WLCGV2.ClientFirstOnline.toObject=function(e,t){var n={gsmId:null==(n=r.Message.getField(t,1))?void 0:n,gameId:null==(n=r.Message.getField(t,2))?void 0:n,deviceUuid:null==(n=r.Message.getField(t,3))?void 0:n,token:null==(n=r.Message.getField(t,4))?void 0:n,clientVer:null==(n=r.Message.getField(t,5))?void 0:n,video:(n=t.getVideo())&&proto.WLCGV2.VideoSettings.toObject(e,n),gsmToken:null==(n=r.Message.getField(t,8))?void 0:n,serialId:null==(n=r.Message.getField(t,9))?void 0:n,saveId:null==(n=r.Message.getField(t,10))?void 0:n,gameIdStr:null==(n=r.Message.getField(t,11))?void 0:n,gameMode:null==(n=r.Message.getField(t,12))?void 0:n,instanceId:null==(n=r.Message.getField(t,13))?void 0:n,accountId:null==(n=r.Message.getField(t,14))?void 0:n,cmdLine:null==(n=r.Message.getField(t,15))?void 0:n,extparam:null==(n=r.Message.getField(t,16))?void 0:n,gamepath:null==(n=r.Message.getField(t,17))?void 0:n,cfgpath:null==(n=r.Message.getField(t,18))?void 0:n,pb_package:null==(n=r.Message.getField(t,19))?void 0:n,activity:null==(n=r.Message.getField(t,20))?void 0:n,backgroundImage:null==(n=r.Message.getField(t,21))?void 0:n,platform:null==(n=r.Message.getField(t,22))?void 0:n,cursor:null==(n=r.Message.getField(t,23))?void 0:n,pause:null==(n=r.Message.getField(t,24))?void 0:n};return e&&(n.$jspbMessageInstance=t),n}),proto.WLCGV2.ClientFirstOnline.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.WLCGV2.ClientFirstOnline;return proto.WLCGV2.ClientFirstOnline.deserializeBinaryFromReader(t,e)},proto.WLCGV2.ClientFirstOnline.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readInt32();e.setGsmId(n);break;case 2:n=t.readInt32(),e.setGameId(n);break;case 3:n=t.readString(),e.setDeviceUuid(n);break;case 4:n=t.readString(),e.setToken(n);break;case 5:n=t.readString(),e.setClientVer(n);break;case 7:n=new proto.WLCGV2.VideoSettings,t.readMessage(n,proto.WLCGV2.VideoSettings.deserializeBinaryFromReader),e.setVideo(n);break;case 8:n=t.readString(),e.setGsmToken(n);break;case 9:n=t.readString(),e.setSerialId(n);break;case 10:n=t.readString(),e.setSaveId(n);break;case 11:n=t.readString(),e.setGameIdStr(n);break;case 12:n=t.readString(),e.setGameMode(n);break;case 13:n=t.readString(),e.setInstanceId(n);break;case 14:n=t.readString(),e.setAccountId(n);break;case 15:n=t.readString(),e.setCmdLine(n);break;case 16:n=t.readString(),e.setExtparam(n);break;case 17:n=t.readString(),e.setGamepath(n);break;case 18:n=t.readString(),e.setCfgpath(n);break;case 19:n=t.readString(),e.setPackage(n);break;case 20:n=t.readString(),e.setActivity(n);break;case 21:n=t.readString(),e.setBackgroundImage(n);break;case 22:n=t.readString(),e.setPlatform(n);break;case 23:n=t.readInt32(),e.setCursor(n);break;case 24:n=t.readInt32(),e.setPause(n);break;default:t.skipField()}return e},proto.WLCGV2.ClientFirstOnline.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.WLCGV2.ClientFirstOnline.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WLCGV2.ClientFirstOnline.serializeBinaryToWriter=function(e,t){var n;null!=(n=r.Message.getField(e,1))&&t.writeInt32(1,n),null!=(n=r.Message.getField(e,2))&&t.writeInt32(2,n),null!=(n=r.Message.getField(e,3))&&t.writeString(3,n),null!=(n=r.Message.getField(e,4))&&t.writeString(4,n),null!=(n=r.Message.getField(e,5))&&t.writeString(5,n),null!=(n=e.getVideo())&&t.writeMessage(7,n,proto.WLCGV2.VideoSettings.serializeBinaryToWriter),null!=(n=r.Message.getField(e,8))&&t.writeString(8,n),null!=(n=r.Message.getField(e,9))&&t.writeString(9,n),null!=(n=r.Message.getField(e,10))&&t.writeString(10,n),null!=(n=r.Message.getField(e,11))&&t.writeString(11,n),null!=(n=r.Message.getField(e,12))&&t.writeString(12,n),null!=(n=r.Message.getField(e,13))&&t.writeString(13,n),null!=(n=r.Message.getField(e,14))&&t.writeString(14,n),null!=(n=r.Message.getField(e,15))&&t.writeString(15,n),null!=(n=r.Message.getField(e,16))&&t.writeString(16,n),null!=(n=r.Message.getField(e,17))&&t.writeString(17,n),null!=(n=r.Message.getField(e,18))&&t.writeString(18,n),null!=(n=r.Message.getField(e,19))&&t.writeString(19,n),null!=(n=r.Message.getField(e,20))&&t.writeString(20,n),null!=(n=r.Message.getField(e,21))&&t.writeString(21,n),null!=(n=r.Message.getField(e,22))&&t.writeString(22,n),null!=(n=r.Message.getField(e,23))&&t.writeInt32(23,n),null!=(n=r.Message.getField(e,24))&&t.writeInt32(24,n)},proto.WLCGV2.ClientFirstOnline.prototype.getGsmId=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.WLCGV2.ClientFirstOnline.prototype.setGsmId=function(e){return r.Message.setField(this,1,e)},proto.WLCGV2.ClientFirstOnline.prototype.clearGsmId=function(){return r.Message.setField(this,1,void 0)},proto.WLCGV2.ClientFirstOnline.prototype.hasGsmId=function(){return null!=r.Message.getField(this,1)},proto.WLCGV2.ClientFirstOnline.prototype.getGameId=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.WLCGV2.ClientFirstOnline.prototype.setGameId=function(e){return r.Message.setField(this,2,e)},proto.WLCGV2.ClientFirstOnline.prototype.clearGameId=function(){return r.Message.setField(this,2,void 0)},proto.WLCGV2.ClientFirstOnline.prototype.hasGameId=function(){return null!=r.Message.getField(this,2)},proto.WLCGV2.ClientFirstOnline.prototype.getDeviceUuid=function(){return r.Message.getFieldWithDefault(this,3,"")},proto.WLCGV2.ClientFirstOnline.prototype.setDeviceUuid=function(e){return r.Message.setField(this,3,e)},proto.WLCGV2.ClientFirstOnline.prototype.clearDeviceUuid=function(){return r.Message.setField(this,3,void 0)},proto.WLCGV2.ClientFirstOnline.prototype.hasDeviceUuid=function(){return null!=r.Message.getField(this,3)},proto.WLCGV2.ClientFirstOnline.prototype.getToken=function(){return r.Message.getFieldWithDefault(this,4,"")},proto.WLCGV2.ClientFirstOnline.prototype.setToken=function(e){return r.Message.setField(this,4,e)},proto.WLCGV2.ClientFirstOnline.prototype.clearToken=function(){return r.Message.setField(this,4,void 0)},proto.WLCGV2.ClientFirstOnline.prototype.hasToken=function(){return null!=r.Message.getField(this,4)},proto.WLCGV2.ClientFirstOnline.prototype.getClientVer=function(){return r.Message.getFieldWithDefault(this,5,"")},proto.WLCGV2.ClientFirstOnline.prototype.setClientVer=function(e){return r.Message.setField(this,5,e)},proto.WLCGV2.ClientFirstOnline.prototype.clearClientVer=function(){return r.Message.setField(this,5,void 0)},proto.WLCGV2.ClientFirstOnline.prototype.hasClientVer=function(){return null!=r.Message.getField(this,5)},proto.WLCGV2.ClientFirstOnline.prototype.getVideo=function(){return r.Message.getWrapperField(this,proto.WLCGV2.VideoSettings,7)},proto.WLCGV2.ClientFirstOnline.prototype.setVideo=function(e){return r.Message.setWrapperField(this,7,e)},proto.WLCGV2.ClientFirstOnline.prototype.clearVideo=function(){return this.setVideo(void 0)},proto.WLCGV2.ClientFirstOnline.prototype.hasVideo=function(){return null!=r.Message.getField(this,7)},proto.WLCGV2.ClientFirstOnline.prototype.getGsmToken=function(){return r.Message.getFieldWithDefault(this,8,"")},proto.WLCGV2.ClientFirstOnline.prototype.setGsmToken=function(e){return r.Message.setField(this,8,e)},proto.WLCGV2.ClientFirstOnline.prototype.clearGsmToken=function(){return r.Message.setField(this,8,void 0)},proto.WLCGV2.ClientFirstOnline.prototype.hasGsmToken=function(){return null!=r.Message.getField(this,8)},proto.WLCGV2.ClientFirstOnline.prototype.getSerialId=function(){return r.Message.getFieldWithDefault(this,9,"")},proto.WLCGV2.ClientFirstOnline.prototype.setSerialId=function(e){return r.Message.setField(this,9,e)},proto.WLCGV2.ClientFirstOnline.prototype.clearSerialId=function(){return r.Message.setField(this,9,void 0)},proto.WLCGV2.ClientFirstOnline.prototype.hasSerialId=function(){return null!=r.Message.getField(this,9)},proto.WLCGV2.ClientFirstOnline.prototype.getSaveId=function(){return r.Message.getFieldWithDefault(this,10,"")},proto.WLCGV2.ClientFirstOnline.prototype.setSaveId=function(e){return r.Message.setField(this,10,e)},proto.WLCGV2.ClientFirstOnline.prototype.clearSaveId=function(){return r.Message.setField(this,10,void 0)},proto.WLCGV2.ClientFirstOnline.prototype.hasSaveId=function(){return null!=r.Message.getField(this,10)},proto.WLCGV2.ClientFirstOnline.prototype.getGameIdStr=function(){return r.Message.getFieldWithDefault(this,11,"")},proto.WLCGV2.ClientFirstOnline.prototype.setGameIdStr=function(e){return r.Message.setField(this,11,e)},proto.WLCGV2.ClientFirstOnline.prototype.clearGameIdStr=function(){return r.Message.setField(this,11,void 0)},proto.WLCGV2.ClientFirstOnline.prototype.hasGameIdStr=function(){return null!=r.Message.getField(this,11)},proto.WLCGV2.ClientFirstOnline.prototype.getGameMode=function(){return r.Message.getFieldWithDefault(this,12,"")},proto.WLCGV2.ClientFirstOnline.prototype.setGameMode=function(e){return r.Message.setField(this,12,e)},proto.WLCGV2.ClientFirstOnline.prototype.clearGameMode=function(){return r.Message.setField(this,12,void 0)},proto.WLCGV2.ClientFirstOnline.prototype.hasGameMode=function(){return null!=r.Message.getField(this,12)},proto.WLCGV2.ClientFirstOnline.prototype.getInstanceId=function(){return r.Message.getFieldWithDefault(this,13,"")},proto.WLCGV2.ClientFirstOnline.prototype.setInstanceId=function(e){return r.Message.setField(this,13,e)},proto.WLCGV2.ClientFirstOnline.prototype.clearInstanceId=function(){return r.Message.setField(this,13,void 0)},proto.WLCGV2.ClientFirstOnline.prototype.hasInstanceId=function(){return null!=r.Message.getField(this,13)},proto.WLCGV2.ClientFirstOnline.prototype.getAccountId=function(){return r.Message.getFieldWithDefault(this,14,"")},proto.WLCGV2.ClientFirstOnline.prototype.setAccountId=function(e){return r.Message.setField(this,14,e)},proto.WLCGV2.ClientFirstOnline.prototype.clearAccountId=function(){return r.Message.setField(this,14,void 0)},proto.WLCGV2.ClientFirstOnline.prototype.hasAccountId=function(){return null!=r.Message.getField(this,14)},proto.WLCGV2.ClientFirstOnline.prototype.getCmdLine=function(){return r.Message.getFieldWithDefault(this,15,"")},proto.WLCGV2.ClientFirstOnline.prototype.setCmdLine=function(e){return r.Message.setField(this,15,e)},proto.WLCGV2.ClientFirstOnline.prototype.clearCmdLine=function(){return r.Message.setField(this,15,void 0)},proto.WLCGV2.ClientFirstOnline.prototype.hasCmdLine=function(){return null!=r.Message.getField(this,15)},proto.WLCGV2.ClientFirstOnline.prototype.getExtparam=function(){return r.Message.getFieldWithDefault(this,16,"")},proto.WLCGV2.ClientFirstOnline.prototype.setExtparam=function(e){return r.Message.setField(this,16,e)},proto.WLCGV2.ClientFirstOnline.prototype.clearExtparam=function(){return r.Message.setField(this,16,void 0)},proto.WLCGV2.ClientFirstOnline.prototype.hasExtparam=function(){return null!=r.Message.getField(this,16)},proto.WLCGV2.ClientFirstOnline.prototype.getGamepath=function(){return r.Message.getFieldWithDefault(this,17,"")},proto.WLCGV2.ClientFirstOnline.prototype.setGamepath=function(e){return r.Message.setField(this,17,e)},proto.WLCGV2.ClientFirstOnline.prototype.clearGamepath=function(){return r.Message.setField(this,17,void 0)},proto.WLCGV2.ClientFirstOnline.prototype.hasGamepath=function(){return null!=r.Message.getField(this,17)},proto.WLCGV2.ClientFirstOnline.prototype.getCfgpath=function(){return r.Message.getFieldWithDefault(this,18,"")},proto.WLCGV2.ClientFirstOnline.prototype.setCfgpath=function(e){return r.Message.setField(this,18,e)},proto.WLCGV2.ClientFirstOnline.prototype.clearCfgpath=function(){return r.Message.setField(this,18,void 0)},proto.WLCGV2.ClientFirstOnline.prototype.hasCfgpath=function(){return null!=r.Message.getField(this,18)},proto.WLCGV2.ClientFirstOnline.prototype.getPackage=function(){return r.Message.getFieldWithDefault(this,19,"")},proto.WLCGV2.ClientFirstOnline.prototype.setPackage=function(e){return r.Message.setField(this,19,e)},proto.WLCGV2.ClientFirstOnline.prototype.clearPackage=function(){return r.Message.setField(this,19,void 0)},proto.WLCGV2.ClientFirstOnline.prototype.hasPackage=function(){return null!=r.Message.getField(this,19)},proto.WLCGV2.ClientFirstOnline.prototype.getActivity=function(){return r.Message.getFieldWithDefault(this,20,"")},proto.WLCGV2.ClientFirstOnline.prototype.setActivity=function(e){return r.Message.setField(this,20,e)},proto.WLCGV2.ClientFirstOnline.prototype.clearActivity=function(){return r.Message.setField(this,20,void 0)},proto.WLCGV2.ClientFirstOnline.prototype.hasActivity=function(){return null!=r.Message.getField(this,20)},proto.WLCGV2.ClientFirstOnline.prototype.getBackgroundImage=function(){return r.Message.getFieldWithDefault(this,21,"")},proto.WLCGV2.ClientFirstOnline.prototype.setBackgroundImage=function(e){return r.Message.setField(this,21,e)},proto.WLCGV2.ClientFirstOnline.prototype.clearBackgroundImage=function(){return r.Message.setField(this,21,void 0)},proto.WLCGV2.ClientFirstOnline.prototype.hasBackgroundImage=function(){return null!=r.Message.getField(this,21)},proto.WLCGV2.ClientFirstOnline.prototype.getPlatform=function(){return r.Message.getFieldWithDefault(this,22,"")},proto.WLCGV2.ClientFirstOnline.prototype.setPlatform=function(e){return r.Message.setField(this,22,e)},proto.WLCGV2.ClientFirstOnline.prototype.clearPlatform=function(){return r.Message.setField(this,22,void 0)},proto.WLCGV2.ClientFirstOnline.prototype.hasPlatform=function(){return null!=r.Message.getField(this,22)},proto.WLCGV2.ClientFirstOnline.prototype.getCursor=function(){return r.Message.getFieldWithDefault(this,23,0)},proto.WLCGV2.ClientFirstOnline.prototype.setCursor=function(e){return r.Message.setField(this,23,e)},proto.WLCGV2.ClientFirstOnline.prototype.clearCursor=function(){return r.Message.setField(this,23,void 0)},proto.WLCGV2.ClientFirstOnline.prototype.hasCursor=function(){return null!=r.Message.getField(this,23)},proto.WLCGV2.ClientFirstOnline.prototype.getPause=function(){return r.Message.getFieldWithDefault(this,24,0)},proto.WLCGV2.ClientFirstOnline.prototype.setPause=function(e){return r.Message.setField(this,24,e)},proto.WLCGV2.ClientFirstOnline.prototype.clearPause=function(){return r.Message.setField(this,24,void 0)},proto.WLCGV2.ClientFirstOnline.prototype.hasPause=function(){return null!=r.Message.getField(this,24)},r.Message.GENERATE_TO_OBJECT&&(proto.WLCGV2.SimpleCmd.prototype.toObject=function(e){return proto.WLCGV2.SimpleCmd.toObject(e,this)},proto.WLCGV2.SimpleCmd.toObject=function(e,t){var n={cmd:null==(n=r.Message.getField(t,1))?void 0:n,arg:null==(n=r.Message.getField(t,2))?void 0:n,data:t.getData_asB64(),arg1:null==(n=r.Message.getField(t,4))?void 0:n,arg2:null==(n=r.Message.getField(t,5))?void 0:n};return e&&(n.$jspbMessageInstance=t),n}),proto.WLCGV2.SimpleCmd.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.WLCGV2.SimpleCmd;return proto.WLCGV2.SimpleCmd.deserializeBinaryFromReader(t,e)},proto.WLCGV2.SimpleCmd.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setCmd(n);break;case 2:n=t.readString(),e.setArg(n);break;case 3:n=t.readBytes(),e.setData(n);break;case 4:n=t.readString(),e.setArg1(n);break;case 5:n=t.readString(),e.setArg2(n);break;default:t.skipField()}return e},proto.WLCGV2.SimpleCmd.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.WLCGV2.SimpleCmd.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.WLCGV2.SimpleCmd.serializeBinaryToWriter=function(e,t){var n;null!=(n=r.Message.getField(e,1))&&t.writeString(1,n),null!=(n=r.Message.getField(e,2))&&t.writeString(2,n),null!=(n=r.Message.getField(e,3))&&t.writeBytes(3,n),null!=(n=r.Message.getField(e,4))&&t.writeString(4,n),null!=(n=r.Message.getField(e,5))&&t.writeString(5,n)},proto.WLCGV2.SimpleCmd.prototype.getCmd=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.WLCGV2.SimpleCmd.prototype.setCmd=function(e){return r.Message.setField(this,1,e)},proto.WLCGV2.SimpleCmd.prototype.clearCmd=function(){return r.Message.setField(this,1,void 0)},proto.WLCGV2.SimpleCmd.prototype.hasCmd=function(){return null!=r.Message.getField(this,1)},proto.WLCGV2.SimpleCmd.prototype.getArg=function(){return r.Message.getFieldWithDefault(this,2,"")},proto.WLCGV2.SimpleCmd.prototype.setArg=function(e){return r.Message.setField(this,2,e)},proto.WLCGV2.SimpleCmd.prototype.clearArg=function(){return r.Message.setField(this,2,void 0)},proto.WLCGV2.SimpleCmd.prototype.hasArg=function(){return null!=r.Message.getField(this,2)},proto.WLCGV2.SimpleCmd.prototype.getData=function(){return r.Message.getFieldWithDefault(this,3,"")},proto.WLCGV2.SimpleCmd.prototype.getData_asB64=function(){return r.Message.bytesAsB64(this.getData())},proto.WLCGV2.SimpleCmd.prototype.getData_asU8=function(){return r.Message.bytesAsU8(this.getData())},proto.WLCGV2.SimpleCmd.prototype.setData=function(e){return r.Message.setField(this,3,e)},proto.WLCGV2.SimpleCmd.prototype.clearData=function(){return r.Message.setField(this,3,void 0)},proto.WLCGV2.SimpleCmd.prototype.hasData=function(){return null!=r.Message.getField(this,3)},proto.WLCGV2.SimpleCmd.prototype.getArg1=function(){return r.Message.getFieldWithDefault(this,4,"")},proto.WLCGV2.SimpleCmd.prototype.setArg1=function(e){return r.Message.setField(this,4,e)},proto.WLCGV2.SimpleCmd.prototype.clearArg1=function(){return r.Message.setField(this,4,void 0)},proto.WLCGV2.SimpleCmd.prototype.hasArg1=function(){return null!=r.Message.getField(this,4)},proto.WLCGV2.SimpleCmd.prototype.getArg2=function(){return r.Message.getFieldWithDefault(this,5,"")},proto.WLCGV2.SimpleCmd.prototype.setArg2=function(e){return r.Message.setField(this,5,e)},proto.WLCGV2.SimpleCmd.prototype.clearArg2=function(){return r.Message.setField(this,5,void 0)},proto.WLCGV2.SimpleCmd.prototype.hasArg2=function(){return null!=r.Message.getField(this,5)},proto.WLCGV2.ID={UNKNOWN:0,MSG_SIMPLECMD:300,MSG_BROADCASTCMD:301,MSG_TOPLAYERCMD:302},e.object.extend(n,proto.WLCGV2)},{"google-protobuf":1}],5:[function(e,t,n){var r=e("google-protobuf"),o=(e=r,function(){return this||window||o||self||Function("return this")()}.call(null));e.exportSymbol("proto.FileData",null,o),e.exportSymbol("proto.FileData.Type",null,o),e.exportSymbol("proto.JsonData",null,o),e.exportSymbol("proto.JsonData.Type",null,o),e.exportSymbol("proto.PipeTransData",null,o),e.exportSymbol("proto.PipeTransData.TransType",null,o),e.exportSymbol("proto.TxtData",null,o),proto.FileData=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.FileData,r.Message),e.DEBUG&&!COMPILED&&(proto.FileData.displayName="proto.FileData"),proto.TxtData=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.TxtData,r.Message),e.DEBUG&&!COMPILED&&(proto.TxtData.displayName="proto.TxtData"),proto.JsonData=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.JsonData,r.Message),e.DEBUG&&!COMPILED&&(proto.JsonData.displayName="proto.JsonData"),proto.PipeTransData=function(e){r.Message.initialize(this,e,0,-1,null,null)},e.inherits(proto.PipeTransData,r.Message),e.DEBUG&&!COMPILED&&(proto.PipeTransData.displayName="proto.PipeTransData"),r.Message.GENERATE_TO_OBJECT&&(proto.FileData.prototype.toObject=function(e){return proto.FileData.toObject(e,this)},proto.FileData.toObject=function(e,t){var n={name:r.Message.getFieldWithDefault(t,1,""),size:r.Message.getFieldWithDefault(t,2,0),createtime:r.Message.getFieldWithDefault(t,3,0),modifytime:r.Message.getFieldWithDefault(t,4,0),currentpart:r.Message.getFieldWithDefault(t,5,0),totalpart:r.Message.getFieldWithDefault(t,6,0),data:t.getData_asB64(),type:r.Message.getFieldWithDefault(t,20,0)};return e&&(n.$jspbMessageInstance=t),n}),proto.FileData.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.FileData;return proto.FileData.deserializeBinaryFromReader(t,e)},proto.FileData.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setName(n);break;case 2:n=t.readUint64(),e.setSize(n);break;case 3:n=t.readUint64(),e.setCreatetime(n);break;case 4:n=t.readUint64(),e.setModifytime(n);break;case 5:n=t.readUint32(),e.setCurrentpart(n);break;case 6:n=t.readUint32(),e.setTotalpart(n);break;case 7:n=t.readBytes(),e.setData(n);break;case 20:n=t.readEnum(),e.setType(n);break;default:t.skipField()}return e},proto.FileData.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.FileData.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.FileData.serializeBinaryToWriter=function(e,t){var n;0<(n=e.getName()).length&&t.writeString(1,n),0!==(n=e.getSize())&&t.writeUint64(2,n),0!==(n=e.getCreatetime())&&t.writeUint64(3,n),0!==(n=e.getModifytime())&&t.writeUint64(4,n),0!==(n=e.getCurrentpart())&&t.writeUint32(5,n),0!==(n=e.getTotalpart())&&t.writeUint32(6,n),0<(n=e.getData_asU8()).length&&t.writeBytes(7,n),0!==(n=e.getType())&&t.writeEnum(20,n)},proto.FileData.Type={BEGIN:0,IMAGE:1,VIDEO:2,AUDIO:3,DOC:4},proto.FileData.prototype.getName=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.FileData.prototype.setName=function(e){return r.Message.setProto3StringField(this,1,e)},proto.FileData.prototype.getSize=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.FileData.prototype.setSize=function(e){return r.Message.setProto3IntField(this,2,e)},proto.FileData.prototype.getCreatetime=function(){return r.Message.getFieldWithDefault(this,3,0)},proto.FileData.prototype.setCreatetime=function(e){return r.Message.setProto3IntField(this,3,e)},proto.FileData.prototype.getModifytime=function(){return r.Message.getFieldWithDefault(this,4,0)},proto.FileData.prototype.setModifytime=function(e){return r.Message.setProto3IntField(this,4,e)},proto.FileData.prototype.getCurrentpart=function(){return r.Message.getFieldWithDefault(this,5,0)},proto.FileData.prototype.setCurrentpart=function(e){return r.Message.setProto3IntField(this,5,e)},proto.FileData.prototype.getTotalpart=function(){return r.Message.getFieldWithDefault(this,6,0)},proto.FileData.prototype.setTotalpart=function(e){return r.Message.setProto3IntField(this,6,e)},proto.FileData.prototype.getData=function(){return r.Message.getFieldWithDefault(this,7,"")},proto.FileData.prototype.getData_asB64=function(){return r.Message.bytesAsB64(this.getData())},proto.FileData.prototype.getData_asU8=function(){return r.Message.bytesAsU8(this.getData())},proto.FileData.prototype.setData=function(e){return r.Message.setProto3BytesField(this,7,e)},proto.FileData.prototype.getType=function(){return r.Message.getFieldWithDefault(this,20,0)},proto.FileData.prototype.setType=function(e){return r.Message.setProto3EnumField(this,20,e)},r.Message.GENERATE_TO_OBJECT&&(proto.TxtData.prototype.toObject=function(e){return proto.TxtData.toObject(e,this)},proto.TxtData.toObject=function(e,t){var n={data:r.Message.getFieldWithDefault(t,1,""),size:r.Message.getFieldWithDefault(t,2,0)};return e&&(n.$jspbMessageInstance=t),n}),proto.TxtData.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.TxtData;return proto.TxtData.deserializeBinaryFromReader(t,e)},proto.TxtData.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setData(n);break;case 2:n=t.readUint64(),e.setSize(n);break;default:t.skipField()}return e},proto.TxtData.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.TxtData.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.TxtData.serializeBinaryToWriter=function(e,t){var n;0<(n=e.getData()).length&&t.writeString(1,n),0!==(n=e.getSize())&&t.writeUint64(2,n)},proto.TxtData.prototype.getData=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.TxtData.prototype.setData=function(e){return r.Message.setProto3StringField(this,1,e)},proto.TxtData.prototype.getSize=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.TxtData.prototype.setSize=function(e){return r.Message.setProto3IntField(this,2,e)},r.Message.GENERATE_TO_OBJECT&&(proto.JsonData.prototype.toObject=function(e){return proto.JsonData.toObject(e,this)},proto.JsonData.toObject=function(e,t){var n={data:r.Message.getFieldWithDefault(t,1,""),size:r.Message.getFieldWithDefault(t,2,0),type:r.Message.getFieldWithDefault(t,20,0)};return e&&(n.$jspbMessageInstance=t),n}),proto.JsonData.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.JsonData;return proto.JsonData.deserializeBinaryFromReader(t,e)},proto.JsonData.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readString();e.setData(n);break;case 2:n=t.readUint64(),e.setSize(n);break;case 20:n=t.readEnum(),e.setType(n);break;default:t.skipField()}return e},proto.JsonData.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.JsonData.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.JsonData.serializeBinaryToWriter=function(e,t){var n;0<(n=e.getData()).length&&t.writeString(1,n),0!==(n=e.getSize())&&t.writeUint64(2,n),0!==(n=e.getType())&&t.writeEnum(20,n)},proto.JsonData.Type={BEGIN:0,OPENAUDIO:1,OPENVIBRATE:2,DIALPHONE:3,SENDSMS:4,SENDEMAIL:5,SENDEMAIL2:6},proto.JsonData.prototype.getData=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.JsonData.prototype.setData=function(e){return r.Message.setProto3StringField(this,1,e)},proto.JsonData.prototype.getSize=function(){return r.Message.getFieldWithDefault(this,2,0)},proto.JsonData.prototype.setSize=function(e){return r.Message.setProto3IntField(this,2,e)},proto.JsonData.prototype.getType=function(){return r.Message.getFieldWithDefault(this,20,0)},proto.JsonData.prototype.setType=function(e){return r.Message.setProto3EnumField(this,20,e)},r.Message.GENERATE_TO_OBJECT&&(proto.PipeTransData.prototype.toObject=function(e){return proto.PipeTransData.toObject(e,this)},proto.PipeTransData.toObject=function(e,t){var n={transtype:r.Message.getFieldWithDefault(t,1,0),filedata:(n=t.getFiledata())&&proto.FileData.toObject(e,n),txtdata:(n=t.getTxtdata())&&proto.TxtData.toObject(e,n),jsondata:(n=t.getJsondata())&&proto.JsonData.toObject(e,n)};return e&&(n.$jspbMessageInstance=t),n}),proto.PipeTransData.deserializeBinary=function(e){e=new r.BinaryReader(e);var t=new proto.PipeTransData;return proto.PipeTransData.deserializeBinaryFromReader(t,e)},proto.PipeTransData.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var n=t.readEnum();e.setTranstype(n);break;case 2:n=new proto.FileData,t.readMessage(n,proto.FileData.deserializeBinaryFromReader),e.setFiledata(n);break;case 3:n=new proto.TxtData,t.readMessage(n,proto.TxtData.deserializeBinaryFromReader),e.setTxtdata(n);break;case 4:n=new proto.JsonData,t.readMessage(n,proto.JsonData.deserializeBinaryFromReader),e.setJsondata(n);break;default:t.skipField()}return e},proto.PipeTransData.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.PipeTransData.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.PipeTransData.serializeBinaryToWriter=function(e,t){var n;0!==(n=e.getTranstype())&&t.writeEnum(1,n),null!=(n=e.getFiledata())&&t.writeMessage(2,n,proto.FileData.serializeBinaryToWriter),null!=(n=e.getTxtdata())&&t.writeMessage(3,n,proto.TxtData.serializeBinaryToWriter),null!=(n=e.getJsondata())&&t.writeMessage(4,n,proto.JsonData.serializeBinaryToWriter)},proto.PipeTransData.TransType={BEGIN:0,FILE:1,TXT:2,JSON:3},proto.PipeTransData.prototype.getTranstype=function(){return r.Message.getFieldWithDefault(this,1,0)},proto.PipeTransData.prototype.setTranstype=function(e){return r.Message.setProto3EnumField(this,1,e)},proto.PipeTransData.prototype.getFiledata=function(){return r.Message.getWrapperField(this,proto.FileData,2)},proto.PipeTransData.prototype.setFiledata=function(e){return r.Message.setWrapperField(this,2,e)},proto.PipeTransData.prototype.clearFiledata=function(){return this.setFiledata(void 0)},proto.PipeTransData.prototype.hasFiledata=function(){return null!=r.Message.getField(this,2)},proto.PipeTransData.prototype.getTxtdata=function(){return r.Message.getWrapperField(this,proto.TxtData,3)},proto.PipeTransData.prototype.setTxtdata=function(e){return r.Message.setWrapperField(this,3,e)},proto.PipeTransData.prototype.clearTxtdata=function(){return this.setTxtdata(void 0)},proto.PipeTransData.prototype.hasTxtdata=function(){return null!=r.Message.getField(this,3)},proto.PipeTransData.prototype.getJsondata=function(){return r.Message.getWrapperField(this,proto.JsonData,4)},proto.PipeTransData.prototype.setJsondata=function(e){return r.Message.setWrapperField(this,4,e)},proto.PipeTransData.prototype.clearJsondata=function(){return this.setJsondata(void 0)},proto.PipeTransData.prototype.hasJsondata=function(){return null!=r.Message.getField(this,4)},e.object.extend(n,proto)},{"google-protobuf":1}]},{},[4,2,3,5])},565:function(e,t,n){var r;!function(){"use strict";function o(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function i(e,t,n,r,i,a){return o((a=o(o(t,e),o(r,a)))<<i|a>>>32-i,n)}function a(e,t,n,r,o,a,s){return i(t&n|~t&r,e,t,o,a,s)}function s(e,t,n,r,o,a,s){return i(t&r|n&~r,e,t,o,a,s)}function c(e,t,n,r,o,a,s){return i(t^n^r,e,t,o,a,s)}function u(e,t,n,r,o,a,s){return i(n^(t|~r),e,t,o,a,s)}function l(e,t){var n,r,i,l;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var p=1732584193,d=-271733879,h=-1732584194,f=271733878,g=0;g<e.length;g+=16)p=a(n=p,r=d,i=h,l=f,e[g],7,-680876936),f=a(f,p,d,h,e[g+1],12,-389564586),h=a(h,f,p,d,e[g+2],17,606105819),d=a(d,h,f,p,e[g+3],22,-1044525330),p=a(p,d,h,f,e[g+4],7,-176418897),f=a(f,p,d,h,e[g+5],12,1200080426),h=a(h,f,p,d,e[g+6],17,-1473231341),d=a(d,h,f,p,e[g+7],22,-45705983),p=a(p,d,h,f,e[g+8],7,1770035416),f=a(f,p,d,h,e[g+9],12,-1958414417),h=a(h,f,p,d,e[g+10],17,-42063),d=a(d,h,f,p,e[g+11],22,-1990404162),p=a(p,d,h,f,e[g+12],7,1804603682),f=a(f,p,d,h,e[g+13],12,-40341101),h=a(h,f,p,d,e[g+14],17,-1502002290),p=s(p,d=a(d,h,f,p,e[g+15],22,1236535329),h,f,e[g+1],5,-165796510),f=s(f,p,d,h,e[g+6],9,-1069501632),h=s(h,f,p,d,e[g+11],14,643717713),d=s(d,h,f,p,e[g],20,-373897302),p=s(p,d,h,f,e[g+5],5,-701558691),f=s(f,p,d,h,e[g+10],9,38016083),h=s(h,f,p,d,e[g+15],14,-660478335),d=s(d,h,f,p,e[g+4],20,-405537848),p=s(p,d,h,f,e[g+9],5,568446438),f=s(f,p,d,h,e[g+14],9,-1019803690),h=s(h,f,p,d,e[g+3],14,-187363961),d=s(d,h,f,p,e[g+8],20,1163531501),p=s(p,d,h,f,e[g+13],5,-1444681467),f=s(f,p,d,h,e[g+2],9,-51403784),h=s(h,f,p,d,e[g+7],14,1735328473),p=c(p,d=s(d,h,f,p,e[g+12],20,-1926607734),h,f,e[g+5],4,-378558),f=c(f,p,d,h,e[g+8],11,-2022574463),h=c(h,f,p,d,e[g+11],16,1839030562),d=c(d,h,f,p,e[g+14],23,-35309556),p=c(p,d,h,f,e[g+1],4,-1530992060),f=c(f,p,d,h,e[g+4],11,1272893353),h=c(h,f,p,d,e[g+7],16,-155497632),d=c(d,h,f,p,e[g+10],23,-1094730640),p=c(p,d,h,f,e[g+13],4,681279174),f=c(f,p,d,h,e[g],11,-358537222),h=c(h,f,p,d,e[g+3],16,-722521979),d=c(d,h,f,p,e[g+6],23,76029189),p=c(p,d,h,f,e[g+9],4,-640364487),f=c(f,p,d,h,e[g+12],11,-421815835),h=c(h,f,p,d,e[g+15],16,530742520),p=u(p,d=c(d,h,f,p,e[g+2],23,-995338651),h,f,e[g],6,-198630844),f=u(f,p,d,h,e[g+7],10,1126891415),h=u(h,f,p,d,e[g+14],15,-1416354905),d=u(d,h,f,p,e[g+5],21,-57434055),p=u(p,d,h,f,e[g+12],6,1700485571),f=u(f,p,d,h,e[g+3],10,-1894986606),h=u(h,f,p,d,e[g+10],15,-1051523),d=u(d,h,f,p,e[g+1],21,-2054922799),p=u(p,d,h,f,e[g+8],6,1873313359),f=u(f,p,d,h,e[g+15],10,-30611744),h=u(h,f,p,d,e[g+6],15,-1560198380),d=u(d,h,f,p,e[g+13],21,1309151649),p=u(p,d,h,f,e[g+4],6,-145523070),f=u(f,p,d,h,e[g+11],10,-1120210379),h=u(h,f,p,d,e[g+2],15,718787259),d=u(d,h,f,p,e[g+9],21,-343485551),p=o(p,n),d=o(d,r),h=o(h,i),f=o(f,l);return[p,d,h,f]}function p(e){for(var t="",n=32*e.length,r=0;r<n;r+=8)t+=String.fromCharCode(e[r>>5]>>>r%32&255);return t}function d(e){var t=[];for(t[(e.length>>2)-1]=void 0,r=0;r<t.length;r+=1)t[r]=0;for(var n=8*e.length,r=0;r<n;r+=8)t[r>>5]|=(255&e.charCodeAt(r/8))<<r%32;return t}function h(e){for(var t,n="0123456789abcdef",r="",o=0;o<e.length;o+=1)t=e.charCodeAt(o),r+=n.charAt(t>>>4&15)+n.charAt(15&t);return r}function f(e){return unescape(encodeURIComponent(e))}function g(e){return p(l(d(e=f(e)),8*e.length))}function m(e,t){e=f(e),t=f(t);var n,r=d(e),o=[],i=[];for(o[15]=i[15]=void 0,16<r.length&&(r=l(r,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^r[n],i[n]=1549556828^r[n];return t=l(o.concat(d(t)),512+8*t.length),p(l(i.concat(t),640))}function y(e,t,n){return t?n?m(t,e):h(m(t,e)):n?g(e):h(g(e))}void 0!==(r=function(){return y}.call(t,n,t,e))&&(e.exports=r)}()},823:(e,t,n)=>{"use strict";n.d(t,{ph:()=>i,vd:()=>o});var r=n(175);const o=(e,t,n,r=!0,o=2e3)=>new Promise((i,a)=>{var s=e.toUpperCase();if("undefined"!=typeof fetch){const e=new AbortController,d=setTimeout(()=>{e.abort()},o);var c=e=>{clearTimeout(d),"The user aborted a request."===e.message?a({status:504,statusText:"timeout"}):a("Request Failed: "+e.message)},u=t;if("GET"===s)fetch(u,{signal:e.signal}).then(e=>(clearTimeout(d),e.json())).then(e=>{i(e)}).catch(c);else{s=r?{"Content-type":"application/json"}:{};let t=null;if(r)t=JSON.stringify(n);else{var l=new FormData;for(const e in n){var p=n[e];l.append(e,p)}t=l}fetch(u,{method:"POST",headers:s,body:t,signal:e.signal}).then(e=>(clearTimeout(d),e.json())).then(e=>{i(e)}).catch(c)}}}),i=async e=>{e+="/sdk_api/web/getIsp";var t={requestId:(0,r.b2)(),tenantKey:"12346579916134"};return o("POST",e,t,!1,2e3).then(e=>e).catch(e=>{})}},585:(e,t,n)=>{"use strict";n.d(t,{Dl:()=>A,HE:()=>ee,Mk:()=>x,bS:()=>V});var r=n(814),o=n(957),i=n(383),a=n(823),s=n(972),c=n(174),u=n(753);const l=n(565);let p=e=>{},d=(e,t)=>{},h=180;const f="https://paas-sdk-config.vlinkcloud.cn",g="https://paas-sdk-config-ks.vlinkcloud.cn";let m=null,y="",_=null,v=[],O=[],C=[],b=[],S=[],E=[],T=[],P=!1,I=0,D=!1,w={downloadMbps:null,nodeResult:null},M=!1,R={speedStart:0,allTenantNodeListStart:0,getGameNodeListStart:0,pingStart:0},k=null,L=null,G=0;const A=e=>{G=[0,1,2].includes(e)?e:0},N=(e,t="")=>{var{code:n,msg:o,notThrow:i=!1,type:a}=r.ZP[e];s.Ed&&(s.Ed.handlePivotalAction(e,t||o),i||"ERROR"!==a||(N("TOTAL_SPEED_TIME",JSON.stringify({time:parseInt(performance.now()-R.speedStart),uuid:k,msg:(0,u.Z)("speed_over_overall_speed_time"),api_type:L})),d(n,t||o)))},F=(e,t,n)=>{const r=n+`/gameDeployNode/${t}/${e}.html?t=`+Date.now();return new Promise((e,t)=>{(0,a.vd)("GET",r).then(t=>{var r=t.nodeList;e(r),t.version&&t.timestamp&&N("SPEED_LIST_INFO",JSON.stringify({hostUrl:n,type:"gameDeployNode",version:t.version,timestamp:t.timestamp}))}).catch(e=>{t(e)})})},W=e=>{_&&_.lines&&_.lines.length?(v=_.lines.filter(t=>e.includes(t.nodeId)),Y(v)):(0,i.eJ)((t,n)=>{window.weLinkTestReport&&window.weLinkTestReport("Determine whether the node list has a value.",`Waiting ${n} s`),_&&_.lines&&_.lines.length?(v=_.lines.filter(t=>e.includes(t.nodeId)),Y(v),0<R.allTenantNodeListStart&&(N("ALL_TENANT_NODE_TIME",JSON.stringify({time:parseInt(performance.now()-R.allTenantNodeListStart),api_type:"1",msg:(0,u.Z)("speed_end_time_by_tenant")})),R.allTenantNodeListStart=0),clearInterval(t)):3<=n&&(t=(0,u.Z)("speed_obtaining_the_corresponding"),N("AFTER_GET_GN_ALL_NODE_IS_NULL",t))},3,1e3)},x=(e,t,n)=>{V(e,t,n,!0)},V=(e,t,n,r)=>{var a=s.Ed.configs.tenantKey;if(s.rX.tenantId=a,navigator.onLine){C=[],b=[],S=[],E=[],T=[],v=[],O=[],I=0,w={downloadMbps:null,nodeResult:null},h=180,P=!1,D=!1,R={speedStart:0,allTenantNodeListStart:0,getGameNodeListStart:0,pingStart:0},k=null,L=null,r&&(D=!0);let s="",c="";"function"==typeof e?(n=t,t=e):(e=(e=>{var t=e.substring(0,e.length-6);let n=e.substring(e.length-6);return{gameId:n=n.replace(/^0+/g,""),instanceId:t}})(e),s=e.gameId,c=e.instanceId),k=(0,i.Rl)(),L=(r?"getNode":"getNodeList")+(s?"[instanceGameId]":""),N("HANDLE_SPEED_API",JSON.stringify({api_type:L,msg:(0,u.Z)("speed_number_of_speed_measurement"),uuid:k})),R.speedStart=performance.now(),p=t,d=n,G===o.DU.ONLY_BANDWIDTH?U():(M=!0,j(a,s,c,f))}else N("SPEED_OFFLINE")},B=async(e,t,n)=>{t=n+`/gameDeployNodePing/h5/${t}/${e}.html?t=`+Date.now();try{var r,o=await(0,a.vd)("GET",t);return(r="object"==typeof o?o:JSON.parse(o)).version&&r.timestamp&&N("SPEED_LIST_INFO",JSON.stringify({hostUrl:n,type:"gameDeployNodePing",version:r.version,timestamp:r.timestamp})),r.lines}catch(e){throw e}},U=async()=>{let e=_;e||(t="TENANT_ALL_NODE_LIST_"+s.Ed.configs.tenantKey,t=await c.ZP.getItem(t),e=_=JSON.parse(t));var t=["https://speed.vlinkcloud.cn/speedtest/download","https://speed-ks.vlinkcloud.cn/speedtest/download"];e.broadbandUrl&&t.splice(0,1,e.broadbandUrl),e.broadbandUrlBak&&t.splice(1,1,e.broadbandUrlBak),e.broadbandInterval&&(h=e.broadbandInterval);let n=0;var r,o=await c.ZP.getItem("broadbandUrl");o&&(r=await c.ZP.getItem("broadbandUrlTimeStamp"),Date.now()-+r<=1e3*+h)&&(P=!0,n=o===t[0]?1:0),Z(t,n)},j=async(e,t,n,r)=>{let o=_;o||(e=await c.ZP.getItem("TENANT_ALL_NODE_LIST_"+e),o=_=JSON.parse(e)),(async(e,t,n,r)=>{if(t&&n)if(e.isNewSpeed&&"1"===e.isNewSpeed){R.getGameNodeListStart=performance.now(),e=`wl_new_lines_${t}_`+n;try{var o=await B(t,n,r),a=JSON.parse(JSON.stringify(o));v=H(a),Y(v),await c.ZP.setItem(e,v),N("GAMEID_NODE_TIME",JSON.stringify({uuid:k,msg:(0,u.Z)("speed_retrieval_time_by_game"),time:parseInt(performance.now()-R.getGameNodeListStart)}))}catch(e){N("GET_GAME_NODE_LOG",(0,u.Z)("speed_the_main_address",{gameId:t,instanceId:n})),(async(e,t)=>{var n=`wl_new_lines_${e}_`+t;try{var r=await B(e,t,g),o=JSON.parse(JSON.stringify(r));v=H(o),await c.ZP.setItem(n,v),Y(v),N("GAMEID_NODE_TIME",JSON.stringify({uuid:k,msg:(0,u.Z)("speed_retrieval_time_by_game"),time:parseInt(performance.now()-R.getGameNodeListStart)}))}catch(o){N("GET_GAME_NODE_LOG",(0,u.Z)("speed_failed_to_obtain_2",{gameId:e,instanceId:t})),(r=await c.ZP.getItem(n))?(r=JSON.parse(r),v=r,Y(r),N("GAMEID_NODE_TIME",JSON.stringify({uuid:k,msg:(0,u.Z)("speed_retrieval_time_by_game"),time:parseInt(performance.now()-R.getGameNodeListStart)}))):(N("GET_GAME_NODE_FAIL",(0,u.Z)("speed_failed_to_get_2")),N("GAMEID_NODE_TIME",JSON.stringify({uuid:k,msg:(0,u.Z)("speed_retrieval_time_by_game"),time:parseInt(performance.now()-R.getGameNodeListStart)})),Y([]))}})(t,n)}}else{R.getGameNodeListStart=performance.now(),o=`wl_gdn_${t}_`+n;try{var s=await F(t,n,r);await c.ZP.setItem(o,JSON.stringify(s)),N("GAMEID_NODE_TIME",JSON.stringify({uuid:k,msg:(0,u.Z)("speed_retrieval_time_by_game"),time:parseInt(performance.now()-R.getGameNodeListStart)})),W(s)}catch(e){N("GET_GAME_NODE_LOG",(0,u.Z)("speed_failed_to_obtain_3",{gameId:t,instanceId:n})),(async(e,t)=>{var n=`wl_gdn_${e}_`+t;try{var r=await F(e,t,g);N("GAMEID_NODE_TIME",JSON.stringify({uuid:k,msg:(0,u.Z)("speed_retrieval_time_by_game"),time:parseInt(performance.now()-R.getGameNodeListStart)})),await c.ZP.setItem(n,JSON.stringify(r)),W(r)}catch(o){N("GET_GAME_NODE_LOG",(0,u.Z)("speed_failed_to_obtain",{gameId:e,instanceId:t})),(r=await c.ZP.getItem(n))?(r=JSON.parse(r),W(r),N("GAMEID_NODE_TIME",JSON.stringify({uuid:k,msg:(0,u.Z)("speed_retrieval_time_by_game"),time:parseInt(performance.now()-R.getGameNodeListStart)}))):(N("GET_GAME_NODE_FAIL",(0,u.Z)("codes_failed_to_get_2")),N("GAMEID_NODE_TIME",JSON.stringify({uuid:k,msg:(0,u.Z)("speed_retrieval_time_by_game"),time:parseInt(performance.now()-R.getGameNodeListStart)})),W([]))}})(t,n)}}if(!t||!n){const e=()=>{v=H(_.lines),Y(v)};_&&_.lines&&_.lines.length?e():(0,i.eJ)((t,n)=>{window.weLinkTestReport&&window.weLinkTestReport("Failed to initialize node retrieval (calling for speed measurement).",`Wating ${n}s`),_&&_.lines&&_.lines.length?(e(),0<R.allTenantNodeListStart&&(N("ALL_TENANT_NODE_TIME",JSON.stringify({time:parseInt(performance.now()-R.allTenantNodeListStart),api_type:"1",msg:(0,u.Z)("speed_end_time_by_tenant")})),R.allTenantNodeListStart=0),clearInterval(t)):6<=n&&N("SPEED_NO_NODE")},6,1e3)}})(o||{isNewSpeed:"1"},t,n,r)},z=()=>{let e=!1;G===o.DU.ALL&&null!==w.downloadMbps&&null!==w.nodeResult?(p(w),e=!0):G===o.DU.ONLY_BANDWIDTH&&null!==w.downloadMbps?(p({downloadMbps:w.downloadMbps}),e=!0):G===o.DU.ONLY_PING&&null!==w.nodeResult&&(p({nodeResult:w.nodeResult}),e=!0),e&&(G===o.DU.ONLY_BANDWIDTH||O.some(e=>Number(e.pingResult)<500)||N("SPEED_TIMEOUT"),N("TOTAL_SPEED_TIME",JSON.stringify({time:parseInt(performance.now()-R.speedStart),uuid:k,api_type:L,msg:(0,u.Z)("speed_over_overall_speed_time")})))},H=e=>e.reduce((e,t)=>(!t.lineH5Addr||e.length&&e.find(e=>e.lineH5Addr===t.lineH5Addr&&e.nodeId===t.nodeId)||e.push(t),e),[]),Y=e=>{if(0===e.length)N("SPEED_NO_NODE");else{R.pingStart=performance.now();for(let t=0;t<e.length;t++)C.push([]),E.push({name:"socket_"+t,pingIndex:0,index:t}),T.push({name:"socket_"+t,pingTimeoutFlag:0,index:t}),b.push({name:"socket_"+t,totalPongCostMs:0,index:t}),S.push({name:"socket_"+t,pongCount:0,index:t}),K(e[t].lineH5Addr,t)}},K=(e,t)=>{if(e)try{const n=new WebSocket(`wss://${e}/ws`);n.onopen=()=>{(async(e,t)=>{e&&e.readyState==WebSocket.OPEN&&(C[t]=[],E[t].pingIndex=0,b[t].totalPongCostMs=0,S[t].pongCount=0,T[t].pingTimeoutFlag=0,q(e,t))})(n,t)},n.onmessage=e=>{if("string"==typeof(e=e.data)){var r=n,o=t;try{var i,a=JSON.parse(e);void 0!==a.type&&"pong"==a.type&&T[o].pingTimeoutFlag&&(window.clearTimeout(T[o].pingTimeoutFlag),C[o][a.index]&&(i=performance.now()-C[o][a.index],b[o].totalPongCostMs+=i,S[o].pongCount++),5<=S[o].pongCount?(X(o),r.close()):q(r,o))}catch(e){}}},n.onclose=()=>{},n.onerror=e=>{X(t)}}catch(e){}},q=(e,t)=>{var n;5<=E[t].pingIndex||(n={type:"ping",index:E[t].pingIndex,ws_index:t},C[t].push(performance.now()),e&&e.send(JSON.stringify(n)),E[t].pingIndex++,T[t].pingTimeoutFlag&&window.clearTimeout(T[t].pingTimeoutFlag),T[t].pingTimeoutFlag=setTimeout(()=>{5<=E[t].pingIndex?X(t):q(e,t)},500))},X=e=>{var t,n;0<S[e].pongCount?(t=b[e].totalPongCostMs/S[e].pongCount,(n={}).nodeId=v[e].nodeId,n.nodeName=v[e].nodeName,n.pingResult=t.toFixed(2),O.push(n)):I+=1,O.length+I===v.length&&(0===O.length?N("SPEED_TIMEOUT",(0,u.Z)("speed_all_node_failed")):(w.nodeResult=J(O),D&&(w.nodeResult=w.nodeResult.reduce((e,t)=>!e||Number(t.pingResult)<Number(e.pingResult)?t:void 0,null)),N("PING_TIME",JSON.stringify({time:parseInt(performance.now()-R.pingStart),msg:(0,u.Z)("speed_time_for_ping"),uuid:k})),z(),G!==o.DU.ONLY_PING&&U()))},Z=async(e,t=0)=>{if(await c.ZP.setItem("broadbandUrlTimeStamp",Date.now()),e.length){const n=performance.now(),r=new XMLHttpRequest;r.open("GET",e[t]+"?ts="+n,!0),r.responseType="arraybuffer",r.onprogress=function(){},r.onload=async function(o){var a,s,u=r.response;u&&(s=performance.now()-n,u=(8*u.byteLength*1e3/(1048576*s)).toFixed(2),Number(u)||N("SPEED_BANDWIDTH_ZERO"),P&&(s=await c.ZP.getItem("wl_bandWith"),a=await c.ZP.getItem("broadbandUrl"),s=JSON.stringify({bandWidth:u,cdnUrl:e[t],lastBandWidth:s,lastCdnUrl:a}),N("SPEED_CND_SWITCH",s)),await c.ZP.setItem("broadbandUrl",e[t]),await c.ZP.setItem("wl_bandWith",u),w.downloadMbps=u,N("SPEED_BANDWIDTH_END",(0,i.Rl)()),z())},r.send(null),r.onreadystatechange=()=>{r.readyState===XMLHttpRequest.DONE&&r.status,200!==r.status&&N("SPEED_DOWNLOAD_FAIL"),r.readyState===XMLHttpRequest.DONE&&0===r.status&&(t?(w.downloadMbps=0,z()):Z(e,1))}}},J=e=>e.reduce((e,t)=>{var n,r;return e.length&&-1!==(n=e.findIndex(e=>e.nodeId===t.nodeId))?(r=e[n],t.pingResult<=r.pingResult&&e.splice(n,1,t)):e.push(t),e},[]),Q=async(e,t=f)=>{var n=t+`/ping/${l(e+"H5")}.html?t=`+Date.now(),r="TENANT_ALL_NODE_LIST_"+e;try{var o=await(0,a.vd)("GET",n);await c.ZP.setItem(r,JSON.stringify(o)),_=o,0<R.allTenantNodeListStart&&!M&&(N("ALL_TENANT_NODE_TIME",JSON.stringify({time:parseInt(performance.now()-R.allTenantNodeListStart),api_type:"0",msg:(0,u.Z)("speed_end_time_by_tenant")})),R.allTenantNodeListStart=0),o.version&&o.timestamp&&N("SPEED_LIST_INFO",JSON.stringify({hostUrl:t,type:"ping",version:o.version,timestamp:o.timestamp}))}catch(n){t===f?await Q(e,g):(await c.ZP.setItem(r,JSON.stringify({isNewSpeed:"1"})),_={isNewSpeed:"1"},0<R.allTenantNodeListStart&&(N("ALL_TENANT_NODE_TIME",JSON.stringify({time:parseInt(performance.now()-R.allTenantNodeListStart),api_type:"2",msg:(0,u.Z)("speed_end_time_by_tenant")})),R.allTenantNodeListStart=0))}},$=()=>{var e=(0,i.tV)("visible","Visible"),t=(0,i.tV)("visibilityState","VisibilityState");document[t]===e&&ee()},ee=e=>{R.allTenantNodeListStart=performance.now(),Q(e||y),m&&clearInterval(m),m=setInterval(()=>{Q(e||y)},3e5);var t=(0,i.qQ)();y&&e&&document.removeEventListener(t,$),e&&(y=e,document.addEventListener(t,$))}},174:(e,t,n)=>{"use strict";n.d(t,{lo:()=>a,ZP:()=>u});const r=e=>(e=window.btoa(encodeURIComponent(e)).split("").reverse()).splice(-1).concat(e).join(""),o=e=>(e=(e=e.split("")).concat(e.splice(0,1)).reverse().join(""),decodeURIComponent(window.atob(e))),i="kvTable",a="logTable";let s=null;(n=(window.indexedDB||window.webikitIndexedDB||window.mozIndexedDB||window.msIndexedDB).open("welink_cloud_game_sdk",1)).onupgradeneeded=e=>{(e=e.target.result).objectStoreNames.contains(i)||e.createObjectStore(i,{keyPath:"key"}),e.objectStoreNames.contains(a)||e.createObjectStore(a,{keyPath:"key"})},n.onerror=e=>{},n.onsuccess=e=>{(s=e.target.result).onerror=e=>{s=null},s.onclose=e=>{s=null}};const c=(e,t="readwrite")=>s.transaction([e],t).objectStore(e),u={getAll:(e=i)=>new Promise((t,n)=>{s||t([]);var r=c(e).getAll();r.onsuccess=e=>{e=e.target.result.map(e=>(e.value=o(e.value),e)),t(e)},r.onerror=()=>{n("Error getItem")}}),getItem:(e,t=i)=>new Promise((n,i)=>{s||n((e=>{if(e=r(e),!(t=localStorage.getItem(e)))return null;var t=o(t),{time:t,expires:n=0,expiresTime:i=0,value:a}=JSON.parse(t);if(i||n){var s=(new Date).getTime();if(i&&i<s)return localStorage.removeItem(e),null;if(n&&n+t<s)return localStorage.removeItem(e),null}return a||null})(e));var a=r(e);(a=c(t).get(a)).onsuccess=e=>{e.target.result?(e=o(e.target.result.value),n(e)):n(null)},a.onerror=()=>{i("Error getItem")}}),setItem:(e,t,n=i)=>new Promise((o,i)=>{s||o(((e,t,n)=>{var{expires:n=0,expiresTime:o=0}={},i=(new Date).getTime();e=r(e),i={time:i,expires:n,expiresTime:o,value:"string"==typeof t?t:JSON.stringify(t)},localStorage.setItem(e,r(JSON.stringify(i)))})(e,t));var a=r(e),u="string"==typeof t?t:JSON.stringify(t);(a=c(n).put({key:a,value:r(u)})).onsuccess=e=>{o(e.target.result.value)},a.onerror=()=>{i("Error setItem")}}),removeItem:(e,t=i)=>new Promise((n,o)=>{s||n((i=r(i=e),void localStorage.removeItem(i)));var i=r(e);(i=c(t).delete(i)).onsuccess=e=>{n(null)},i.onerror=()=>{o("Error removeItem")}})}},383:(e,t,n)=>{"use strict";n.d(t,{$9:()=>s,CE:()=>u,E8:()=>h,Eb:()=>a,Rl:()=>l,ag:()=>o,eJ:()=>y,p:()=>f,qL:()=>c,qQ:()=>m,sy:()=>i,tV:()=>g});var r=n(753);const o=()=>{var e=navigator.userAgent;let t="";return/Android|Adr\s|Linux\sU|U\sLinux/i.test(e)?t="ANDROID":/iPad/i.test(e)?t="IPAD":/iPh(one)?\sOS|iOS/i.test(e)?t="IOS":/Macintosh|Mac\s?OS/i.test(e)?t="MAC":/Windows/i.test(e)?t="WINDOWS":/Linux/i.test(e)&&(t="LINUX"),t},i=e=>(new TextEncoder).encode(e),a=()=>{var e,t=(()=>{try{var e=(()=>{try{return navigator.userAgent.toLowerCase().match(/os (.*?) like mac os/)[1]}catch(e){return null}})();return e?Number(e.split("_")[0]):null}catch(e){return null}})();return(/MicroMessenger/i.test(window.navigator.userAgent)||-1<(e=navigator.userAgent.toLowerCase()).indexOf("applewebkit")&&-1<e.indexOf("mobile")&&-1<e.indexOf("safari")&&-1===e.indexOf("linux")&&-1===e.indexOf("android")&&-1===e.indexOf("crios")&&-1===e.indexOf("chrome")&&-1===e.indexOf("firefox")&&-1===e.indexOf("fxios")&&-1===e.indexOf("edg")&&-1===e.indexOf("edgios"))&&t&&t<13},s=()=>{var e=document.getElementById("WelinkGameAudio");e&&e.muted&&(e.muted=!1)},c=()=>{return e=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),t=window.screen.width,e&&t<1280?"mobile":"pc";var e,t},u=(t=navigator.userAgent.toLocaleLowerCase().match(/chrome\/([\d.]+)/))?parseInt(t[1],10):null,l=()=>{let e=(new Date).getTime();return(window.performance&&"function"==typeof window.performance.now&&(e+=performance.now()),"wxxxxxxx-exxx-lxxx-ixxx-nxxxkxxxxxxx".replace(/[xy]/g,t=>{var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)})).toUpperCase()},p=e=>{try{return parseFloat(e.toFixed(2))}catch(t){return e}},d=e=>{let t=0,n=-1/0,r=1/0;for(let o=0;o<e.length;o++)t+=e[o],n=Math.max(n,e[o]),r=Math.min(r,e[o]);var o=t/e.length;let i=0;for(let t=0;t<e.length;t++)i+=Math.pow(e[t]-o,2);var a=Math.sqrt(i/e.length);return{avg:p(o),max:p(n),stdDev:p(a)}},h=e=>{if(!e.length)return null;const t=[],n=[],r=[],o=(e.forEach(e=>{t.push(e.netWorkDelay),n.push(e.packetLossRate),null!==e.udp&&r.push(e.udp||0)}),{});var{avg:e,max:i,stdDev:a}=d(t),{avg:e,max:i,stdDev:a}=(o.RMAX=i,o["1M_ARTT"]=e,o.RSD=a,r.length&&(({avg:i,max:e,stdDev:a}=d(r)),o.RMAX=e,o["1M_ARTT"]=i,o.RSD=a),d(n));return o.PMAX=i,o["1M_APLR"]=e,o.PSD=a,o},f=(e,t)=>{var{rtt_weight:t,loss_weight:n,rtt_max:o,loss_max:i}=t,a=o||500,s=t||.6,c=i||30,u=n||.4;let l=0;var p=[];for(let t=0;t<e.length;t++){var{netWorkDelay:d,udp:f,packetLossRate:g}=e[t],f=(a-Math.min(a,f||d))/a*s+(c-Math.min(c,g))/c*u;p.push(f),l+=f}var o=parseInt(l/e.length*100)/100,i=(0,r.Z)("utils_unstable_network_conditions"),n=(0,r.Z)("utils_the_network_condition"),m=(0,r.Z)("utils_the_network_is");return{value:o,desc:o<=.3?i:o<=.7?n:m,...t=h(e)}},g=(e,t)=>{if(e in document)return e;var n=["webkit","moz","ms","o"];for(let e=0;e<n.length;e++)if(""+n[e]+t in document)return""+n[e]+t;return""},m=()=>g("hidden","Hidden").replace(/[H|h]idden/,"visibilitychange"),y=(e,t,n=1e3)=>{let r=0;const o=setInterval(()=>{r+=1,e(o,r),r>=t&&clearInterval(o)},n)}},753:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});let r={};r={codes_data_channel_open:"数据通道已打开！",codes_data_channel_closed:"数据通道已关闭！",codes_data_channel_abnormal:"数据通道已异常！",codes_requested_the_server:"已向服务端申请启动游戏",codes_the_server_is:"服务端准备开始游戏！",codes_the_server_is_2:"服务端正在处理存档",codes_start_the_game:"服务端启动游戏",codes_the_server_game:"服务端游戏启动中，请稍等",codes_failed_to_switch:"切换码率失败, 因为切换值不存在",codes_the_browser_no:"浏览器已不支持 keyCode，且没有通过 code 从映射表中找到相应的 keyCode",codes_the_game_starts:"游戏启动成功,收到远程画面",codes_the_first_frame:"首帧音频数据接收成功",codes_initialization_parameter_parsing:"初始化参数解析失败",codes_failed_to_get:"获取运营商失败",codes_server_connection_failed:"服务器连接失败",codes_server_connection_successful:"服务器连接成功",codes_server_connection_timed:"服务器连接超时",codes_call_exitgame_to:"调用 exitGame 退出游戏",codes_the_signaling_channel:"信令通道创建成功",codes_signaling_channel_connection:"信令通道连接失败",codes_remote_management_server:"远程管理服务器允许请求游戏",codes_the_game_server:"游戏服务器连接断开，可尝试重连",codes_game_disconnected_reconnecting:"游戏断开，正在执行重连",codes_reconnection_failed:"重连失败",codes_reconnected_successful:"重连成功",codes_the_network_delay:"所有节点网络延迟大于500ms",codes_no_speed_test:"没有可用测速节点",codes_no_network_failed:"无网络，获取节点列表失败",codes_failed_to_get_2:"获取节点列表失败",codes_switch_speed_cdn:"切换测速cdn",codes_non200_status_code:"在测速下载文件时非200状态码",codes_report_status_code:"在测速时出现异常上报状态码和异常信息",codes_the_bandwidth_testis:"测带宽完毕且未发生异常，但是带宽是0",codes_speed_test_start:"测速开始",codes_network_bandwidth_is:"网络带宽小于0",codes_network_delay_is:"网络延迟小于0",codes_both_master_and:"主备以及缓存均失败",codes_reconnection_failure_due:"长时间断网导致重连失败",AudioOutbound_user_refuses_to:"用户拒绝提供信息",AudioOutbound_the_browser_does:"浏览器不支持硬件设备",AudioOutbound_unable_to_find:"无法发现指定硬件设备",AudioOutbound_unable_to_turn:"无法打开麦克风。异常信息:",AudioOutbound_unable_to_obtain:"非 https 下无法获取权限",function_touch_screen:"触屏",function_scheduling:"调度",function_direct_connection:"直连",function_delay_test:"测延时",function_chinese:"中文",function_mouse:"鼠标",function_controller:"手柄",function_main_channel:"主通道",GameDataManager_data_received:"确认接收到数据",GameDataManager_the_amount_of:"发送数据量过大:",GameDataManager_data:"数据",Sensor_user_denied_authorization:"用户拒绝授权",Sensor_ios_authorization_failed:"iOS授权失败",Sensor_your_browser_does:"您的浏览器不支持传感器",Sensor_authorization_failed:"授权失败",StatisticsLog_statistics_are_reported:"每一秒统计一次的上报",WeLinkInitGames_the_xxxx_element:"页面中 {{id}} 元素不存在",WeLinkInitGames_the_initialization_id:"初始化id不存在",WeLinkInitGames_initialize_videowidth_does:"初始化videoWidth不存在",WeLinkInitGames_initialize_videoheight_does:"初始化videoHeight不存在",WeLinkInitGames_the_initial_tenantkey:"初始化tenantKey不存在",WeLinkInitGames_the_initial_socketUrl:"初始化socketUrl不存在",WeLinkInitGames_please_set_the:"请设置初始化配置",WeLinkInitGames_invalid_launch_game:"无效的启动游戏资源信息！",WeLinkInitGames_launch_game_port:"启动游戏端口不存在",WeLinkInitGames_user_voluntarily_logs:"用户主动退出",WeLinkInitGames_delay_test:"测延时",WeLinkInitGames_the_current_browser:"当前浏览器不支持 H264 播放",WeLinkInitGames_server_connection_failed:"服务端连接失败 - setRemoteDescription 失败",WeLinkInitGames_startup_progress:"启动进度",WeLinkInitGames_ready_to_play:"准备开始游戏",WeLinkInitGames_the_server_is:"服务端正在处理存档",WeLinkInitGames_games_start:"游戏开始",WeLinkInitGames_kick_offline:"踢下线",WeLinkInitGames_backtest_delay:"回测延时",WeLinkInitGames_controller_vibration:"手柄震动",WeLinkInitGames_data_from_the:"来自游戏的数据",WeLinkInitGames_the_connection_to:"游戏服务器连接断开，可尝试重连 - 长时间收不到心跳",WeLinkInitGames_start_the_game:"启动游戏auth不存在",WeLinkInitGames_start_the_game_2:"启动游戏packedData不存在",WeLinkInitGames_start_the_game_3:"启动游戏verify不存在",WeLinkInitGames_unable_to_create:"无法创建 peerConnection",WeLinkInitGames_server_connection_failed_2:"服务器连接失败 - 获取 answer 失败",WeLinkInitGames_reconnection_timed_out:"重连超时",WeLinkInitGames_switched_to_background:"完全切到后台（非onPause）",WeLinkInitGames_switched_to_foreground:"切到前台",WeLinkInitGames_reconnection_successful:"重连成功",WeLinkInitGames_disconnected:"断开连接",speed_failed_to_obtain:"备地址获取{{gameId}}-{{instanceId}}对应关系失败",speed_failed_to_get:"获取节点列表失败",speed_failed_to_obtain_2:"备地址获取{{gameId}}-{{instanceId}}新测速列表失败",speed_failed_to_get_2:"获取新测速列表失败",speed_the_main_address:"主地址获取{{gameId}}-{{instanceId}}新测速列表失败",speed_obtaining_the_corresponding:"获取游戏节点点对应关系成功，但是全量节点获取失败",speed_failed_to_obtain_3:"主地址获取{{gameId}}-{{instanceId}}对应关系失败",speed_over_overall_speed_time:"整体测速时间（获取测速列表/获取最优节点）",speed_end_time_by_tenant:"按租户拉取节点结束时间",speed_number_of_speed_measurement:"调测速接口打点（测速统计次数）",speed_retrieval_time_by_game:"按游戏拉取节点时间",speed_all_node_failed:"所有节点测速失败.",speed_time_for_ping:"节点测速ping的时间",utils_unstable_network_conditions:"网络状况不稳定，可能会影响游戏体验",utils_the_network_condition:"网络状况一般，建议选择更低清晰度",utils_the_network_is:"网络状况良好，可以流畅地玩各种云游戏",compatibleKeyCode_no_corresponding_keycode:"没有找到相应的 keyCode"};const o=(e,t)=>{try{e=e.trim();var n,o=r[e];return t&&"object"==typeof t?(n=/{{(.*?)}}/g,o.replace(n,(e,n)=>t[n]||"")):o||e}catch(t){return e}}},857:(e,t,n)=>{"use strict";n.d(t,{I:()=>o,k:()=>r});const r={US:"00000409",FRENCH:"0000040c",JAPANESE:"00000411"},o={"00000401":"Arabic (101)","00000402":"Bulgarian (Typewriter)","00000404":"Chinese (Traditional) - US Keyboard","00000405":"Czech","00000406":"Danish","00000407":"German","00000408":"Greek","00000409":"US","0000040a":"Spanish","0000040b":"Finnish","0000040c":"French","0000040d":"Hebrew","0000040e":"Hungarian","0000040f":"Icelandic","00000410":"Italian","00000411":"Japanese","00000412":"Korean","00000413":"Dutch","00000414":"Norwegian","00000415":"Polish (Programmers)","00000416":"Portuguese (Brazilian ABNT)","00000418":"Romanian (Legacy)","00000419":"Russian","0000041a":"Standard","0000041b":"Slovak","0000041c":"Albanian","0000041d":"Swedish","0000041e":"Thai Kedmanee","0000041f":"Turkish Q","00000420":"Urdu","00000422":"Ukrainian","00000423":"Belarusian","00000424":"Slovenian","00000425":"Estonian","00000426":"Latvian","00000427":"Lithuanian IBM","00000428":"Tajik","00000429":"Persian","0000042a":"Vietnamese","0000042b":"Armenian Eastern","0000042c":"Azeri Latin","0000042e":"Sorbian Standard (Legacy)","0000042f":"Macedonian (FYROM)","00000432":"Setswana","00000437":"Georgian","00000438":"Faeroese","00000439":"Devanagari - INSCRIPT","0000043a":"Maltese 47-Key","0000043b":"Norwegian with Sami","0000043f":"Kazakh","00000440":"Kyrgyz Cyrillic","00000442":"Turkmen","00000444":"Tatar (Legacy)","00000445":"Bengali","00000446":"Punjabi","00000447":"Gujarati","00000448":"Oriya","00000449":"Tamil","0000044a":"Telugu","0000044b":"Kannada","0000044c":"Malayalam","0000044d":"Assamese - INSCRIPT","0000044e":"Marathi","00000450":"Mongolian Cyrillic","00000451":"Tibetan (PRC)","00000452":"United Kingdom Extended","00000453":"Khmer","00000454":"Lao","0000045a":"Syriac","0000045b":"Sinhala","0000045c":"Cherokee Nation","00000461":"Nepali","00000463":"Pashto (Afghanistan)","00000465":"Divehi Phonetic","00000468":"Hausa","0000046a":"Yoruba","0000046c":"Sesotho sa Leboa","0000046d":"Bashkir","0000046e":"Luxembourgish","0000046f":"Greenlandic","00000470":"Igbo","00000474":"Guarani","00000475":"Hawaiian","00000480":"Uyghur (Legacy)","00000481":"Maori","00000485":"Sakha","00000488":"Wolof","00000492":"Central Kurdish","00000804":"Chinese (Simplified) - US Keyboard","00000807":"Swiss German","00000809":"United Kingdom","0000080a":"Latin American","0000080c":"Belgian French","00000813":"Belgian (Period)","00000816":"Portuguese","0000081a":"Serbian (Latin)","0000082c":"Azeri Cyrillic","0000083b":"Swedish with Sami","00000843":"Uzbek Cyrillic","00000850":"Mongolian (Mongolian Script)","0000085d":"Inuktitut - Latin","0000085f":"Central Atlas Tamazight","00000c04":"Chinese (Traditional Hong Kong S.A.R.) - US Keyboard","00000c0c":"Canadian French (Legacy)","00000c1a":"Serbian (Cyrillic)","00000C51":"Dzongkha","00001004":"Chinese (Simplified Singapore) - US Keyboard","00001009":"Canadian French","0000100c":"Swiss French","0000105f":"Tifinagh (Basic)","00001404":"Chinese (Traditional Macao S.A.R.) - US Keyboard","00001809":"Irish","0000201a":"Bosnian (Cyrillic)","00004009":"India","00010401":"Arabic (102)","00010402":"Bulgarian (Latin)","00010405":"Czech (QWERTY)","00010407":"German (IBM)","00010408":"Greek (220)","00010409":"United States-Dvorak","0001040a":"Spanish Variation","0001040e":"Hungarian 101-key","00010410":"Italian (142)","00010415":"Polish (214)","00010416":"Portuguese (Brazilian ABNT2)","00010418":"Romanian (Standard)","00010419":"Russian (Typewriter)","0001041b":"Slovak (QWERTY)","0001041e":"Thai Pattachote","0001041f":"Turkish F","00010426":"Latvian (QWERTY)","00010427":"Lithuanian","0001042b":"Armenian Western","0001042c":"Azerbaijani (Standard)","0001042e":"Sorbian Extended","0001042f":"Macedonian (FYROM) - Standard","00010437":"Georgian (QWERTY)","00010439":"Hindi Traditional","0001043a":"Maltese 48-Key","0001043b":"Sami Extended Norway","00010444":"Tatar","00010445":"Bengali - INSCRIPT (Legacy)","00010451":"Tibetan (PRC) - Updated","00010453":"Khmer (NIDA)","0001045a":"Syriac Phonetic","0001045b":"Sinhala - Wij 9","0001045c":"Cherokee Nation Phonetic","0001045d":"Inuktitut - Naqittaut","00010465":"Divehi Typewriter","00010480":"Uyghur","0001080c":"Belgian (Comma)","0001083b":"Finnish with Sami","00010850":"Traditional Mongolian (Standard)","00010c00":"Myanmar (Phonetic order)","00011009":"Canadian Multilingual Standard","0001105f":"Tifinagh (Full)","00011809":"Gaelic","00020401":"Arabic (102) AZERTY","00020402":"Bulgarian (Phonetic)","00020405":"Czech Programmers","00020408":"Greek (319)","00020409":"United States-International","0002040d":"Hebrew (Standard)","00020418":"Romanian (Programmers)","00020419":"Russian - Mnemonic","0002041e":"Thai Kedmanee (non-ShiftLock)","00020422":"Ukrainian (Enhanced)","00020426":"Latvian (Standard)","00020427":"Lithuanian Standard","0002042b":"Armenian Phonetic","0002042e":"Sorbian Standard","00020437":"Georgian (Ergonomic)","00020445":"Bengali - INSCRIPT","00020449":"Tamil 99","0002083b":"Sami Extended Finland-Sweden","00020c00":"New Tai Lue","00030402":"Bulgarian","00030408":"Greek (220) Latin","00030409":"United States-Dvorak for left hand","0003041e":"Thai Pattachote (non-ShiftLock)","0003042b":"Armenian Typewriter","00030437":"Georgian Ministry of Education and Science Schools","00030c00":"Tai Le","00040402":"Bulgarian (Phonetic Traditional)","00040408":"Greek (319) Latin","00040409":"United States-Dvorak for right hand","00040437":"Georgian (Old Alphabets)","00040c00":"Ogham","00050408":"Greek Latin","00050409":"US English Table for IBM Arabic 238_L","00050429":"Persian (Standard)","00060408":"Greek Polytonic","00070c00":"Lisu (Basic)","00080c00":"Lisu (Standard)","00090c00":"N’Ko","000a0c00":"Phags-pa","000b0c00":"Buginese","000c0c00":"Gothic","000d0c00":"Ol Chiki","000e0c00":"Osmanya","000f0c00":"Old Italic","00100c00":"Sora","00110c00":"Javanese","00120c00":"Futhark","00130c00":"Myanmar (Visual Order)","00140c00":"ADLaM","00150c00":"Osage"}},369:(e,t,n)=>{"use strict";n.r(t),n.d(t,{changeOperationType:()=>A,handleTouchEvents:()=>N,resetMousePosition:()=>F});var r=n(175);const o=(e,t)=>{let n="zoom";var r,o,a;return 1<e.length&&1<t.length&&([e,r]=e,[t,o]=t,a={pageX:r.pageX-(o.pageX-t.pageX),pageY:r.pageY-(o.pageY-t.pageY)},a=((t=i(e,t))*t+(r=i(r,o))*r-(o=i(e,a))*o)/(2*t*r),n=(e=Math.round(Math.acos(a)/(Math.PI/180)))<=90||!e?"drag":"zoom"),n},i=(e,t)=>{var n=(t&&t.pageX||0)-(e&&e.pageX||0);return t=(t&&t.pageY||0)-(e&&e.pageY||0),Math.sqrt(n*n+t*t)},a=(e,t)=>i(e[0],e[1])<i(t[0],t[1]),s=e=>{var t=[];for(let n=0;n<e.length;n++)t.push(e.item(n));return t},c=e=>new TouchEvent(e.type,e),u=2011;let l,p=null,d=!1,h=!1;const f=(e,t)=>{var n={x:0,y:0},o=(e&&(n.x=e.offsetX,n.y=e.offsetY),e={width:t?t.videoWidth:0,height:t?t.videoHeight:0},{width:t?t.gameWidth:0,height:t?t.gameHeight:0});return(0,r.nT)(n,e,o,t.rotate)},g=(e,t,n,o)=>{var{left:i,top:a}=document.getElementById("WelinkGameVideo").getBoundingClientRect();let s;switch(t=t===u?"OP_STATE_DOWN":"OP_STATE_UP",n){case 0:s="OP_MOUSE_BUTTON_LEFT";break;case 1:s="OP_MOUSE_BUTTON_MIDDLE";break;case 2:s="OP_MOUSE_BUTTON_RIGHT"}n=f({...e,offsetX:e.pageX-i,offsetY:e.pageY-a},o),(0,r.LB)(n,s,t)},m=(e,t)=>{var{left:n,top:o}=document.getElementById("WelinkGameVideo").getBoundingClientRect(),o=(n={...e,offsetX:e.pageX-n,offsetY:e.pageY-o},e=f(n,t),(o=new proto.CG.PROTO.CoordinatePos).setX(e.x),o.setY(e.y),(n=new proto.CG.PROTO.CoordinatePos).setX(e.x),n.setY(e.y),(t=new proto.CG.PROTO.OneInputOPData).setOpDevice(proto.CG.PROTO.OpMappingDevice.OP_MAPPING_DEV_MOUSE),t.setXinputUserIndex(0),t.setInputOp(proto.CG.PROTO.OneInputOPData.InputOP.OP_MOUSE_MOV),t.setInputState(proto.CG.PROTO.OneInputOPData.InputState.OP_STATE_DEFAULT),t.setCursorPos(o),t.setMousePos(n),(e=new proto.CG.PROTO.InputOPData).setOpListList([t]),(0,r.sO)(e.serializeBinary(),"CtrlMsg"));(0,r.LU)(o,"mousemove")},y=()=>{d=!1,h=!1},_={onTouchStart:(e,t)=>{var n;1===e.targetTouches.length&&(n=e.changedTouches.item(0),h=!0,m({pageX:n.pageX,pageY:n.pageY},t),g({pageX:n.pageX,pageY:n.pageY,movementX:0,movementY:0},u,0,t)),p=c(e)},onTouchMove:(e,t)=>{var n,i,s,h,y,_,v,O=e.targetTouches.item(0);1===e.targetTouches.length&&m({pageX:O.pageX,pageY:O.pageY},t),2===e.targetTouches.length&&("zoom"===(n=o(e.targetTouches,p.targetTouches))&&(h=0<(i=a(p.targetTouches,e.targetTouches)?100:-100)?"OP_STATE_UP":"OP_STATE_DOWN",y=(s=f(null,s=t)).x||0,s=s.y||0,(_=new proto.CG.PROTO.CoordinatePos).setX(y),_.setY(s),(v=new proto.CG.PROTO.CoordinatePos).setX(y),v.setY(s),(y=new proto.CG.PROTO.OneInputOPData).setOpDevice(proto.CG.PROTO.OpMappingDevice.OP_MAPPING_DEV_MOUSE),y.setXinputUserIndex(0),y.setInputOp(proto.CG.PROTO.OneInputOPData.InputOP.OP_MOUSE_WHEEL),y.setInputState(proto.CG.PROTO.OneInputOPData.InputState[h]),y.setCursorPos(_),y.setMousePos(v),y.setValue(parseInt(i)),(s=new proto.CG.PROTO.InputOPData).setOpListList([y]),h=(0,r.sO)(s.serializeBinary(),"CtrlMsg"),(0,r.LU)(h)),"drag"===n)&&(_=p.targetTouches.item(0),d||(d=!0,m({pageX:_.pageX,pageY:_.pageY},t),g({pageX:O.pageX,pageY:O.pageY,movementX:0,movementY:0},u,2,t)),m({pageX:O.pageX,pageY:O.pageY},t)),l=c(e)},onTouchEnd:(e,t)=>{e=e.changedTouches.item(0),h&&g({pageX:e.pageX,pageY:e.pageY,movementX:0,movementY:0},2012,0,t),d&&g({pageX:e.pageX,pageY:e.pageY,movementX:0,movementY:0},2012,2,t),y()},onTouchCancel:(e,t)=>{e=e.changedTouches.item(0),h&&g({pageX:e.pageX,pageY:e.pageY,movementX:0,movementY:0},2012,0,t),d&&g({pageX:e.pageX,pageY:e.pageY,movementX:0,movementY:0},2012,2,t),y()},reset:()=>{}},v=2011;let O=null,C=null,b=null,S=!1,E=!1,T=!1,P=null,I=!1,D=1;const w=(e,t)=>{var n={x:0,y:0},o=(e&&(n.x=e.offsetX,n.y=e.offsetY),e={width:t?t.videoWidth:0,height:t?t.videoHeight:0},{width:t?t.gameWidth:0,height:t?t.gameHeight:0});return(0,r.nT)(n,e,o,t.rotate)},M=(e,t,n,o)=>{var{left:i,top:a}=document.getElementById("WelinkGameVideo").getBoundingClientRect();let s;switch(t=t===v?"OP_STATE_DOWN":"OP_STATE_UP",n){case 0:s="OP_MOUSE_BUTTON_LEFT";break;case 1:s="OP_MOUSE_BUTTON_MIDDLE";break;case 2:s="OP_MOUSE_BUTTON_RIGHT"}n=w({...e,offsetX:(e.pageX-i)/D,offsetY:(e.pageY-a)/D},o),(0,r.LB)(n,s,t)},R=(e,t)=>{var{left:n,top:o}=document.getElementById("WelinkGameVideo").getBoundingClientRect(),o=(n={...e,offsetX:(e.pageX-n)/D,offsetY:(e.pageY-o)/D},e=w(n,t),(o=new proto.CG.PROTO.CoordinatePos).setX(e.x),o.setY(e.y),(n=new proto.CG.PROTO.CoordinatePos).setX(e.x),n.setY(e.y),(t=new proto.CG.PROTO.OneInputOPData).setOpDevice(proto.CG.PROTO.OpMappingDevice.OP_MAPPING_DEV_MOUSE),t.setXinputUserIndex(0),t.setInputOp(proto.CG.PROTO.OneInputOPData.InputOP.OP_MOUSE_MOV),t.setInputState(proto.CG.PROTO.OneInputOPData.InputState.OP_STATE_DEFAULT),t.setCursorPos(o),t.setMousePos(n),(e=new proto.CG.PROTO.InputOPData).setOpListList([t]),(0,r.sO)(e.serializeBinary(),"CtrlMsg"));(0,r.LU)(o,"mousemove")},k={onTouchStart:(e,t)=>{(new Date).getTime(),1===e.targetTouches.length&&(P=setTimeout(()=>{E=!0},1500),S=!0),O=c(e)},onTouchMove:(e,t)=>{var n,s,u,l,p,d;1===e.targetTouches.length&&(E&&(M(e.changedTouches[0],v,0,t),E=!1,P&&clearTimeout(P),P=null,S=!1,T=!0),T?(u=e.changedTouches.item(0),R({pageX:u.pageX,pageY:u.pageY},t)):(S=!1,T=!1,1===e.targetTouches.length&&(l=0<(p=u=0<(C||O).targetTouches[0].pageY-e.targetTouches[0].pageY?100:-100)?"OP_STATE_UP":"OP_STATE_DOWN",d=(t=w(null,t)).x?t.x/D:0,t=t.y?t.y/D:0,(n=new proto.CG.PROTO.CoordinatePos).setX(d),n.setY(t),(s=new proto.CG.PROTO.CoordinatePos).setX(d),s.setY(t),(d=new proto.CG.PROTO.OneInputOPData).setOpDevice(proto.CG.PROTO.OpMappingDevice.OP_MAPPING_DEV_MOUSE),d.setXinputUserIndex(0),d.setInputOp(proto.CG.PROTO.OneInputOPData.InputOP.OP_MOUSE_WHEEL),d.setInputState(proto.CG.PROTO.OneInputOPData.InputState[l]),d.setCursorPos(n),d.setMousePos(s),d.setValue(parseInt(p)),(t=new proto.CG.PROTO.InputOPData).setOpListList([d]),l=(0,r.sO)(t.serializeBinary(),"CtrlMsg"),(0,r.LU)(l)))),2===e.targetTouches.length&&(n=O,"drag"===(s=o(e.targetTouches,n.targetTouches))&&1<D?(p=O.targetTouches,t={x:(d=e.targetTouches)[0].pageX-p[0].pageX,y:d[0].pageY-p[0].pageY},e.target.style.transition="all 0.5s",e.target.style.transform=`translate(${t.x}px, ${t.y}px) scale(${D})`):"zoom"===s&&(l=O.targetTouches[0],t=O.targetTouches[1],l.pageX,t.pageX,l.pageY,t.pageY,I=I||!0,D=Math.max(1,a(O.targetTouches,e.targetTouches)?D:1,(t=O.targetTouches,u=e.targetTouches,Number((i(u[0],u[1]||null)/i(t[0],t[1]||null)).toFixed(2)))),e.target.style.transition="all 0.5s",e.target.style.transform=`scale(${D})`)),C=c(e)},onTouchEnd:(e,t)=>{if(1===e.changedTouches.length&&((e,t)=>{e=s(e);const n=s(t);return e.some(e=>n.some(t=>e.identifier===t.identifier))})(e.changedTouches,O.targetTouches)){if(E&&!T){var n=e.changedTouches.item(0);R({pageX:n.pageX,pageY:n.pageY},t),M({pageX:n.pageX,pageY:n.pageY,movementX:0,movementY:0},v,2,t),E=!1,S=!1,P&&clearTimeout(P),P=null;const r=setTimeout(()=>{var n=e.changedTouches.item(0);M({pageX:n.pageX,pageY:n.pageY,movementX:0,movementY:0},2012,2,t),clearTimeout(r)},100)}if(S||T){const n=e.changedTouches.item(0);if(S){R({pageX:n.pageX,pageY:n.pageY},t),M({pageX:n.pageX,pageY:n.pageY,movementX:0,movementY:0},v,0,t);const e=setTimeout(()=>{M({pageX:n.pageX,pageY:n.pageY,movementX:0,movementY:0},2012,0,t),clearTimeout(e)},100)}else M({pageX:n.pageX,pageY:n.pageY,movementX:0,movementY:0},2012,0,t);S=!1,T=!1}}(b=c(e)).time=(new Date).getTime(),P&&clearTimeout(P),I=!1},onTouchCancel:(e,t)=>{},reset:()=>{document.requestPointerLock&&(0,r.I8)("WelinkGameVideo")}};let L=null,G="mouse";const A=(e="")=>{e?"touch"!==e&&"mouse"!==e||("touch"===(G=e)?k:_).reset(L):("touch"==(G="touch"===G?"mouse":"touch")?k:_).reset(L)},N=e=>{L=e,(G="mouse")===G&&_.reset(L),"touch"===G&&k.reset(L);const t=document.getElementById("WelinkGameAudio");(e=document.getElementById("WelinkGameVideo")).ontouchstart=e=>{t&&t.muted&&(t.muted=!1);var n=e;switch(G){case"touch":k.onTouchStart(n,L);break;case"mouse":_.onTouchStart(n,L)}e.preventDefault()},e.ontouchmove=e=>{var t=e;switch(G){case"touch":k.onTouchMove(t,L);break;case"mouse":_.onTouchMove(t,L)}e.preventDefault()},e.ontouchend=e=>{var t=e;switch(G){case"touch":k.onTouchEnd(t,L);break;case"mouse":_.onTouchEnd(t,L)}e.preventDefault()},e.ontouchcancel=e=>{var t=e;switch(G){case"touch":k.onTouchCancel(t,L);break;case"mouse":_.onTouchCancel(t,L)}e.preventDefault()}},F=()=>{"mouse"===G&&_.reset(L)}}},n={},e.d=(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r={},(()=>{"use strict";e.r(r);var t=e(972);let n=[],o=null;window.$startVideoRecord=e=>{n=[],(o=new MediaRecorder(e)).start(),o.addEventListener("dataavailable",e=>{n.push(e.data)}),o.addEventListener("stop",()=>{var e=new Blob(n,{type:o.mimeType}),t=(e=URL.createObjectURL(e),document.createElement("a"));t.href=e,t.download="video.mp4",t.click(),URL.revokeObjectURL(e),n=[],o=null})},window.$stopVideoRecord=()=>{o&&o.stop()};var i=e(11),a=e(957),s=e(175),c=e(383);const u={x:0,y:0};var l=e(585),p=e(857);e(300);class d extends t.ZP{constructor(e){super(e),this.KEY_UP=a.R4,this.KEY_DOWN=a.Hb,this.KEY_MOVE=a.Ry,this.AXIS_LXLY=i.j4,this.AXIS_RXRY=i.C8,this.AXIS_LT=i.EP,this.AXIS_RT=i.zj,this.MOUSE_MOVE=a.Jb,this.MOUSE_LBUTTON=a.eK,this.MOUSE_RBUTTON=a.Vw,this.MOUSE_MBUTTON=a.zD,this.MOUSE_MWHEELUP=a.gT,this.MOUSE_MWHEELDOWN=a.pi}OnGamePadButton(e,t,n){(0,i.IW)(e,t,n)}onGamePadAxis(e,t,n,r){(0,i.G0)(e,t,n,r)}WelinkGetUuid(){return(0,s.b2)()}getBizData(){return(0,s.Rs)()}getNodeList(e,t,n){(0,l.Dl)(a.DU.ALL),(0,l.bS)(e,t,n)}getNode(e,t,n,r,o){(void 0!==r?((0,l.Dl)(r),o?l.Mk:l.bS):((0,l.Dl)(a.DU.ALL),l.Mk))(e,t,n)}switchTouchMode(t=""){"phoneToMouse"===this.configs.envType&&Promise.resolve().then(e.bind(e,369)).then(({changeOperationType:e})=>{e(t)})}resetCursorPosition(){"phoneToMouse"===this.configs.envType&&Promise.resolve().then(e.bind(e,369)).then(({resetMousePosition:e})=>{e()})}WelinkSendKeyboard(e,t){(0,s.B1)(e,t)}unmute(){(0,c.$9)()}onKeyBoardEvent(e,t){(0,s.B1)(e,a.Dk[t])}onCustomMouseEvent(...e){var[e,n,r,o]=[...e];r={x:r,y:o},o=t.Ed.configs,r&&(u.x=r.x,u.y=r.y),r={width:o.videoWidth,height:o.videoHeight};var i={width:o.gameWidth,height:o.gameHeight},c=(0,s.nT)(u,r,i,o.rotate);switch(e){case a.gT:n===a.R4&&(0,s.v7)(c,100);break;case a.pi:n===a.R4&&(0,s.v7)(c,-100);break;case a.eK:n===a.Hb?((0,s.R0)(c),(0,s.LB)(c,"OP_MOUSE_BUTTON_LEFT","OP_STATE_DOWN")):n===a.R4&&(0,s.LB)(c,"OP_MOUSE_BUTTON_LEFT","OP_STATE_UP");break;case a.Vw:n===a.Hb?((0,s.R0)(c),(0,s.LB)(c,"OP_MOUSE_BUTTON_RIGHT","OP_STATE_DOWN")):n===a.R4&&(0,s.LB)(c,"OP_MOUSE_BUTTON_RIGHT","OP_STATE_UP");break;case a.Jb:(0,s.R0)(c);break;case a.zD:n===a.Hb?((0,s.R0)(c),(0,s.LB)(c,"OP_MOUSE_BUTTON_RIGHT","OP_STATE_DOWN")):n===a.R4&&(0,s.LB)(c,"OP_MOUSE_BUTTON_RIGHT","OP_STATE_UP")}}}window.WelinkCloudGame=d,window.WelinkSuportKeyBoardLayoutMap=p.k,window.WelinkKeyBoardLayoutMap=p.I,window.WelinkIsSupportH265=(()=>{try{return RTCRtpReceiver.getCapabilities("video").codecs.some(e=>e.mimeType.includes("H265"))}catch(e){return!1}})(),window.WelinkPlugins=window.WelinkPlugins||[]})(),r;function e(r){var o=n[r];return void 0===o&&(o=n[r]={exports:{}},t[r].call(o.exports,o,o.exports,e)),o.exports}var t,n,r})()},function(e,t,n){(function(t,n){function r(e){var t=i[e];return void 0!==t||(t=i[e]={id:e,loaded:!1,exports:{}},o[e].call(t.exports,t,t.exports,r),t.loaded=!0),t.exports}var o,i;self,e.exports=(o={4206:(e,t,n)=>{e.exports=n(8057)},4387:(e,t,n)=>{"use strict";var r=n(7485),o=n(4570),i=n(2940),a=n(581),s=n(574),c=n(3845),u=n(8338),l=n(8524),p=n(3141),d=n(7132);e.exports=function(e){return new Promise((function(t,n){var h,f=e.data,g=e.headers,m=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}r.isFormData(f)&&delete g["Content-Type"];var _,v=new XMLHttpRequest,O=(e.auth&&(O=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"",g.Authorization="Basic "+btoa(O+":"+_)),s(e.baseURL,e.url));function C(){var r;v&&(r="getAllResponseHeaders"in v?c(v.getAllResponseHeaders()):null,r={data:m&&"text"!==m&&"json"!==m?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:r,config:e,request:v},o((function(e){t(e),y()}),(function(e){n(e),y()}),r),v=null)}v.open(e.method.toUpperCase(),a(O,e.params,e.paramsSerializer),!0),v.timeout=e.timeout,"onloadend"in v?v.onloadend=C:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(C)},v.onabort=function(){v&&(n(l("Request aborted",e,"ECONNABORTED",v)),v=null)},v.onerror=function(){n(l("Network Error",e,null,v)),v=null},v.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||p.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",v)),v=null},r.isStandardBrowserEnv()&&(_=(e.withCredentials||u(O))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0)&&(g[e.xsrfHeaderName]=_),"setRequestHeader"in v&&r.forEach(g,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete g[t]:v.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(v.withCredentials=!!e.withCredentials),m&&"json"!==m&&(v.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&v.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&v.upload&&v.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){v&&(n(!e||e.type?new d("canceled"):e),v.abort(),v=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal)&&(e.signal.aborted?h():e.signal.addEventListener("abort",h)),f=f||null,v.send(f)}))}},8057:(e,t,n)=>{"use strict";var r=n(7485),o=n(875),i=n(5029),a=n(4941),s=function e(t){var n=new i(t),s=o(i.prototype.request,n);return r.extend(s,i.prototype,n),r.extend(s,n),s.create=function(n){return e(a(t,n))},s}(n(3141));s.Axios=i,s.Cancel=n(7132),s.CancelToken=n(4603),s.isCancel=n(1475),s.VERSION=n(3345).version,s.all=function(e){return Promise.all(e)},s.spread=n(5739),s.isAxiosError=n(5835),e.exports=s,e.exports.default=s},7132:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4603:(e,t,n)=>{"use strict";var r=n(7132);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");this.promise=new Promise((function(e){t=e}));var t,n=this;this.promise.then((function(e){if(n._listeners){for(var t=n._listeners.length,r=0;r<t;r++)n._listeners[r](e);n._listeners=null}})),this.promise.then=function(e){var t;return(e=new Promise((function(e){n.subscribe(e),t=e})).then(e)).cancel=function(){n.unsubscribe(t)},e},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){this._listeners&&-1!==(e=this._listeners.indexOf(e))&&this._listeners.splice(e,1)},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},1475:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},5029:(e,t,n)=>{"use strict";var r=n(7485),o=n(581),i=n(8096),a=n(5009),s=n(4941),c=n(6144),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new i,response:new i}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional,n=(void 0!==t&&c.assertOptions(t,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1),[]),r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var o,i=[];if(this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)})),r){for(var l=e;n.length;){var p=n.shift(),d=n.shift();try{l=p(l)}catch(e){d(e);break}}try{o=a(l)}catch(e){return Promise.reject(e)}for(;i.length;)o=o.then(i.shift(),i.shift())}else{var h=[a,void 0];for(Array.prototype.unshift.apply(h,n),h=h.concat(i),o=Promise.resolve(e);h.length;)o=o.then(h.shift(),h.shift())}return o},l.prototype.getUri=function(e){return e=s(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},8096:(e,t,n)=>{"use strict";var r=n(7485);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},574:(e,t,n)=>{"use strict";var r=n(2642),o=n(2288);e.exports=function(e,t){return e&&!r(t)?o(e,t):t}},8524:(e,t,n)=>{"use strict";var r=n(9953);e.exports=function(e,t,n,o,i){return e=new Error(e),r(e,t,n,o,i)}},5009:(e,t,n)=>{"use strict";var r=n(7485),o=n(9212),i=n(1475),a=n(3141),s=n(7132);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return c(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},9953:e=>{"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},4941:(e,t,n)=>{"use strict";var r=n(7485);e.exports=function(e,t){t=t||{};var n={};function o(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function i(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return o(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function c(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var u={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=u[e]||i,o=t(e);r.isUndefined(o)&&t!==c||(n[e]=o)})),n}},4570:(e,t,n)=>{"use strict";var r=n(8524);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},9212:(e,t,n)=>{"use strict";var r=n(7485),o=n(3141);e.exports=function(e,t,n){var i=this||o;return r.forEach(n,(function(n){e=n.call(i,e,t)})),e}},3141:(e,n,r)=>{"use strict";var o=r(7485),i=r(1446),a=r(9953),s={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:u="undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t)?r(4387):u,transformRequest:[function(e,t){if(i(t,"Accept"),i(t,"Content-Type"),!(o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e))){if(o.isArrayBufferView(e))return e.buffer;if(o.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();if(o.isObject(e)||t&&"application/json"===t["Content-Type"]){c(t,"application/json");var n=e;if(o.isString(n))try{return(0,JSON.parse)(n),o.trim(n)}catch(n){if("SyntaxError"!==n.name)throw n}return(0,JSON.stringify)(n)}}return e}],transformResponse:[function(e){var t=(n=this.transitional||l.transitional)&&n.silentJSONParsing,n=n&&n.forcedJSONParsing;if((t=!t&&"json"===this.responseType)||n&&o.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(t){if("SyntaxError"===e.name)throw a(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return 200<=e&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),o.forEach(["post","put","patch"],(function(e){l.headers[e]=o.merge(s)})),e.exports=l},3345:e=>{e.exports={version:"0.24.0"}},875:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},581:(e,t,n)=>{"use strict";var r=n(7485);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){var i;return t&&(n=n?n(t):r.isURLSearchParams(t)?t.toString():(i=[],r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),i.push(o(t)+"="+o(e))})))})),i.join("&")))&&(-1!==(t=e.indexOf("#"))&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n),e}},2288:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},2940:(e,t,n)=>{"use strict";var r=n(7485);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){return(e=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)")))?decodeURIComponent(e[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},2642:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},5835:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},8338:(e,t,n)=>{"use strict";var r,o,i,a=n(7485);function s(e){return o&&(i.setAttribute("href",e),e=i.href),i.setAttribute("href",e),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}e.exports=a.isStandardBrowserEnv()?(o=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),r=s(window.location.href),function(e){return(e=a.isString(e)?s(e):e).protocol===r.protocol&&e.host===r.host}):function(){return!0}},1446:(e,t,n)=>{"use strict";var r=n(7485);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},3845:(e,t,n)=>{"use strict";var r=n(7485),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i={};return e&&r.forEach(e.split("\n"),(function(e){n=e.indexOf(":"),t=r.trim(e.substr(0,n)).toLowerCase(),n=r.trim(e.substr(n+1)),!t||i[t]&&0<=o.indexOf(t)||(i[t]="set-cookie"===t?(i[t]||[]).concat([n]):i[t]?i[t]+", "+n:n)})),i}},5739:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},6144:(e,t,n)=>{"use strict";var r=n(3345).version,o={},i=(["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}})),{});o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(o(r," has been removed"+(t?" in "+t:"")));return t&&!i[r]&&(i[r]=!0),!e||e(n,r,a)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),o=r.length;0<o--;){var i=r[o];if(a=t[i]){var a,s=e[i];if(!0!==(a=void 0===s||a(s,i,e)))throw new TypeError("option "+i+" must be "+a)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:o}},7485:(e,t,n)=>{"use strict";var r=n(875),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function a(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){return"[object Object]"===o.call(e)&&(null===(e=Object.getPrototypeOf(e))||e===Object.prototype)}function u(e){return"[object Function]"===o.call(e)}function l(e,t){if(null!=e)if(i(e="object"!=typeof e?[e]:e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,o=arguments.length;r<o;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)?e.slice(1):e}}},2179:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=(Object.defineProperty(t,"__esModule",{value:!0}),r(n(4993))),i=r(n(9752)),a=r(n(4711)),s=r(n(2343)),c=(r=r(n(5922)),n(1743)),u=r.default.log;l.prototype.setRole=function(e){this.role=e},l.prototype.setHostUserId=function(e){this.hostUserId=e},l.prototype.getHostUserId=function(){return this.hostUserId},l.prototype.setSeatIndex=function(e){this.seatIndex=e,this.parse()},l.prototype.setGameConfig=function(e){var t,n,r;(e=(this.config=e).sdk_conf)&&(t=(r=o.default.getInitOptions()).webDraftLevel,n=r.keepLastFrame,r=r.tabletMode,"number"==typeof e.webdraft_level&&void 0!==t&&a.default.setWebDraftLevel(e.webdraft_level),e.connect_timeout&&i.default.setNewConnectTimeout(e.connect_timeout),e.noflow_timeout&&i.default.setNoflowTimeout(e.noflow_timeout),e.cursor_scale&&i.default.setMobileCursorScale(e.cursor_scale),e.cursor_style&&o.default.setRemoteCursorStyle(e.cursor_style),"boolean"==typeof e.keep_lastframe&&void 0===n&&i.default.setKeepLastFrame(e.keep_lastframe),"boolean"==typeof e.tablet_mode&&void 0===r&&o.default.mouseTabletMode(e.tablet_mode),"boolean"==typeof e.mobile_show_cursor)&&i.default.setMobileShowCursor(e.mobile_show_cursor)},l.prototype.getConfig=function(){return{login_helper:this.loginHelper,seat_index:this.seatIndex,role:this.role,game_config:this.config,server_side_description:this.serverSideDescription}},l.prototype.setFeatureSwitch=function(e){void 0===e&&(e={});try{var t=(t=e.network_event_script)&&JSON.parse(t);this.featureSwitch={network_event_script:t}}catch(e){u("setFeatureSwitch error",e)}},l.prototype.getFeatureSwitch=function(){return this.featureSwitch},l.prototype.setServerSideDescription=function(e){this.serverSideDescription=e,s.default.setStaticStat()},l.prototype.getServerSideDescription=function(){return this.serverSideDescription||c.empty},l.prototype.parse=function(){var e;return u("enter gameConfig parse",this.config,this.role,this.seatIndex),this.config?this.role?void((e=(this.config.sdk_conf||c.empty).login_helper)?this.loginHelper=e:u("no login helper loaded")):u("role does not set"):u("game_config does not set")},n=l;function l(){this.config=null,this.featureSwitch=null,this.role=null,this.hostUserId=null,this.loginHelper=null,this.seatIndex=0,this.serverSideDescription=c.empty}t.default=new n},5262:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0,t.config={version:"1.1.18",lite:!1,privatization:{server:""}}},8751:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CameraProfile=void 0,t.CameraProfile={"120p":{width:160,height:120,frameRate:30,bitrate:200,type:"120p"},"180p":{width:320,height:180,frameRate:30,bitrate:350,type:"180p"},"240p":{width:320,height:240,frameRate:30,bitrate:400,type:"240p"},"360p":{width:640,height:360,frameRate:30,bitrate:800,type:"360p"},"480p":{width:640,height:480,frameRate:30,bitrate:900,type:"480p"},"720p":{width:1280,height:720,frameRate:30,bitrate:1500,type:"720p"},"1080p":{width:1920,height:1080,frameRate:30,bitrate:2e3,type:"1080p"}}},9418:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ANSWER_SDP_CODE=t.PROXY_CODE=t.TOUCH_EVENT_TYPE=t.WEB_DRAFT_LEVEL=t.DATACHANNEL=t.CONNECT_FAILED_CODE=t.RTC_CODE=t.CURSOR_MODE=t.STATUS=t.PAGE_STATS=t.STATS=void 0,t.STATS={LOADING:"loading",PLAYING:"playing",ENDED:"ended"},t.PAGE_STATS={LOADING:"loading",PLAYING:"playing",ENDED:"ended"},t.STATUS={DISCONNECTED:0,0:"DISCONNECTED",CONNECTING:1,1:"CONNECTING",ESTABLISHED:2,2:"ESTABLISHED"},t.CURSOR_MODE={LOCAL:0,0:"LOCAL",REMOTE_SRC:1,1:"REMOTE_SRC",REMOTE_DRAW:2,2:"REMOTE_DRAW",REMOTE_CUSTOM:3,3:"REMOTE_CUSTOM",REMOTE_SRC_POS:4,4:"REMOTE_SRC_POS"},t.RTC_CODE={CREATE_OFFER_FAILED:-2,"-2":"CREATE_OFFER_FAILED",NEED_RECONNECT:-1,"-1":"NEED_RECONNECT",MANUAL_CLOSE:0,0:"MANUAL_CLOSE",OTHER_KICK:1,1:"OTHER_KICK",HEARTBEAT_TIMEOUT:2,2:"HEARTBEAT_TIMEOUT",CONNECT_FAILED:3,3:"CONNECT_FAILED",TOKEN_ERROR:4,4:"TOKEN_ERROR"},t.CONNECT_FAILED_CODE={TOO_FREQUENTLY:-1,"-1":"TOO_FREQUENTLY",AUTO_RECONNECTING:-2,"-2":"AUTO_RECONNECTING",EXCEEDED_LIMIT_RERTY_TIMES:-3,"-3":"EXCEEDED_LIMIT_RERTY_TIMES"},t.DATACHANNEL={ACK:"ack",HB:"hb",CD:"cd",KM:"km",SVR:"svr",SV:"sv"},t.WEB_DRAFT_LEVEL={CLOSE_HIGH_FREQUENCY:0,0:"CLOSE_HIGH_FREQUENCY",UNPACKAGE_SEND:1,1:"UNPACKAGE_SEND",PACKAGE_SEND:2,2:"PACKAGE_SEND",LIMIT_LENGTH:3,3:"LIMIT_LENGTH"},t.TOUCH_EVENT_TYPE={touchstart:0,0:"touchstart",touchmove:1,1:"touchmove",touchend:2,2:"touchend"},t.PROXY_CODE={SUCCESS:0,0:"SUCCESS",STREAM_NOT_FOUND:4e3,4e3:"STREAM_NOT_FOUND",STREAM_EXIST:4001,4001:"STREAM_EXIST",PARAM_ERROR:4002,4002:"PARAM_ERROR",SERVER_ERROR:5e3,5e3:"SERVER_ERROR",BACK_TO_SOURCE_ERROR:5001,5001:"BACK_TO_SOURCE_ERROR",BACK_TO_SOURCE_REQ_PARAM_ERROR:5002,5002:"BACK_TO_SOURCE_REQ_PARAM_ERROR",BACK_TO_SOURCE_RES_PARAM_ERROR:5003,5003:"BACK_TO_SOURCE_RES_PARAM_ERROR"},t.ANSWER_SDP_CODE={SUCCESS:0,0:"SUCCESS",BUSY:1,1:"BUSY",TOKEN_ERROR:2,2:"TOKEN_ERROR",SDP_ERROR:6,6:"SDP_ERROR",WAIT_HOST:8,8:"WAIT_HOST",PLAYERS_NUMBER_OR_ROLE_LIMIT:9,9:"PLAYERS_NUMBER_OR_ROLE_LIMIT",PROXY_ERROR:100,100:"PROXY_ERROR"}},1587:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEYCODE=void 0,(t=t.KEYCODE={Backspace:8,8:"Backspace",Tab:9,9:"Tab",Enter:13,13:"Enter",Shift:16,16:"Shift",Ctrl:17,17:"Ctrl",Alt:18,18:"Alt",PauseBreak:19,19:"PauseBreak",CapsLock:20,20:"CapsLock",Escape:27,27:"Escape",Space:32,32:"Space",PageUp:33,33:"PageUp",PageDown:34,34:"PageDown",End:35,35:"End",Home:36,36:"Home",LeftArrow:37,37:"LeftArrow",UpArrow:38,38:"UpArrow",RightArrow:39,39:"RightArrow",DownArrow:40,40:"DownArrow",Insert:45,45:"Insert",Delete:46,46:"Delete",Zero:48,48:"Zero",ClosedParen:48})[48]="ClosedParen",t[t.One=49]="One",t[t.ExclamationMark=49]="ExclamationMark",t[t.Two=50]="Two",t[t.AtSign=50]="AtSign",t[t.Three=51]="Three",t[t.PoundSign=51]="PoundSign",t[t.Hash=51]="Hash",t[t.Four=52]="Four",t[t.DollarSign=52]="DollarSign",t[t.Five=53]="Five",t[t.PercentSign=53]="PercentSign",t[t.Six=54]="Six",t[t.Caret=54]="Caret",t[t.Hat=54]="Hat",t[t.Seven=55]="Seven",t[t.Ampersand=55]="Ampersand",t[t.Eight=56]="Eight",t[t.Star=56]="Star",t[t.Asterik=56]="Asterik",t[t.Nine=57]="Nine",t[t.OpenParen=57]="OpenParen",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.LeftWindowKey=91]="LeftWindowKey",t[t.RightWindowKey=92]="RightWindowKey",t[t.SelectKey=93]="SelectKey",t[t.Numpad0=96]="Numpad0",t[t.Numpad1=97]="Numpad1",t[t.Numpad2=98]="Numpad2",t[t.Numpad3=99]="Numpad3",t[t.Numpad4=100]="Numpad4",t[t.Numpad5=101]="Numpad5",t[t.Numpad6=102]="Numpad6",t[t.Numpad7=103]="Numpad7",t[t.Numpad8=104]="Numpad8",t[t.Numpad9=105]="Numpad9",t[t.Multiply=106]="Multiply",t[t.Add=107]="Add",t[t.Subtract=109]="Subtract",t[t.DecimalPoint=110]="DecimalPoint",t[t.Divide=111]="Divide",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12",t[t.NumLock=144]="NumLock",t[t.ScrollLock=145]="ScrollLock",t[t.SemiColon=186]="SemiColon",t[t.Equals=187]="Equals",t[t.Comma=188]="Comma",t[t.Dash=189]="Dash",t[t.Period=190]="Period",t[t.UnderScore=189]="UnderScore",t[t.PlusSign=187]="PlusSign",t[t.ForwardSlash=191]="ForwardSlash",t[t.Tilde=192]="Tilde",t[t.GraveAccent=192]="GraveAccent",t[t.Backquote=192]="Backquote",t[t.OpenBracket=219]="OpenBracket",t[t.ClosedBracket=221]="ClosedBracket",t[t.Quote=222]="Quote"},4993:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n=n||Promise)((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){var u=[s,c];if(n)throw new TypeError("Generator is already executing.");for(;i=a&&u[a=0]?0:i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,(u=o?[2&u[0],o.value]:u)[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((o=0<(o=i.trys).length&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3]))i.label=u[1];else if(6===u[0]&&i.label<o[1])i.label=o[1],o=u;else{if(!(o&&i.label<o[2])){o[2]&&i.ops.pop(),i.trys.pop();continue}i.label=o[2],i.ops.push(u)}}u=t.call(e,i)}catch(c){u=[6,c],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=(Object.defineProperty(t,"__esModule",{value:!0}),a(n(6994))),c=n(5262),u=n(9418),l=a(n(9752)),p=a(n(4711)),d=n(869),h=n(1743),f=a(n(4112)),g=a(n(2343)),m=a(n(2179)),y=a(n(5922)),_=y.default.log;v.prototype.init=function(e){this.sdkInitStartTime=+new Date;var t=e.mount,n=e.loadingText,o=e.showLoading,i=e.restartText;this.mountGamePoint({mount:t,loadingText:n,showLoading:o,restartText:i}),this.initOptions=r(r({},this.initOptions),e),this.onPageLoad(e),_("init->",this.initOptions)},Object.defineProperty(v.prototype,"initStartTime",{get:function(){return this.sdkInitStartTime},enumerable:!1,configurable:!0}),v.prototype.getInitOptions=function(){return this.initOptions},v.prototype.getClientSession=function(){return l.default.getClientSideDescription()},v.prototype.getServerSession=function(){return m.default.getServerSideDescription()},v.prototype.start=function(e){l.default.connect(e=void 0===e?"":e)},v.prototype.destroy=function(e){var t=void 0===(t=(e=void 0===e?h.empty:e).message)?"主动关闭":t;e=void 0===(e=e.code)?u.RTC_CODE.MANUAL_CLOSE:e;_("destroy->","message: ",t,"code: ",e),l.default.disconnected({message:t,code:e})},v.prototype.reconnect=function(){l.default.clearPeerConnection(),l.default.reconnect({message:"manual reconnect"})},v.prototype.gameRestart=function(e){void 0===e&&(e=h.noop),_("gameRestart->"),l.default.sendAckData({data:{type:"game_op",op:"restart"},callback:e}),this.clearRemoteKeys()},v.prototype.gamePause=function(e){void 0===e&&(e=h.noop),_("gamePause->"),l.default.sendAckData({data:{type:"game_op",op:"pause"},callback:e}),l.default.setGameStatus("pause"),this.clearRemoteKeys()},v.prototype.gameResume=function(e){void 0===e&&(e=h.noop),_("gameResume->"),l.default.sendAckData({data:{type:"game_op",op:"resume"},callback:e}),l.default.setGameStatus("playing"),this.clearRemoteKeys()},v.prototype.loginHelper=function(e,t){var n=e.gameid,r=void 0===(r=e.acc)?"":r;e=void 0===(e=e.pwd)?"":e;void 0===t&&(t=h.noop),f.default.inputLoginInfo({loginData:{gameid:void 0===n?"":n,acc:r,pwd:e,appid:this.initOptions.appid},callback:t})},v.prototype.getLoginWindowStat=function(e,t){void 0===t&&(t=h.noop),f.default.loginWindowStat(t)},v.prototype.playVideo=function(e){var t;return"play"===e?null==(t=(0,h.getVideoElement)())?void 0:t.play():"pause"!==e||null==(t=(0,h.getVideoElement)())?void 0:t.pause()},v.prototype.getVideoElement=function(){return(0,h.getVideoElement)()},v.prototype.setVideoOrientation=function(e){var t=void 0===(t=(e=void 0===e?{}:e).deg)?0:t,n=void 0===(n=e.rotateContainer)||n;e=void 0!==(e=e.rotateMountPoint)&&e;_("setVideoOrientation",t,n),p.default.setVideoOrientation({deg:t,rotateContainer:n,rotateMountPoint:e})},v.prototype.getPageSize=function(){return{width:window.innerWidth,height:window.innerHeight}},v.prototype.sendKeyboardEvent=function(e){var t=e.key,n=e.down;e=e.location;l.default.sendKmData({type:"keyboard",key:t,down:n,location:void 0===e?0:e})},v.prototype.sendMouseEvent=function(e){var t=e.type,n=e.down;e=e.delta;l.default.sendKmData({type:t,down:n,delta:e})},v.prototype.sendGamepadEvent=function(e){var t=e.type,n=e.down,r=e.key,o=e.x;e=e.y;l.default.sendKmData({type:t,down:n,key:r,x:o,y:e})},v.prototype.sendRawEvent=function(e){switch(_("sendRawEvent->",e),!0){case"keyboard"===e.type:this.sendKeyboardEvent(e);break;case e.type.includes("mouse"):this.sendMouseEvent(e);break;case e.type.includes("gamepad")||e.type.includes("axis")||e.type.includes("lt")||e.type.includes("rt"):this.sendGamepadEvent(e);break;default:l.default.sendAckData({data:e})}},v.prototype.sendKmData=function(e){l.default.sendKmData(e)},v.prototype.setMoveSensitivity=function(e){_("setMoveSensitivity->",e),e-.01<Number.EPSILON||Number.EPSILON,p.default.setMoveSensitivity(e)},v.prototype.sendSeqRawEvents=function(e){_("sendSeqRawEvents->",e),l.default.sendKmData({type:"key_seq",keys:e.map((function(e){return JSON.stringify(e)}))})},v.prototype.getMoveSensitivity=function(){return p.default?1/p.default.getMoveSensitivity():1},v.prototype.setMouseCanLock=function(e){_("setMouseCanLock->",e),l.default.lockMouse(e),l.default.setForceShowCursor(!e)},v.prototype.lockMouse=function(e){_("lockMouse->",e),l.default.setForceLockCursor(e),l.default.lockMouse(e)},v.prototype.mouseMove=function(e,t,n,r){p.default.mouseMove(e,t,n,r)},v.prototype.mouseTabletMode=function(e){_("mouseTabletMode->",e),p.default.setTabletMode(e),this.resetCursorPos(l.default.getCursorMode())},v.prototype.setRemoteCursor=function(e){_("setRemoteCursor->",e=void 0===e?0:e),[0,1,2].includes(e)&&(l.default.setCursorMode(e),this.resetCursorPos(e))},v.prototype.setCursorShowStat=function(e){_("setCursorShowStat->",e),l.default.setForceShowCursor(e)},v.prototype.setCursorShowStatus=function(e){_("setCursorShowStat->",e),l.default.setForceShowCursor(e)},v.prototype.getCursorShowStat=function(){return _("getCursorShowStat->",l.default.getCursorShowStatus()),l.default.getCursorShowStatus()},v.prototype.setMobileCursorScale=function(e){_("setMobileCursorScale->",e),l.default.setMobileCursorScale(e)},v.prototype.setRemoteCursorStyle=function(e){_("setRemoteCursorStyle->",e),l.default.sendAckData({data:{type:"set_pointer_style",style:e}})},v.prototype.clearRemoteKeys=function(){_("clearRemoteKeys->"),p.default.clearRemoteKeys()},v.prototype.resetRemoteCapsLock=function(){_("resetRemoteCapsLock->"),l.default.sendAckData({data:{type:"reset_capslock"}})},v.prototype.setDefaultCursorImage=function(e){_("setDefaultCursorImage->",e),l.default.setDefaultCursorImage(e)},v.prototype.setKMStatus=function(e){var t=e.keyboard;e=e.mouse;p.default.setKMStatus({keyboard:void 0===t||t,mouse:void 0===e||e})},v.prototype.setPaste=function(e){p.default.setPaste(e)},v.prototype.setDebugMode=function(e){var t=(e=void 0===e?{}:e).showStats,n=void 0!==(n=e.showLog)&&n,o=void 0!==(o=e.showOnAckMessage)&&o,i=void 0!==(i=e.showOnCdMessage)&&i,a=void 0!==(a=e.showOnHbMessage)&&a,s=void 0!==(s=e.showOnKmMessage)&&s,c=void 0!==(c=e.showOnSvMessage)&&c,u=void 0!==(u=e.showSendAckData)&&u,l=void 0!==(l=e.showSendHbData)&&l;e=void 0!==(e=e.showSendKmData)&&e;g.default.show(void 0!==t&&t),this.initOptions.debugSetting||(this.initOptions.debugSetting={}),this.initOptions.debugSetting=r(r({},this.initOptions.debugSetting),{showLog:n,showOnAckMessage:o,showOnCdMessage:i,showOnHbMessage:a,showOnKmMessage:s,showOnSvMessage:c,showSendAckData:u,showSendHbData:l,showSendKmData:e})},v.prototype.reportLog=function(){return _("reportLog, user manual upload"),y.default.reportLog()},v.prototype.setLogHandler=function(e){void 0===e&&(e=h.noop),_("setLogHandler"),y.default.setExternalLog(e)},v.prototype.toggleMetricReportBulk=function(e){g.default.toggleMetricReportBulk(e=void 0!==e&&e)},v.prototype.setStreamProfile=function(e,t){void 0===t&&(t=h.noop),_("setStreamProfile->",e),null!==l.default&&void 0!==l.default&&l.default.sendAckData({data:r(r({},e),{type:"res_mode",res:""}),callback:t})},v.prototype.getDisplayRect=function(){return l.default.getDisplayRect()},v.prototype.setVideoVolume=function(e){_("setVideoVolume->",e),0===((0,h.getVideoElement)().volume=e)?((0,h.getVideoElement)().muted=!0,p.default.setVideoMuted(!0)):((0,h.getVideoElement)().muted=!1,p.default.setVideoMuted(!1),this.playVideo("play"))},v.prototype.getVideoVolume=function(){var e;return null!=(e=(0,h.getVideoElement)().volume)?e:0},v.prototype.switchMic=function(e){return e=e.status,l.default.switchMic({status:e})},v.prototype.switchCamera=function(e){return e=e.status,l.default.switchCamera({status:e})},v.prototype.setMicProfile=function(e){return l.default.setMicProfile(e)},v.prototype.setCameraProfile=function(e){return l.default.setCameraProfile(e)},v.prototype.getDevices=function(){return l.default.getDevices()},v.prototype.setPageBackground=function(e){_("setPageBackground->",e=void 0===e?"":e);var t=(0,h.getCloudGamingContainerElement)();t&&(t.style.background="url(".concat(e,")"))},v.prototype.sendText=function(e,t){void 0===t&&(t=h.noop),_("sendText",e=void 0===e?"":e),l.default.sendAckData({data:{type:"paste",content:e},callback:t})},v.prototype.setClientInteractMode=function(e){p.default.setClientInteractMode(e=void 0===e?"cursor":e)},v.prototype.setRemoteDesktopResolution=function(e){var t=e.width,n=e.height;return _("setRemoteDesktopResolution, width",t,"height",n),new Promise((function(e){l.default.sendAckData({data:{type:"desktop_res",width:Math.floor(t),height:Math.floor(n)},callback:function(t){t=t.data,e(void 0===t?{code:-1}:t)}})}))},v.prototype.getRemoteStreamResolution=function(){var e,t;return(0,h.getVideoElement)().videoWidth&&(0,h.getVideoElement)().videoHeight?{width:(0,h.getVideoElement)().videoWidth,height:(0,h.getVideoElement)().videoHeight}:{width:void 0===(t=(e=void 0===(e=m.default.getServerSideDescription().video)?{}:e).width)?0:t,height:void 0===(t=e.height)?0:t}},v.prototype.reshapeWindow=function(){p.default.reshapeWindow()},v.prototype.getUserMedia=function(){return l.default.getUserMedia()},v.prototype.getIsMobileGame=function(){return l.default.getIsMobileGame()},v.prototype.createCustomDataChannel=function(e){var t=e.destPort,n=e.onMessage,r=void 0===(e=e.protocol)?"text":e;return o(this,void 0,void 0,(function(){var e,o;return i(this,(function(i){switch(i.label){case 0:return[4,l.default.createCustomDataChannel({destPort:t,protocol:r,onMessage:n,onError:function(e){_("createCustomDataChannel onerror",e)},onClose:function(e){_("createCustomDataChannel onclose",e)}})];case 1:return o=i.sent(),e=o.code,o=o.msg,[2,{sendMessage:function(e){l.default.sendCustomDataChannelMessage({destPort:t,msg:e})},code:e,msg:o}]}}))}))},v.prototype.getPlayerVolume=function(e){return document.getElementById("".concat(e,"A")).volume},v.prototype.setPlayerVolume=function(e,t){_("setPlayerVolume->",t),e=document.getElementById("".concat(e,"A")),0===t?e.muted=!0:(e.muted=!1,e.volume=t,e.play())},v.prototype.getSeats=function(){return new Promise((function(e){l.default.sendAckData({data:{type:"sync_seats"},callback:function(t){var n=t.code,r=(t=t.data).players;t=t.viewers;0===n&&e({players:r,viewers:t})}})}))},v.prototype.submitSeatChange=function(e){var t=e.user_id,n=e.to_role,r=void 0===(e=e.seat_index)?0:e;return new Promise((function(e){l.default.sendAckData({data:{type:"submit_seat_change",user_id:t,to_role:n,seat_index:r},callback:function(t){t=t.data,_("submit_seat_change res",t=void 0===t?{code:-1}:t),e(t)}})}))},v.prototype.seatChange=function(e){var t=e.user_id,n=e.to_role,r=void 0===(e=e.seat_index)?0:e;return new Promise((function(e){l.default.sendAckData({data:{type:"seat_change",user_id:t,to_role:n,seat_index:r},callback:function(t){t=t.data,_("seat_change res",t=void 0===t?{code:-1}:t),e(t)}})}))},v.prototype.changeMicStatus=function(e){var t=e.status,n=e.user_id;return new Promise((function(e){l.default.sendAckData({data:{type:"mic_status",user_id:n,status:t},callback:function(t){var n=(t=void 0===(t=t.data)?{code:-1}:t).code,r=t.status,o=t.user_id,i=m.default.getServerSideDescription().user_id;0===n&&o===i&&(_("changeMicStatus",t),0!==r&&1!==r||o&&l.default.setTrackEnable({type:"audio",enable:!1}),2===r)&&o&&l.default.setTrackEnable({type:"audio",enable:!0}),e(t)}})}))},v.prototype.onOrientationChange=function(e){var t,n;null!=(n=(t=this.initOptions).onOrientationChange)&&n.call(t,e)},v.prototype.onVisibilityChange=function(e){var t,n;null!=(n=(t=this.initOptions).onVisibilityChange)&&n.call(t,e)},v.prototype.onInitSuccess=function(e){var t,n;null!=(n=(t=this.initOptions).onInitSuccess)&&n.call(t,e)},v.prototype.onNetworkChange=function(e){var t,n;null!=(n=(t=this.initOptions).onNetworkChange)&&n.call(t,e)},v.prototype.onWebrtcStatusChange=function(e){var t,n;null!=(t=(n=this.initOptions).onWebrtcStat)&&t.call(n,e),null!=(n=(t=this.initOptions).onWebrtcStatusChange)&&n.call(t,e)},v.prototype.onDisconnect=function(e){var t,n;null!=(n=(t=this.initOptions).onDisconnect)&&n.call(t,e)},v.prototype.onConnectFailed=function(e){var t,n;null!=(n=(t=this.initOptions).onConnectFail)&&n.call(t,e)},v.prototype.onConnectSuccess=function(e){var t,n;_("onConnectSuccess ->"),null!=(n=(t=this.initOptions).onConnectSuccess)&&n.call(t,e)},v.prototype.onGameStartComplete=function(e){var t,n;null!=(n=(t=this.initOptions).onGameStartComplete)&&n.call(t,e)},v.prototype.onGameStop=function(e){var t,n;null!=(n=(t=this.initOptions).onGameStop)&&n.call(t,e)},v.prototype.onLoadGameArchive=function(e){var t,n;null!=(n=(t=this.initOptions).onLoadGameArchive)&&n.call(t,e)},v.prototype.onSaveGameArchive=function(e){var t,n;null!=(n=(t=this.initOptions).onSaveGameArchive)&&n.call(t,e)},v.prototype.onInputStatusChange=function(e){var t,n;null!=(n=(t=this.initOptions).onInputStatusChange)&&n.call(t,e)},v.prototype.onTouchEvent=function(e){var t,n;null!=(n=(t=this.initOptions).onTouchEvent)&&n.call(t,e)},v.prototype.onCursorShowStatChange=function(e){var t,n;null!=(n=(t=this.initOptions).onCursorShowStatChange)&&n.call(t,e)},v.prototype.onGamepadConnectChange=function(e){var t,n;null!=(n=(t=this.initOptions).onGamepadConnectChange)&&n.call(t,e)},v.prototype.onConfigurationChange=function(e){var t,n;null!=(n=(t=this.initOptions).onConfigurationChange)&&n.call(t,e)},v.prototype.onRemoteScreenResolutionChange=function(e){var t,n;null!=(n=(t=this.initOptions).onRemoteScreenResolutionChange)&&n.call(t,e)},v.prototype.onVideoStreamConfigChange=function(e){var t,n;null!=(n=(t=this.initOptions).onVideoStreamConfigChange)&&n.call(t,e)},v.prototype.onDoubleTap=function(e){var t,n;null!=(n=(t=this.initOptions).onDoubleTap)&&n.call(t,e)},v.prototype.onEvent=function(e){var t,n;null!=(n=(t=this.initOptions).onEvent)&&n.call(t,e)},v.prototype.onStreamPushStateChange=function(e){var t,n;null!=(n=(t=this.initOptions).onStreamPushStateChange)&&n.call(t,e)},v.prototype.onDeviceChange=function(e){var t,n;_("onDeviceChange",Event),null!=(n=(t=this.initOptions).onDeviceChange)&&n.call(t,e)},v.prototype.onGetUserMediaStatusChange=function(e){var t,n,r=e.msg,o=e.type,i=(e=e.userMedia,""),a=0;switch(r){case"NotFoundError":case"DevicesNotFoundError":i="NotFoundError",a=1;break;case"NotAllowedError":case"PermissionDeniedError":i="NotAllowedError",a=2;break;case"OverconstrainedError":i="OverconstrainedError",a=3;break;default:i=r}null!=(n=(t=this.initOptions).onGetUserMediaStatusChange)&&n.call(t,{code:a,msg:i,type:o,userMedia:e})},v.prototype.onMultiPlayerChange=function(e){var t,n;null!=(n=(t=this.initOptions).onMultiPlayerChange)&&n.call(t,e)},v.prototype.onWebrtcStatsChange=function(e){var t;e===u.PAGE_STATS.PLAYING&&(p.default.addEventHandler(),e=(e=void 0===(e=(void 0===(e=m.default.getConfig().game_config)?h.empty:e).sdk_conf)?h.empty:e)||h.empty,this.resetCursorPos(null!=(t=this.initOptions.cursorMode)?t:e.cursor_mode),this.setRemoteCursor(null!=(t=this.initOptions.cursorMode)?t:e.cursor_mode),this.setPageBackground(null!=(t=this.initOptions.bgImgUrl)?t:e.bgimg_url),this.setDefaultCursorImage(null!=(t=this.initOptions.defaultCursorImgUrl)?t:e.default_cursor_url))},v.prototype.setFullscreen=function(e,t){return void 0===t&&(t=document.documentElement),o(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:_("setFullscreen->",e),n.label=1;case 1:return n.trys.push([1,6,,7]),e?[4,p.default.fullscreen(t)]:[3,3];case 2:return n.sent(),[3,5];case 3:return[4,p.default.exitFullscreen(t)];case 4:n.sent(),n.label=5;case 5:return[3,7];case 6:throw n.sent();case 7:return[2]}}))}))},v.prototype.getFullscreen=function(){return(0,h.isFullScreen)()},v.prototype.getPageOrientation=function(){return p.default.getPageOrientation()},v.prototype.isMobile=function(){return(0,h.isMobile)()},v.prototype.getGameMountPoint=function(){return document.getElementById(this.initOptions.mount)},v.prototype.getGameConfig=function(){return m.default.getConfig()},v.prototype.supportRenegotiation=function(){return(0,h.supportRenegotiation)()},v.prototype.showTouchPosition=function(e){l.default.sendAckData({data:{type:"show_touch_pos",show:e}})},v.prototype.mountGamePoint=function(e){function t(e){null!=e&&e.style&&(e.style.width="100%",e.style.height="100%")}var n=void 0===(n=e.mount)?"":n,r=void 0===(r=e.loadingText)?"正在启动云渲染":r,o=void 0===(o=e.showLoading)||o,i=(e=void 0===(e=e.restartText)?"重新连接":e,document.createElement("style"));(i=(document.querySelector("head").append(i),i.appendChild(document.createTextNode(d.MOUNT_POINT_CSS)),document.getElementById(n))).innerHTML=d.HTML_STRING,i.style.backgroundColor="black",t(i),t(document.body),t(document.getRootNode()),o||((0,h.getProgressBarElement)().style.display="none"),document.querySelector(".starting").innerHTML=r,document.querySelector("#".concat(n," .restart")).innerHTML=e},v.prototype.onPageLoad=function(e){_("init tcgsdk version->",c.config.version,"options->",e),_("webrtc-adapter",s.default.browserDetails.browser,s.default.browserDetails.version),e.onLog&&y.default.setExternalLog(e.onLog),l.default.init(e),p.default.init(e),this.setDebugMode(e.debugSetting),l.default.initWebRTCConnect()},v.prototype.resetCursorPos=function(e){var t,n,r;(0,h.isMobile)()&&(t=window.devicePixelRatio,n=(r=this.getDisplayRect()).width/2*t,r=r.height/2*t,_("isMobile true, cursor will auto move to->",n,r,"mode",e))},a=new v;function v(){this.version=c.config.version,this.initOptions={mount:null,reconnect:!0},this.sdkInitStartTime=null}window.TCGSDK=a,t.default=a},969:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},i=(Object.defineProperty(t,"__esModule",{value:!0}),n(7408)),a=o(n(4993)),s=o(n(5922)).default.log;c.prototype.addGamepadHandler=function(){var e=new Map;e.set(12,1),e.set(13,2),e.set(14,4),e.set(15,8),e.set(2,16384),e.set(3,32768),e.set(0,4096),e.set(1,8192),e.set(8,32),e.set(9,16),e.set(10,128),e.set(11,64),e.set(4,256),e.set(5,512),this.gamepad&&(this.gamepad.on("gamepad:connected",(function(e){var t=e.index;e=e.gamepad;s("gamepad connect, gamepad index is",t),a.default.sendGamepadEvent({type:"gamepadconnect"}),a.default.onGamepadConnectChange({status:"gamepadconnect",index:t,gamepad:e})})),this.gamepad.on("gamepad:disconnected",(function(e){e=e.index,s("gamepad disconnected, gamepad index is",e),a.default.sendGamepadEvent({type:"gamepaddisconnect"}),a.default.onGamepadConnectChange({status:"gamepaddisconnect",index:e})})),this.gamepad.on("gamepad:button",(function(t){var n=(t=t.detail).button,r=t.pressed,o=(t=t.value,e.get(n));6===n||7===n?(6===n&&a.default.sendGamepadEvent({type:"lt",x:parseInt("".concat(255*t),10),down:r}),7===n&&a.default.sendGamepadEvent({type:"rt",x:parseInt("".concat(255*t),10),down:r})):a.default.sendGamepadEvent({type:"gamepadkey",key:o,down:r})})),this.gamepad.on("gamepad:axis",(function(e){var t=(e=e.detail).stick,n=(e=e.gamepad,(e=r(e.axes,4))[0]),o=e[1],i=e[2];e=e[3];0===t&&a.default.sendGamepadEvent({type:"axisleft",x:parseInt("".concat(32767*n),10),y:-parseInt("".concat(32767*o),10)}),1===t&&a.default.sendGamepadEvent({type:"axisright",x:parseInt("".concat(32767*i),10),y:-parseInt("".concat(32767*e),10)})})),this.gamepad.start())},o=c;function c(){this.gamepad="function"==typeof navigator.getGamepads?new i.GamepadListener:null}t.default=new o},9752:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n=n||Promise)((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){var u=[s,c];if(n)throw new TypeError("Generator is already executing.");for(;i=a&&u[a=0]?0:i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,(u=o?[2&u[0],o.value]:u)[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((o=0<(o=i.trys).length&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3]))i.label=u[1];else if(6===u[0]&&i.label<o[1])i.label=o[1],o=u;else{if(!(o&&i.label<o[2])){o[2]&&i.ops.pop(),i.trys.pop();continue}i.label=o[2],i.ops.push(u)}}u=t.call(e,i)}catch(c){u=[6,c],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},c=(Object.defineProperty(t,"__esModule",{value:!0}),s(n(4993))),u=n(3578),l=s(n(9531)),p=n(9418),d=n(1743),h=s(n(4711)),f=s(n(2179)),g=s(n(2343)),m=s(n(1586)),y=(s=s(n(5922)),n(8751)),_=s.default.log,v={},O=(C.prototype.init=function(e){var t;this.forceShowCursor=null!=(t=e.forceShowCursor)&&t,this.idleThreshold=null!==(t=1e3*e.idleThreshold)?t:3e5,this.keepLastFrame=null!=(t=e.keepLastFrame)&&t,this.isMobileGame=e.mobileGame},Object.defineProperty(C.prototype,"debugSetting",{get:function(){return c.default.getInitOptions().debugSetting||{}},enumerable:!1,configurable:!0}),C.prototype.initWebRTCConnect=function(){return o(this,void 0,void 0,(function(){var e,t,n=this;return i(this,(function(r){return _("CloudGamingWebRTC init"),this.peerConnection?(_("please disconnect(TCGSDK.destroy()) before init"),[2,c.default.onInitSuccess({code:-2,msg:"please disconnect(TCGSDK.destroy()) before init"})]):(e=5,(t=function(){return o(n,void 0,void 0,(function(){var n,r=this;return i(this,(function(a){switch(a.label){case 0:if(this.isMobileGame&&!c.default.getInitOptions().mobileVpx&&!(0,d.canReceiveH264)())return setTimeout((function(){return o(r,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return 0!=--e?[3,2]:[4,(n=this).newWebRtcConnect()];case 1:return n.clientSideDescription=r.sent(),c.default.onInitSuccess({code:-1,description:this.clientSideDescription}),[2];case 2:return[4,t()];case 3:return r.sent(),[2]}}))}))}),100),c.default.onWebrtcStatusChange({code:-2}),[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(n=this).newWebRtcConnect()];case 2:return n.clientSideDescription=a.sent(),c.default.onInitSuccess({code:0,msg:"ok",description:this.clientSideDescription}),[3,4];case 3:return a.sent(),c.default.onInitSuccess({code:-1,msg:"your browser without webrtc support",description:this.clientSideDescription}),[3,4];case 4:return[2]}}))}))})(),[2])}))}))},C.prototype.sendKmData=function(e){this.idleTimes=0,this.latestActionTime=+new Date,this.debugSetting.showSendKmData,this.dataChannelSend(this.kmDataChannel,e)},C.prototype.sendAckData=function(e){var t=void 0===(t=e.data)?v:t,n=void 0===(n=e.retry)?0:n,r=void 0===(r=e.callback)?d.noop:r,o=(e=void 0===(e=e.interval)?1e3:e,"cursor_state"!==(o=t.type)&&(this.latestActionTime=+new Date,this.idleTimes=0),(0,d.getSequence)());this.dataChannelSendWithCallback({dataChannel:this.ackDataChannel,ackMsg:{seq:o,data:t},retry:n,callback:r,interval:e}),this.debugSetting.showSendAckData},C.prototype.connect=function(e){void 0===e&&(e=""),_("connect->"),g.default.setServerSessionTime(+new Date);var t,n=+new Date;if(n-this.connectBeginTime<5e3)_("connect too frequently, last is ".concat(Math.ceil((n-this.connectBeginTime)/1e3),"s")),this.clearPeerConnection(),c.default.onConnectFailed({code:p.CONNECT_FAILED_CODE.TOO_FREQUENTLY,msg:"connect too frequently"});else{"connected"!==(null==(t=this.peerConnection)?void 0:t.connectionState)&&"connecting"!==(null==(t=this.peerConnection)?void 0:t.connectionState)||_("peerConnection status is ".concat(null==(t=this.peerConnection)?void 0:t.connectionState,", please clear current connection before call TCGSDK.start()")),this.connectBeginTime=n,this.connectTimeoutCount=0,this.connectStatus=p.STATUS.CONNECTING;try{this.serverSideDescription=u.Base64.decode(e)}catch(e){throw"serverSession is not base64 string format"}this.serverSideDescription?this.onAnswer(this.serverSideDescription):c.default.onWebrtcStatusChange({code:-1,msg:"set server description failed, please try again later."})}},C.prototype.getClientSideDescription=function(){this.clientSideDescription;try{return u.Base64.encode(JSON.stringify(this.clientSideDescription))}catch(e){}},C.prototype.newWebRtcConnect=function(){return o(this,void 0,void 0,(function(){var e,t,n=this;return i(this,(function(r){switch(r.label){case 0:try{this.peerConnection=new RTCPeerConnection({sdpSemantics:"unified-plan"})}catch(r){if(_("new RTCPeerConnection error",r),"ReferenceError"===r.name&&r.message.includes("RTCPeerConnection"))throw c.default.onWebrtcStatusChange({code:255,msg:"your browser without webrtc support"}),"your browser without webrtc support";return[2]}return this.connectStatus=p.STATUS.CONNECTING,this.peerConnection.ontrack=function(e){return n.onTrack(e)},this.peerConnection.onconnectionstatechange=function(){var e;_("onconnectionstatechange",null==(e=n.peerConnection)?void 0:e.connectionState)},this.peerConnection.oniceconnectionstatechange=function(){return n.onIceConnectionStateChange()},this.peerConnection.onicecandidate=function(){},this.peerConnection.onnegotiationneeded=function(){_("onnegotiationneeded")},null!==navigator&&void 0!==navigator&&navigator.mediaDevices&&(navigator.mediaDevices.ondevicechange=function(e){c.default.onDeviceChange(e)}),this.createKmDataChannel(),this.createHbDataChannel(),this.createAckDataChannel(),this.createSvrDataChannel(),g.default.toggleMetricReportBulk(!0),t=c.default.getInitOptions(),e=t.mic,t=t.camera,null===this.mic&&(this.mic=e),null===this.camera&&(this.camera=t),[4,this.createOffer({mic:this.mic,camera:this.camera})];case 1:return[2,r.sent()]}}))}))},C.prototype.startHeartbeatReport=function(){var e=this;clearInterval(this.heartbeatTimer),_("startHeartbeatReport ->"),this.heartbeatTimer=setInterval((function(){return o(e,void 0,void 0,(function(){var e,t;return i(this,(function(n){switch(n.label){case 0:return[4,null==(t=this.peerConnection)?void 0:t.getStats(null)];case 1:return t=n.sent(),e=[],null!=t&&t.forEach((function(t){"inbound-rtp"!==(t=void 0===t?{}:t).type&&"track"!==t.type||e.push(t)})),0===e.length&&(e=[{type:"inbound-rtp",mediaType:"video"},{type:"track",jitterBufferDelay:100*Math.random()%30+10}]),g.default.setStat(e,t),this.reportStat(),[2]}}))}))}),1e3)},C.prototype.getCursorShowStatus=function(){return!!c.default.getIsMobileGame()||this.showCursor},C.prototype.mouseDeltaMove=function(){return this.remoteCursorMode===p.CURSOR_MODE.REMOTE_SRC_POS},C.prototype.lockMouse=function(e){var t,n,r;return o(this,void 0,void 0,(function(){var o;return i(this,(function(i){switch(i.label){case 0:if("touch"===h.default.getClientInteractMode())return[2];if(!e)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,null==(n=(t=(0,d.getVideoElement)()).requestPointerLock)?void 0:n.call(t)];case 2:return i.sent(),[3,4];case 3:return o=i.sent(),_("requestPointerLock error",o),c.default.onEvent({type:"pointerlockerror"}),[3,4];case 4:return[3,6];case 5:try{null!=(r=document.exitPointerLock)&&r.call(document)}catch(i){_("exitPointerLock error",i)}i.label=6;case 6:return this.remoteCursorMode===p.CURSOR_MODE.REMOTE_SRC_POS&&(e?h.default.setDropMouseEvent(!1):h.default.setDropMouseEvent(!0)),[2]}}))}))},C.prototype.setForceShowCursor=function(e){this.forceShowCursor=e},C.prototype.setForceLockCursor=function(e){this.forceLockCursor=e},C.prototype.getForceShowCursor=function(){return this.forceShowCursor},C.prototype.clearPeerConnection=function(){var e;this.mediaStream&&(this.mediaStream.getTracks().forEach((function(e){e.stop()})),this.mediaStream=null),this.dataChannelCallbacks={},this.peerConnection&&(this.kmDataChannel&&(this.kmDataChannel.close(),this.kmDataChannel=null),this.hbDataChannel&&(this.hbDataChannel.close(),this.hbDataChannel=null),this.ackDataChannel&&(this.ackDataChannel.close(),this.ackDataChannel=null),this.cdDataChannel&&(this.cdDataChannel.close(),this.cdDataChannel=null),this.svrDataChannel&&(this.svrDataChannel.close(),this.svrDataChannel=null),this.customDataChannel.size&&(this.customDataChannel.forEach((function(e){return e.close()})),this.customDataChannel.clear()),this.videoTransceiver&&(this.switchTrack({type:"video",status:"remove",userMedia:this.cameraMediaStream}),this.videoTransceiver=null),this.audioTransceiver&&(this.switchTrack({type:"audio",status:"remove",userMedia:this.micMediaStream}),this.audioTransceiver=null),this.peerConnection.close(),this.peerConnection.ontrack=null,this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onicecandidate=null,(e=(this.peerConnection=null,d.getVideoElement)()).srcObject)&&(e.srcObject=null),this.clientSideDescription=null,this.serverSideDescription=null,clearInterval(this.heartbeatTimer),this.checkMouseShowInterval&&(clearInterval(this.checkMouseShowInterval),this.checkMouseShowInterval=null),g.default.toggleMetricReportBulk(!1)},C.prototype.disconnected=function(e){var t,n=void 0===(n=e.message)?"":n;e=e.code;_("disconnected",e=void 0===e?null:e,n),this.connectStatus=p.STATUS.DISCONNECTED,this.keepLastFrame&&null!=(t=(0,d.getVideoElement)())&&t.pause(),e===p.RTC_CODE.OTHER_KICK&&(0,d.getRestartElement)()&&((0,d.getRestartElement)().style.display="block"),this.clearPeerConnection(),c.default.getInitOptions().reconnect&&e===p.RTC_CODE.NEED_RECONNECT?this.reconnect({message:n}):(_("destroy code: ".concat(e," and clear reconnect token")),l.default.setReconnectInfo({serverIp:"",token:""})),c.default.onDisconnect({code:e,msg:n}),_("call onDisconnect, code",e)},C.prototype.reconnect=function(e){e=void 0===(e=e.message)?"":e,_("reconnect, setup reconnect server_ip=".concat(f.default.getServerSideDescription().server_ip," and token=").concat(this.token)),l.default.setReconnectInfo({serverIp:f.default.getServerSideDescription().server_ip,token:this.token}),l.default.autoReconnect({message:e})},C.prototype.getRemoteCursorState=function(e){this.sendAckData({data:{type:e}})},C.prototype.getIdleTime=function(){return+new Date-this.latestActionTime},C.prototype.checkUserIdle=function(){var e=this.getIdleTime();e>this.idleThreshold&&(e=Math.floor(e/this.idleThreshold))>this.idleTimes&&(c.default.onNetworkChange({status:"idle",times:e}),c.default.onEvent({type:"idle",data:{times:e}}),this.idleTimes=e)},C.prototype.setCursorMode=function(e){var t=this,n=e,r=(n=e===p.CURSOR_MODE.REMOTE_SRC_POS?p.CURSOR_MODE.REMOTE_SRC:n)===p.CURSOR_MODE.REMOTE_DRAW;this.sendAckData({data:{type:"set_cursor",show:n},callback:function(){t.setCursorShowStatus(!r)}}),(this.remoteCursorMode=e)===p.CURSOR_MODE.REMOTE_SRC?this.createCdDataChannel():this.cdDataChannel&&(this.cdDataChannel.close(),this.cdDataChannel=null),e===p.CURSOR_MODE.LOCAL&&(n=(0,d.getVideoElement)())&&(_("videoElement.style.cursor will set to origin style",this.originCursorStyle),n.style.cursor="url(".concat(this.originCursorStyle,") ").concat(this.hotSpot.x," ").concat(this.hotSpot.y,", auto"))},C.prototype.getCursorMode=function(){return this.remoteCursorMode},C.prototype.setMobileCursorScale=function(e){this.mobileCursorScale=e},C.prototype.getDisplayRect=function(){var e,t=(e=(null==(e=(0,d.getVideoElement)())?void 0:e.getBoundingClientRect())||v).width,n=e.height,r=e.left;return{left:void 0===r?0:r,top:void 0===(e=e.top)?0:e,width:void 0===t?0:t,height:void 0===n?0:n,pixelRatio:window.devicePixelRatio||1}},C.prototype.setDefaultCursorImage=function(e){var t;(0,d.isMobile)()?(t=(0,d.getCursorElement)(),void 0===e?(t.style.width="3px",t.style.height="3px",t.style.borderRadius="50%",t.style.backgroundColor="#2dc7ef"):t.style.backgroundImage="url(".concat(e,")")):(t=(0,d.getVideoElement)(),this.originCursorStyle=null!=e?e:"",t.style.cursor="url(".concat(e,") ").concat(this.hotSpot.x," ").concat(this.hotSpot.y,", auto"))},C.prototype.toggleStatisticsView=function(){var e=document.querySelector("#__vconsole");g.default.show(!g.default.isShowing()),e&&(e.style.display=g.default.isShowing()?"":"none")},C.prototype.setNewConnectTimeout=function(e){this.newConnectTimeout=e=void 0===e?60:e},C.prototype.setNoflowTimeout=function(e){this.noflowTimeout=e=void 0===e?10:e},C.prototype.setKeepLastFrame=function(e){this.keepLastFrame=e=void 0!==e&&e},C.prototype.setMobileShowCursor=function(e){this.mobileShowCursor=e=void 0===e||e},C.prototype.setGameStatus=function(e){this.gameStatus=e},C.prototype.getIsMobileGame=function(){return this.isMobileGame},C.prototype.createCustomDataChannel=function(e){var t,n,r=void 0===(n=e.destPort)?1:n,a=void 0===(n=e.onMessage)?d.noop:n,s=void 0===(n=e.onClose)?d.noop:n,c=void 0===(n=e.onError)?d.noop:n,u=void 0===(n=e.label)?"":n,l=void 0===(n=e.protocol)?"text":n;return o(this,void 0,Promise,(function(){var e,n=this;return i(this,(function(o){switch(o.label){case 0:return"open"!==(null==(t=this.ackDataChannel)?void 0:t.readyState)?[2,{code:1,msg:"ack dataChannel does not open, please try again later."}]:(u=u||"cs_".concat(r),_("start createCustomDataChannel, destPort: ".concat(r,", ackDataChannel state: ").concat(null==(t=this.ackDataChannel)?void 0:t.readyState,", label: ").concat(u,", protocol: ").concat(l)),(e=null==(t=this.peerConnection)?void 0:t.createDataChannel(u))?(e.onmessage=function(e){var t;_("dataChannel:".concat(u," onmessage"),"string"==typeof e.data?null==(t=e.data)?void 0:t.length:null==(t=e.data)?void 0:t.byteLength),a(e.data)},e.onclose=function(e){return s(e)},e.onerror=function(e){return c(e)},this.customDataChannel.set(r,e),[4,new Promise((function(e){n.sendAckData({data:{type:"udp_trans",dest_port:r,protocol:l,label:u},callback:function(t){t=t.data,_("createCustomDataChannel label:".concat(u," destPort:").concat(r," success"),t),e({code:t.code,msg:t.msg})}}),_("customDataChannels",n.customDataChannel),setTimeout((function(){e({code:3,msg:"request timeout, please try again later."})}),5e3)}))]):[3,2]);case 1:return[2,o.sent()];case 2:return _("createCustomDataChannel fail"),[2,{code:1}]}}))}))},C.prototype.sendCustomDataChannelMessage=function(e){var t=void 0===(t=e.destPort)?0:t,n=(e=void 0===(e=e.msg)?"":e,this.customDataChannel.get(t));"open"===(null==n?void 0:n.readyState)&&(_("sendCustomDataChannelMessage",e.length,t,null==n?void 0:n.readyState),n.send(e))},C.prototype.setTrackEnable=function(e){var t=void 0===(t=e.type)?"audio":t;e=e.enable;if(_("setTrackEnable type",t,"enable",e=void 0===e||e),"audio"===t)return this.audioTransceiver.sender?(this.audioTransceiver.sender.track.enabled=e,_("audioTransceiver.sender",this.audioTransceiver.sender,e),{code:0}):{code:1,message:"audioTransceiver.sender is null"}},C.prototype.switchTrack=function(e){var t,n,r=e.type,o=e.status;e=e.userMedia;return _("switchTrack type",r,"status",o),"audio"===r?this.audioTransceiver.sender?("add"===o&&(n=null==(n=null==e?void 0:e.getAudioTracks())?void 0:n[0],this.audioTransceiver.sender.replaceTrack(n)),"remove"===o&&(this.audioTransceiver.sender.replaceTrack(null),null!=(t=null==e?void 0:e.getAudioTracks()[0]))&&t.stop(),{code:0,message:"success"}):{code:1,message:"audioTransceiver.sender is null"}:"video"===r?this.videoTransceiver.sender?("add"===o&&(n=null==(t=null==e?void 0:e.getVideoTracks())?void 0:t[0],this.videoTransceiver.sender.replaceTrack(n)),"remove"===o&&(this.videoTransceiver.sender.replaceTrack(null),null!=(r=null==e?void 0:e.getVideoTracks()[0])&&r.stop()),{code:0,message:"success"}):{code:2,message:"videoTransceiver.sender is null"}:void 0},C.prototype.getMediaStream=function(){return this.mediaStream},C.prototype.getUserMedia=function(){var e,t=new MediaStream;return null!=(e=this.cameraMediaStream)&&e.getTracks().forEach((function(e){t.addTrack(e)})),null!=(e=this.micMediaStream)&&e.getTracks().forEach((function(e){t.addTrack(e)})),t},C.prototype.switchMic=function(e){var t,n=e.status;return o(this,void 0,Promise,(function(){var e,r,o,a;return i(this,(function(i){switch(i.label){case 0:return _("switchMic status",n),"open"!==n?[3,4]:null!=(t=this.audioTransceiver.sender)&&t.track?(_("mic opened, audioTransceiver sender",this.audioTransceiver.sender),[3,4]):[3,1];case 1:return i.trys.push([1,3,,4]),[4,(e=this).createUserMedia({mic:!0})];case 2:return e.micMediaStream=i.sent(),a=this.switchTrack({type:"audio",status:"add",userMedia:this.micMediaStream}),o=a.code,a=a.message,this.mic=!0,c.default.onGetUserMediaStatusChange({msg:"mic open",type:"mic",userMedia:this.micMediaStream}),[2,{code:o,msg:a,userMedia:this.micMediaStream}];case 3:return r=i.sent(),c.default.onGetUserMediaStatusChange({msg:r,type:"mic"}),[2,{code:1,msg:r,userMedia:null}];case 4:return"close"===n?(r=this.switchTrack({type:"audio",status:"remove",userMedia:this.micMediaStream}),o=r.code,a=r.message,this.mic=!1,c.default.onGetUserMediaStatusChange({msg:"mic close",type:"mic"}),[2,{code:o,msg:a,userMedia:null}]):[2]}}))}))},C.prototype.switchCamera=function(e){var t,n=e.status;return o(this,void 0,Promise,(function(){var e,r,o,a;return i(this,(function(i){switch(i.label){case 0:return _("switchCamera status",n),"open"!==n?[3,4]:null!=(t=this.videoTransceiver.sender)&&t.track?(_("camera opened, videoTransceiver sender",this.videoTransceiver.sender),[3,4]):[3,1];case 1:return i.trys.push([1,3,,4]),[4,(e=this).createUserMedia({camera:!0})];case 2:return e.cameraMediaStream=i.sent(),a=this.switchTrack({type:"video",status:"add",userMedia:this.cameraMediaStream}),o=a.code,a=a.message,this.camera=!0,c.default.onGetUserMediaStatusChange({msg:"camera open",type:"camera",userMedia:this.cameraMediaStream}),[2,{code:o,msg:a,userMedia:this.cameraMediaStream}];case 3:return r=i.sent(),c.default.onGetUserMediaStatusChange({msg:r,type:"camera"}),[2,{code:1,msg:r,userMedia:null}];case 4:return"close"===n?(r=this.switchTrack({type:"video",status:"remove",userMedia:this.cameraMediaStream}),o=r.code,a=r.message,this.camera=!1,c.default.onGetUserMediaStatusChange({msg:"camera close",type:"camera"}),[2,{code:o,msg:a,userMedia:this.cameraMediaStream}]):[2]}}))}))},C.prototype.setMicProfile=function(e){var t;return o(this,void 0,Promise,(function(){var n,r;return i(this,(function(o){switch(o.label){case 0:if(_("setMicProfile",e),!this.mic)return _("please open mic"),[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(n=this).createUserMedia({mic:e})];case 2:return n.micMediaStream=o.sent(),this.micMediaStream?(null!=(t=this.audioTransceiver.sender)&&t.replaceTrack(null==(t=this.micMediaStream.getAudioTracks())?void 0:t[0]),c.default.onGetUserMediaStatusChange({msg:"setMicProfile success",type:"mic",userMedia:this.micMediaStream}),[2,{code:0,msg:"success",userMedia:this.micMediaStream}]):[3,4];case 3:return r=o.sent(),c.default.onGetUserMediaStatusChange({msg:r,type:"mic"}),[2,{code:1,msg:r,userMedia:null}];case 4:return[2]}}))}))},C.prototype.setCameraProfile=function(e){var t;return o(this,void 0,Promise,(function(){var n,r;return i(this,(function(o){switch(o.label){case 0:if(_("setCameraProfile",e),!this.camera)return _("please open camera"),[2];if("string"==typeof e&&e===this.cameraProfile.type)return _("profile is same as last value"),[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(n=this).createUserMedia({camera:e})];case 2:return n.cameraMediaStream=o.sent(),this.cameraMediaStream?(null!=(t=this.videoTransceiver.sender)&&t.replaceTrack(null==(t=this.cameraMediaStream.getVideoTracks())?void 0:t[0]),c.default.onGetUserMediaStatusChange({msg:"setCameraProfile success",type:"camera",userMedia:this.cameraMediaStream}),[2,{code:0,msg:"success",userMedia:this.cameraMediaStream}]):[3,4];case 3:return r=o.sent(),c.default.onGetUserMediaStatusChange({msg:r,type:"camera"}),[2,{code:1,msg:r,userMedia:null}];case 4:return[2]}}))}))},C.prototype.setCameraBitrate=function(e){return o(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:if(!("RTCRtpSender"in window)||!("setParameters"in window.RTCRtpSender.prototype))return[3,7];if(!this.videoTransceiver.sender)return[3,5];(t=this.videoTransceiver.sender.getParameters()).encodings||(t.encodings=[{}]),"unlimited"===e?delete t.encodings[0].maxBitrate:t.encodings[0].maxBitrate=1e3*e,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.videoTransceiver.sender.setParameters(t)];case 2:return r.sent(),_("setCameraBitrate success ".concat("number"==typeof e?e:"unlimited"," kbps")),[3,4];case 3:return n=r.sent(),_("setCameraBitrate error",n),[3,4];case 4:return[3,6];case 5:_("camera sender is not found"),r.label=6;case 6:return[3,8];case 7:_("can not find RTCRtpSender in window"),r.label=8;case 8:return[2]}}))}))},C.prototype.getDevices=function(){return o(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,navigator.mediaDevices.enumerateDevices()];case 1:return e=t.sent(),_("getDevices",e),e=null==e?void 0:e.filter((function(e){return e.kind.includes("input")&&"default"!==e.deviceId})),_("inputDevices",e),[2,e];case 2:throw e=t.sent(),_("getDevices error",e),e;case 3:return[2]}}))}))},C.prototype.renegotiation=function(e){return o(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:if(_("renegotiation"),!(0,d.supportRenegotiation)())return _("renegotiation not support"),_("ios version is",(0,d.getIOSVersion)()),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),_("renegotiation setRemoteDescription"),[4,this.peerConnection.setRemoteDescription(new RTCSessionDescription({sdp:e,type:"offer"}))];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),_("renegotiation setRemoteDescription exception->",n,n.message),c.default.onWebrtcStatusChange({code:-1,msg:"setRemoteDescription failed."}),[3,4];case 4:return r.trys.push([4,7,,8]),[4,this.peerConnection.createAnswer()];case 5:return t=r.sent(),_("renegotiation setLocalDescription"),[4,this.peerConnection.setLocalDescription(t)];case 6:return r.sent(),this.sendAckData({data:{type:"user_update",sdp:t.sdp}}),[3,8];case 7:return n=r.sent(),_("renegotiation setLocalDescription exception->",n,n.message),[3,8];case 8:return[2]}}))}))},C.prototype.onAnswer=function(e){var t,n;void 0===e&&(e="");try{var r=JSON.parse(e),o=r.role,i=r.game_config,a=r.feature_switch,s=r.input_seat,u=r.code,l=r.message,g=r.screen_config,m=r.plat,y=r.video;_("onAnswer-> serverSideDescriptionObject",r);try{this.peerConnection.setRemoteDescription(new RTCSessionDescription({sdp:r.sdp,type:"answer"})),f.default.setGameConfig(i),f.default.setRole(o),f.default.setSeatIndex(s),f.default.setServerSideDescription(r),f.default.setFeatureSwitch(a)}catch(e){_("setRemoteDescription exception->",e),c.default.onWebrtcStatusChange({code:-1,msg:"setRemoteDescription 失败，请稍后重试."})}!m||"android"!==m&&"Android"!==m||(this.isMobileGame=!0,h.default.remoteScreenResolutionChange({width:null!=(t="portrait"===(null==g?void 0:g.orientation)?null==g?void 0:g.width:null==g?void 0:g.height)?t:0,height:null!=(n="portrait"===(null==g?void 0:g.orientation)?null==g?void 0:g.height:null==g?void 0:g.width)?n:0,left:0,top:0})),c.default.onWebrtcStatusChange({code:1e3<u?p.ANSWER_SDP_CODE.PROXY_ERROR:u,msg:l}),(0,d.isMobile)()?h.default.initOrientationDetector():c.default.getIsMobileGame()&&"landscape"===(null==g?void 0:g.orientation)&&(null==y?void 0:y.height)>(null==y?void 0:y.width)&&(h.default.setRemoteOrientation(g.orientation),h.default.setVideoOrientation({deg:270,rotateMountPoint:!0})),c.default.onConfigurationChange({screen_config:g})}catch(e){_("parse serverSideDescription error",e),c.default.onWebrtcStatusChange({code:-1,msg:"parse serverSideDescription error"})}},C.prototype.createUserMedia=function(e){var t,n=void 0!==(t=e.mic)&&t,a=void 0!==(t=e.camera)&&t;return o(this,void 0,void 0,(function(){var e,t,o,s,c,u;return i(this,(function(i){switch(i.label){case 0:if(!n)return[3,4];_("createUserMedia mic",n),"object"==typeof n&&(this.micProfile=r(r({},this.micProfile),n)),_("micProfile",this.micProfile),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,navigator.mediaDevices.getUserMedia({audio:"boolean"==typeof n?n:this.micProfile})];case 2:return[2,i.sent()];case 3:throw e=i.sent(),_("getUserMedia mic error",e,null==e?void 0:e.name),e.name;case 4:if(!a)return[3,8];if(_("createUserMedia camera",a),"string"==typeof a&&(Object.keys(y.CameraProfile).includes(a)?this.cameraProfile=y.CameraProfile[a]:_("".concat(a," is not included in camera profile types, use default settings"))),"object"==typeof a&&(this.cameraProfile=r(r({},this.cameraProfile),a)),e=this.cameraProfile,u=e.width,t=e.height,o=e.frameRate,s=e.deviceId,c=null,"user"===s||"environment"===s){if(!(0,d.isMobile)())return _("PC use default settings"),[2,this.cameraMediaStream];c={facingMode:{exact:s}}}else c={width:u,height:t,frameRate:o,deviceId:s};_("cameraConstraints",c),i.label=5;case 5:return i.trys.push([5,7,,8]),[4,navigator.mediaDevices.getUserMedia({video:"boolean"==typeof a?a:c})];case 6:return[2,i.sent()];case 7:throw u=i.sent(),_("getUserMedia camera error",u,null==u?void 0:u.name),u.name;case 8:return[2]}}))}))},C.prototype.createOffer=function(e){var t,n=void 0!==(t=e.mic)&&t,r=void 0!==(t=e.camera)&&t;return o(this,void 0,void 0,(function(){var e,t;return i(this,(function(o){switch(o.label){case 0:return _("create offer","mic",n,"camera",r),this.videoTransceiver=this.peerConnection.addTransceiver("video",{direction:"sendrecv"}),this.audioTransceiver=this.peerConnection.addTransceiver("audio",{direction:"sendrecv"}),n?[4,this.switchMic({status:"open"})]:[3,2];case 1:o.sent(),o.label=2;case 2:return r?[4,this.switchCamera({status:"open"})]:[3,4];case 3:o.sent(),o.label=4;case 4:return o.trys.push([4,7,,8]),e=this.onOffer,[4,this.peerConnection.createOffer()];case 5:return[4,e.apply(this,[o.sent()])];case 6:return[2,o.sent()];case 7:return t=o.sent(),_("create offer error",t),this.disconnected({message:"create offer is failed",code:p.RTC_CODE.CREATE_OFFER_FAILED}),[3,8];case 8:return[2]}}))}))},C.prototype.onOffer=function(e){return o(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(o){switch(o.label){case 0:_("onOffer->",e),t=e.sdp,n=e.type,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.peerConnection.setLocalDescription({type:n,sdp:t})];case 2:return o.sent(),r=this.peerConnection.localDescription,(0,d.checkProfileLevelId)(r.sdp),this.clientSideDescription={sdp:t,type:n,deviceInfo:{platform:(0,d.isMobile)()?"mobile":"pc",user_agent:(0,d.is360)()?"".concat(null===navigator||void 0===navigator?void 0:navigator.userAgent," 360 browser"):null===navigator||void 0===navigator?void 0:navigator.userAgent},sdkType:"JS"},[2,this.clientSideDescription];case 3:throw r=o.sent(),_("onOffer exception->",null==r?void 0:r.message,null==r?void 0:r.name),null==r?void 0:r.message;case 4:return[2]}}))}))},C.prototype.checkAckDataChannelStatus=function(){var e,t=this;"open"===(null==(e=this.ackDataChannel)?void 0:e.readyState)?(this.onLoadedMetaData(),clearInterval(this.ackDataChannelTimer),this.ackDataChannelTimer=null):this.ackDataChannelTimer||(this.ackDataChannelTimer=setInterval((function(){t.checkAckDataChannelStatus()}),500))},C.prototype.onTrack=function(e){var t;if(_("onTrack",e.track),"audio"===e.track.kind&&e.track.label.includes("|"))return n=(t=a(e.track.label.split("|"),2))[0],t=t[1],_("on audio Track",e.track.label,n,t,e.streams[0].id),f.default.setHostUserId(n),(0,d.createAudioAndAddTrack)({id:t,source:e.streams[0]});this.mediaStream||(this.mediaStream=new MediaStream),"video"===e.track.kind&&0===this.mediaStream.getVideoTracks().length&&this.mediaStream.addTrack(e.track),"audio"===e.track.kind&&0===this.mediaStream.getAudioTracks().length&&this.mediaStream.addTrack(e.track);var n=(0,d.getVideoElement)();n.srcObject||(n.srcObject=this.mediaStream),"video"===e.track.kind&&(_("on video Track"),this.checkAckDataChannelStatus())},C.prototype.onLoadedMetaData=function(){var e,t=this;if(_("onLoadedMetaData->"),this.connectStatus===p.STATUS.DISCONNECTED)return _("connectStatus is disconnected, onLoadedMetaData return");(0,d.getCloudGamingContainerElement)().style.display="flex",(0,d.getProgressBarElement)().style.display="none",(0,d.getRestartElement)().style.display="none",(0,d.getVideoElement)().focus(),null!=(e=null==(e=null==(e=(0,d.getVideoElement)())?void 0:e.play())?void 0:e.then((function(){_("video play success"),c.default.onEvent({type:"autoplay",data:{code:0,message:"video play success"}}),c.default.reshapeWindow()})))&&e.catch((function(e){_("video play error, ",e,e.name),c.default.onEvent({type:"autoplay",data:{code:-1,message:e}})})),c.default.onWebrtcStatsChange(p.PAGE_STATS.PLAYING),c.default.onConnectSuccess({code:0,seat_index:f.default.getConfig().seat_index,role:f.default.getConfig().role}),g.default.setConnectSuccessTime(+new Date),this.connectStatus=p.STATUS.ESTABLISHED,this.checkMouseShowInterval||(this.checkMouseShowInterval=setInterval((function(){t.checkUserIdle()}),100)),this.startHeartbeatReport()},C.prototype.onIceConnectionStateChange=function(){_("onIceConnectionStateChange",this.peerConnection.iceConnectionState),this.peerConnection?("connected"===this.peerConnection.iceConnectionState&&g.default.setIceConnectedTime(+new Date),"disconnected"===this.peerConnection.iceConnectionState&&(_("The ICE disconnected, please check the network."),_("Follow the link, https://cloud.tencent.com/document/product/1547/75988, and check your network."),this.disconnected({message:"The ICE disconnected, please check the network.",code:p.RTC_CODE.NEED_RECONNECT}))):_("The peerConnection disconnected")},C.prototype.createKmDataChannel=function(){var e=this;_("start createKmDataChannel"),this.kmDataChannel=this.peerConnection.createDataChannel(p.DATACHANNEL.KM,{ordered:!0,maxRetransmits:10}),this.kmDataChannel.onmessage=function(t){return e.onKmMessage(t)},this.kmDataChannel.onopen=function(t){return e.onDataChannelOpen(t)},this.kmDataChannel.onclose=function(t){return e.onDataChannelClose(t)},this.kmDataChannel.onerror=function(t){return e.onDataChannelError(t)}},C.prototype.createHbDataChannel=function(){var e=this;_("start createHbDataChannel"),this.hbDataChannel=this.peerConnection.createDataChannel(p.DATACHANNEL.HB,{ordered:!0,maxRetransmits:0}),this.hbDataChannel.onmessage=function(t){return e.onHbMessage(t)},this.hbDataChannel.onopen=function(t){return e.onDataChannelOpen(t)},this.hbDataChannel.onclose=function(t){return e.onDataChannelClose(t)},this.hbDataChannel.onerror=function(t){return e.onDataChannelError(t)}},C.prototype.createAckDataChannel=function(){var e=this;_("start createAckDataChannel"),this.ackDataChannel=this.peerConnection.createDataChannel(p.DATACHANNEL.ACK,{ordered:!0,maxRetransmits:10}),this.ackDataChannel.onmessage=function(t){return e.onAckMessage(t)},this.ackDataChannel.onopen=function(t){return e.onDataChannelOpen(t)},this.ackDataChannel.onclose=function(t){return e.onDataChannelClose(t)},this.ackDataChannel.onerror=function(t){return e.onDataChannelError(t)}},C.prototype.createCdDataChannel=function(){var e,t=this;_("start createCdDataChannel"),this.cdDataChannel=null==(e=this.peerConnection)?void 0:e.createDataChannel(p.DATACHANNEL.CD,{ordered:!0,maxRetransmits:0}),this.cdDataChannel&&(this.cdDataChannel.onmessage=function(e){return t.onCdMessage(e)},this.cdDataChannel.onopen=function(e){return t.onDataChannelOpen(e)},this.cdDataChannel.onclose=function(e){return t.onDataChannelClose(e)},this.cdDataChannel.onerror=function(e){return t.onDataChannelError(e)})},C.prototype.createSvrDataChannel=function(){var e,t=this;_("start createSvrDataChannel"),this.svrDataChannel=null==(e=this.peerConnection)?void 0:e.createDataChannel(p.DATACHANNEL.SV,{ordered:!0,maxRetransmits:0}),this.svrDataChannel&&(this.svrDataChannel.onmessage=function(e){return t.onSvrMessage(e)},this.svrDataChannel.onopen=function(e){return t.onDataChannelOpen(e)},this.svrDataChannel.onclose=function(e){return t.onDataChannelClose(e)},this.svrDataChannel.onerror=function(e){return t.onDataChannelError(e)})},C.prototype.onDataChannelError=function(e){var t=(e=e||{}).target;e=e.error;_("".concat(t.label," datachannel error->"),null==e?void 0:e.message)},C.prototype.onDataChannelOpen=function(e){e=(e||{}).target,_("".concat(e.label," datachannel open->"),e.readyState,e.label),"hb"===e.label&&this.startHeartbeatReport()},C.prototype.onDataChannelClose=function(e){e=(e||{}).target,_("".concat(e.label," datachannel close->"),e.readyState)},C.prototype.onKmMessage=function(e){e=JSON.parse(e.data);var t=(this.debugSetting.showOnKmMessage,e.screen_width),n=e.screen_height,r=e.screen_left,o=e.screen_top,i=e.cursor_showing;h.default.remoteScreenResolutionChange({width:t,height:n,left:r,top:o}),g.default.setCpuAndGpuUsage({cpu:e.cpu_usage,gpu:e.gpu_usage}),this.setCursorShowStatus(null==i||i)},C.prototype.onHbMessage=function(e){var t=(e=JSON.parse(e.data)).token,n=e.code,r=e.user_id,o=e.timestamp,i=e.message,a=e.stream_push_state;t&&(this.token=t),this.debugSetting.showOnHbMessage,0<=n&&(_("onHbMessage",i),this.disconnected({message:i,code:n})),r&&c.default.onNetworkChange({status:"stats",stats:e}),o&&(t=+new Date-+o,!g.default.setRTT(t)||r&&f.default.getServerSideDescription().user_id!==r||c.default.onNetworkChange({status:"jitter",data:{value:t,message:"NETWORK_JITTER"}})),this.streamPushStat!==a&&(this.streamPushStat=a,c.default.onStreamPushStateChange({stream_push_state:this.streamPushStat}))},C.prototype.onAckMessage=function(e){try{var t=JSON.parse(e.data),n=t.data,r=void 0===n?v:n,o=t.seq;if(!this.debugSetting.showOnAckMessage||"cursor_state"!==r.type&&r.type,"seats_info_sync"!==r.type){var i,a,s,u,l,d,m=this.dataChannelCallbacks[o];switch(o&&(g.default.setInputEnd(o),m)&&(i=m.callback,delete this.dataChannelCallbacks[o],this.dataChannelRetryTimers[o]&&(clearTimeout(this.dataChannelRetryTimers[o]),delete this.dataChannelRetryTimers[o]),null!=i&&i({code:0,msg:"on ack message",data:r})),r.type){case"cursor_state":r.state&&this.setCursorShowStatus("showing"===r.state);break;case"game_launched":_("game_launched",r),c.default.onNetworkChange({status:"gamelaunched",data:{begin:r.launch_begin,finish:r.launch_complete}});break;case"input_seat":_("got new input_seat",r),f.default.setSeatIndex(r.input_seat);break;case"user_state":_("user state update",r),c.default.onMultiPlayerChange({user_state:{user_id:r.user_id,state:r.state}});break;case"open_url":_("got open_url",r),c.default.onNetworkChange({status:"openurl",data:{value:r.url}}),c.default.onEvent({type:"openurl",data:{value:r.url}});break;case"vmaf_test":default:break;case"user_sdk_update":_("user_sdk_update",r),this.peerConnection.setRemoteDescription(new RTCSessionDescription({sdp:r.sdp,type:"answer"}));break;case"user_update":_("user_update"),this.renegotiation(r.sdp);break;case"sync_seats":_("sync_seats",r),m||c.default.onMultiPlayerChange({seats_info:{players:r.players,viewers:r.viewers}});var y=f.default.getServerSideDescription().user_id,C=r.players.find((function(e){return e.name===y}));C&&(0!==C.mic_status&&1!==C.mic_status||O.setTrackEnable({type:"audio",enable:!1}),2===C.mic_status)&&O.setTrackEnable({type:"audio",enable:!0});break;case"submit_seat_change":_("submit_seat_change",r),m||c.default.onMultiPlayerChange({submit_seat_change:{user_id:r.user_id,to_role:r.to_role,seat_index:r.seat_index}});break;case"cursor_pos":this.remoteCursorMode===p.CURSOR_MODE.REMOTE_SRC_POS&&(a=r.x,s=r.y,l=(u=h.default.transferLocalScale({width:a-this.hotSpot.x,height:s-this.hotSpot.y})).width,d=u.height,h.default.updateCursorPosition({displayX:l,displayY:d}))}}}catch(e){_("onAckMessage exception->",null==e?void 0:e.message)}},C.prototype.onCdMessage=function(e){var t=this,n=e.data;if(n)try{var r=JSON.parse(n),o=r.data,i=r.hotspotx,a=void 0===i?0:i,s=r.hotspoty,c=void 0===s?0:s,u=(this.debugSetting.showOnCdMessage&&_("onCdMessage image data->".concat(o.length," ").concat((0,m.default)(o)),"hotspotx",a,"hotspoty",c),this.hotSpot.x=a,this.hotSpot.y=c,"data:image/png;base64,".concat(o)),l=(this.remoteCursorImage=u,new Image);l.onload=function(){var e,n;(0,d.isMobile)()||t.remoteCursorMode===p.CURSOR_MODE.REMOTE_SRC_POS?((0,d.getCursorElement)().style.backgroundImage="url(".concat(u,")"),n=(e=h.default.transferLocalScale({width:l.width,height:l.height})).width,e=e.height,t.resizeMobileCursor({width:n,height:e})):(n=(0,d.getVideoElement)())&&(n.style.cursor="url(".concat(u,") ").concat(t.hotSpot.x," ").concat(t.hotSpot.y,", auto"))},l.onerror=function(e){_("onCdMessage image data load failed",e)},l.src=u}catch(e){_("onCdMessage data parse failed",e)}else _("onCdMessage no data")},C.prototype.onSvrMessage=function(e){var t=e.data;if(t)try{var n=JSON.parse(t),o=n.type,i=n.data;switch(this.debugSetting.showOnSvMessage&&_("onSvMessage","type: ",o,"data",t),o){case"game_start_complete":c.default.onGameStartComplete(i);break;case"game_stopped":c.default.onGameStop(i);break;case"archive_load_status":c.default.onLoadGameArchive(i);break;case"archive_save_status":c.default.onSaveGameArchive(i);break;case"metric_sig_key":f.default.setServerSideDescription(r(r({},f.default.getServerSideDescription()),{sig_key:i.sig_key}));break;case"screen_config_change":c.default.onConfigurationChange({screen_config:i});break;case"hit_input":var a=i.field_type,s=i.status;c.default.onInputStatusChange({field_type:a,status:s})}}catch(e){_("onSvMessage data parse failed",e)}else _("onSvMessage no data")},C.prototype.resizeMobileCursor=function(e){var t=void 0===(t=e.width)?13:t,n=(e=void 0===(e=e.height)?13:e,(0,d.getCursorElement)());n.style.width="".concat(Math.round(t*this.mobileCursorScale),"px"),n.style.height="".concat(Math.round(e*this.mobileCursorScale),"px"),n.style.borderRadius=null,n.style.backgroundColor=null},C.prototype.reportStat=function(){var e,t,n,o,i,a=g.default.getStats(),s=a.fps;if(this.connectStatus===p.STATUS.CONNECTING&&(this.connectTimeoutCount+=1,this.connectTimeoutCount>=this.newConnectTimeout)&&(_("connect timeout, no-flow notify"),c.default.onNetworkChange({status:"noflow"}),c.default.onEvent({type:"noflow"}),this.disconnected({message:"connect timeout, please reconnect",code:p.RTC_CODE.NEED_RECONNECT}),this.connectTimeoutCount=0),this.connectStatus===p.STATUS.ESTABLISHED&&(0===s&&"playing"===this.gameStatus?(this.noFlowCount+=1,this.noFlowCount>=this.noflowTimeout&&(_("noFlowCount reach, no-flow notify"),c.default.onNetworkChange({status:"noflowcenter"}),c.default.onEvent({type:"noflowcenter"}),this.disconnected({message:"no flow and fps is 0, please reconnect",code:p.RTC_CODE.NEED_RECONNECT}),this.noFlowCount=0)):this.noFlowCount=0),!this.hbDataChannel)return _("hbDataChannel has been closed");a.timestamp=+new Date,this.connectStatus!==p.STATUS.DISCONNECTED&&(s=a.fps,e=a.delay,t=a.bit_rate,n=a.packet_lost,o=a.nack,i=a.packet_received,s=r(r({},a),{fps:"".concat(s),delay:"".concat(e),bit_rate:"".concat(8*t),packet_lost:"".concat(n),nack:"".concat(o),packet_received:"".concat(i)}),this.dataChannelSend(this.hbDataChannel,s),this.debugSetting.showSendHbData,c.default.onNetworkChange({status:"stats",stats:a}),c.default.onEvent({type:"webrtc_stats",data:a})),g.default.addReportStat()},C.prototype.dataChannelSend=function(e,t){"open"===(null==e?void 0:e.readyState)&&e.send(JSON.stringify(t))},C.prototype.dataChannelSendWithCallback=function(e){var t=this,n=void 0===(r=e.dataChannel)?null:r,r=void 0===(r=e.ackMsg)?v:r,o=void 0===(o=e.retry)?0:o,i=void 0===(i=e.callback)?d.noop:i,a=void 0===(a=e.interval)?1e3:a;if("open"===(null==n?void 0:n.readyState))try{var s,c=r.seq;c||(c=(0,d.getSequence)(),g.default.setInputStart(c)),n.send(JSON.stringify(r)),this.dataChannelCallbacks[c]={ackMsg:r,retry:o,callback:i,interval:a,retryAction:function(){if(!t.dataChannelCallbacks[c])return _(n.label,c,"ackItem not exist");var e=t.dataChannelCallbacks[c];1<=e.retry||-1===e.retry?(_(n.label,c,"ackItem retry, remain ".concat(e.retry," times")),e.retry=1<=e.retry?e.retry-1:e.retry,t.dataChannelSendWithCallback({dataChannel:n,ackMsg:e.ackMsg,retry:e.retry,callback:e.callback,interval:e.interval})):(e=e.callback,delete t.dataChannelCallbacks[c],t.dataChannelRetryTimers[c]&&(g.default.setInputEnd(c),clearTimeout(t.dataChannelRetryTimers[c]),delete t.dataChannelRetryTimers[c],_("ack msg timer timeout clear:",c)),e({code:1,msg:"send ack message timeout"}),_("send ack message timeout:",c))}},0<o&&(s=setTimeout((function(){var e;null!=(e=t.dataChannelCallbacks[c])&&e.retryAction()}),a),this.dataChannelRetryTimers[c]=s)}catch(e){_("ack msg exception:",e)}},C.prototype.setCursorShowStatus=function(e){if(this.connectStatus===p.STATUS.ESTABLISHED){this.forceShowCursor||!this.forceLockCursor&&e&&this.remoteCursorMode!==p.CURSOR_MODE.REMOTE_SRC_POS?this.lockMouse(!1):this.lockMouse(!0),this.forceLockCursor?this.showCursor=!1:(e!==this.showCursor&&(_("cursor show stat will set to",e),c.default.onCursorShowStatChange({oldStatus:this.showCursor,newStatus:e})),this.showCursor=e);var t=(0,d.getVideoElement)(),n=(0,d.getCursorElement)();if(this.remoteCursorMode!==p.CURSOR_MODE.REMOTE_SRC_POS){if(this.remoteCursorMode===p.CURSOR_MODE.REMOTE_DRAW)return t.style.cursor="none";t&&(e||this.forceShowCursor?t.style.cursor="url(".concat(this.remoteCursorImage||this.originCursorStyle,") ").concat(this.hotSpot.x," ").concat(this.hotSpot.y,", auto"):t.style.cursor="none"),(0,d.isMobile)()&&((e||this.forceShowCursor)&&this.mobileShowCursor?n.style.display="block":n.style.display="none")}else(e||this.forceShowCursor)&&this.mobileShowCursor?n.style.display="block":n.style.display="none"}},new C);function C(){this.forceShowCursor=!1,this.forceLockCursor=!1,this.showCursor=!0,this.remoteCursorMode=p.CURSOR_MODE.LOCAL,this.mobileCursorScale=1,this.mobileShowCursor=!0,this.originCursorStyle="",this.hotSpot={x:0,y:0},this.remoteCursorImage="",this.token="",this.keepLastFrame=!1,this.serverSideDescription="",this.latestActionTime=+new Date,this.isMobileGame=!1,this.connectBeginTime=0,this.connectTimeoutCount=0,this.connectStatus=p.STATUS.DISCONNECTED,this.heartbeatTimer=null,this.newConnectTimeout=60,this.noflowTimeout=10,this.peerConnection=null,this.kmDataChannel=null,this.ackDataChannel=null,this.hbDataChannel=null,this.cdDataChannel=null,this.svrDataChannel=null,this.customDataChannel=new Map,this.ackDataChannelTimer=null,this.mediaStream=null,this.camera=null,this.mic=null,this.cameraMediaStream=null,this.micMediaStream=null,this.audioTransceiver=null,this.videoTransceiver=null,this.cameraProfile=y.CameraProfile["720p"],this.micProfile={sampleRate:44100,echoCancellation:!0,autoGainControl:!0,noiseSuppression:!0},this.clientSideDescription=null,this.dataChannelCallbacks={},this.dataChannelRetryTimers={},this.checkMouseShowInterval=null,this.idleThreshold=3e5,this.idleTimes=0,this.lastInputStatus=!1,this.noFlowCount=0,this.gameStatus="playing",this.streamPushStat=null}window.CloudGamingWebRTC=O,t.default=O},4112:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n=n||Promise)((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){var u=[s,c];if(n)throw new TypeError("Generator is already executing.");for(;i=a&&u[a=0]?0:i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,(u=o?[2&u[0],o.value]:u)[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((o=0<(o=i.trys).length&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3]))i.label=u[1];else if(6===u[0]&&i.label<o[1])i.label=o[1],o=u;else{if(!(o&&i.label<o[2])){o[2]&&i.ops.pop(),i.trys.pop();continue}i.label=o[2],i.ops.push(u)}}u=t.call(e,i)}catch(c){u=[6,c],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},c=(Object.defineProperty(t,"__esModule",{value:!0}),s(n(4993))),u=s(n(2179)),l=n(1587),p=n(1743),d=s(n(9752)),h=s(n(5922)).default.log;f.prototype.getLoginHelperInfo=function(){return u.default.getConfig().login_helper},f.prototype.inputLoginInfo=function(e){var t,n,s,u,f,g=this,m=void 0===(m=e.loginData)?p.empty:m,y=void 0===(e=e.callback)?p.noop:e,_=(this.loginTaskFinish||y({code:1,finish:!1,msg:"last task is not complete"}),m.acc),v=m.pwd;null!=(e=this.getLoginHelperInfo())&&e.title?(m=e.before_script,t=void 0===m?[]:m,n=e.acc_pos,s=e.pwd_pos,m=e.title,u=e.after_script,f=void 0===u?[]:u,d.default.sendAckData({data:{type:"wnd_pos",name:m},callback:function(e){return r(g,void 0,void 0,(function(){var r,u,d,g,m,O,C,b=this;return o(this,(function(o){switch(o.label){case 0:return h("internalLoginHelper->res",e),C=e.code,r=e.data,u=r.found,m=r.left,d=void 0===m?0:m,m=r.top,g=void 0===m?0:m,0!==C||1!==u?[3,3]:(h("login helper script is running->",r),this.loginTaskFinish=!1,m=t.map((function(e){return"mousemove"===e.type?{type:e.type,x:e.x+d,y:e.y+g}:e})),c.default.sendSeqRawEvents(m),[4,(0,p.sleep)(1500)]);case 1:return o.sent(),h("account and password input is running"),(O=[]).push({type:"mousemove",x:d+n.x,y:g+n.y}),O.push({type:"mouseleft",down:!0}),O.push({type:"mouseleft",down:!1}),O.push({type:"keyboard",key:l.KEYCODE.End,down:!0}),O.push({type:"keyboard",key:l.KEYCODE.End,down:!1}),O=O.concat(this.repeatKey(l.KEYCODE.Backspace,32)),a([],i(_),!1).map((function(e){return O.push.apply(O,a([],i(b.eventFromChar(e)),!1))})),O.push({type:"mousemove",x:d+s.x,y:g+s.y}),O.push({type:"mouseleft",down:!0}),O.push({type:"mouseleft",down:!1}),O.push({type:"keyboard",key:l.KEYCODE.End,down:!0}),O.push({type:"keyboard",key:l.KEYCODE.End,down:!1}),O=O.concat(this.repeatKey(l.KEYCODE.Backspace,32)),a([],i(v),!1).map((function(e){return O.push.apply(O,a([],i(b.eventFromChar(e)),!1))})),c.default.sendSeqRawEvents(O),[4,(0,p.sleep)(1500)];case 2:o.sent(),C=f.map((function(e){return"mousemove"===e.type?{type:e.type,x:e.x+d,y:e.y+g}:e})),c.default.sendSeqRawEvents(C),this.loginTaskFinish=!0,y({code:0,finish:this.loginTaskFinish,msg:"success"}),o.label=3;case 3:return[2]}}))}))}})):(this.loginTaskFinish=!0,y({code:1,finish:this.loginTaskFinish,msg:"does not find loginHelper info."}),h("internalLoginHelper loginInfo failed",e))},f.prototype.loginWindowStat=function(e){void 0===e&&(e=p.noop);var t=this.getLoginHelperInfo().title;d.default.sendAckData({data:{type:"wnd_pos",name:t||"cloud_gaming_dummy_title"},callback:e})},s=f;function f(){this.loginTaskFinish=!0,this.repeatKey=function(e,t){for(var n=[],r=0;r<t;++r)n.push({type:"keyboard",key:e,down:!0}),n.push({type:"keyboard",key:e,down:!1});return n},this.eventFromChar=function(e){var t=[];return(e=p.codeMap[e])&&(e.shift&&t.push({type:"keyboard",key:16,down:!0}),t.push({type:"keyboard",key:e.key,down:!0}),t.push({type:"keyboard",key:e.key,down:!1}),e.shift)&&t.push({type:"keyboard",key:16,down:!1}),t}}t.default=new s},4711:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){e[r=void 0===r?n:r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;0<=s;s--)(o=e[s])&&(a=(i<3?o(a):3<i?o(t,n,a):o(t,n))||a);return 3<i&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n=n||Promise)((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){var u=[s,c];if(n)throw new TypeError("Generator is already executing.");for(;i=a&&u[a=0]?0:i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,(u=o?[2&u[0],o.value]:u)[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((o=0<(o=i.trys).length&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3]))i.label=u[1];else if(6===u[0]&&i.label<o[1])i.label=o[1],o=u;else{if(!(o&&i.label<o[2])){o[2]&&i.ops.pop(),i.trys.pop();continue}i.label=o[2],i.ops.push(u)}}u=t.call(e,i)}catch(c){u=[6,c],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}},u=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},p=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},h=(Object.defineProperty(t,"__esModule",{value:!0}),d(n(4993))),f=n(9418),g=n(2484),m=n(1743),y=d(n(9752)),_=n(1587),v=d(n(5922)),O=d(n(969)),C=d(n(7329)),b=a(n(6363)),S=d(n(7023)),E=v.default.log,T=!0;P.prototype.init=function(e){var t;this.tabletMode=e.tabletMode,this.clickToFullscreen=e.clickToFullscreen,this.clickBodyToPlay=null==(t=e.clickBodyToPlay)||t,this.webDraftLevel=null!=(t=e.webDraftLevel)?t:f.WEB_DRAFT_LEVEL.CLOSE_HIGH_FREQUENCY,T=null==(t=e.enableEventIntercept)||t,this.clientInteractMode=e.clientInteractMode||"cursor",this.enablePaste=e.enablePaste,this.enableMousemoveV2=null==(t=e.enableMousemoveV2)||t},P.prototype.addEventHandler=function(){var e=this;this.addKMHandler(),this.addTouchHandler(),(0,m.isMobile)()||O.default.addGamepadHandler(),document.body.addEventListener("click",(function(){e.onBodyClick()}),!1),(0,m.getVideoElement)().addEventListener("playing",(function(t){E("video state",t.type),e.videoStatus="playing",e.reshapeWindow()})),(0,m.getVideoElement)().addEventListener("ended",(function(t){E("video state",t.type),e.videoStatus="pause"})),(0,m.getVideoElement)().addEventListener("pause",(function(t){E("video state",t.type),e.videoStatus="pause"})),(0,m.getVideoElement)().addEventListener("click",(function(){(0,m.getVideoElement)().focus()})),window.addEventListener("orientationchange",(function(){E("orientationchange"),setTimeout((function(){e.reshapeWindow()}),0)})),window.addEventListener("resize",(function(t){E("onresize",t),setTimeout((function(){e.reshapeWindow()}),0)})),document.addEventListener("pointerlockerror",(function(){h.default.onEvent({type:"pointerlockerror"})})),y.default.sendKmData({type:"mousedeltamove",x:1,y:1})},P.prototype.initOrientationDetector=function(){this.addOrientationDetector()},P.prototype.setTabletMode=function(e){this.tabletMode=e},P.prototype.setMoveSensitivity=function(e){this.moveSensitivity=1/e},P.prototype.getMoveSensitivity=function(){return this.moveSensitivity},P.prototype.remoteScreenResolutionChange=function(e){var t=e.width,n=e.height,r=e.left;e=e.top;this.remoteScreenWidth===t&&this.remoteScreenHeight===n&&this.remoteScreenLeft===r&&this.remoteScreenTop===e||(this.remoteScreenWidth=t,this.remoteScreenHeight=n,this.remoteScreenLeft=r,this.remoteScreenTop=e,h.default.onRemoteScreenResolutionChange({width:t,height:n,top:e,left:r}),E("remoteScreenResolutionChange->".concat(t," ").concat(n," ").concat(r," ").concat(e," ")))},P.prototype.getRemoteOrientation=function(){return this.remoteOrientation},P.prototype.setRemoteOrientation=function(e){this.remoteOrientation=e},P.prototype.clearRemoteKeys=function(){y.default.sendAckData({data:{type:"keys_clean"}})},P.prototype.transferLocalScale=function(e){var t=void 0===(t=e.width)?1:t,n=(e=void 0===(e=e.height)?1:e,this.videoWidth/this.remoteScreenWidth*t),r=this.videoHeight/this.remoteScreenHeight*e;return 90===this.videoOrientation&&(n=this.videoHeight/this.remoteScreenWidth*e,r=this.videoWidth/this.remoteScreenHeight*t),{width:n,height:r}},P.prototype.mouseMove=function(e,t,n,r){var o,i,a,s=(l=y.default.getDisplayRect()).left,c=l.top,u=l.width,l=l.height;this.tabletMode?(this.tabletModeLastPosition||(this.tabletModeLastPosition={x:n,y:r}),this.mousePosition.x=this.mousePosition.x+(n-this.tabletModeLastPosition.x),this.mousePosition.y=this.mousePosition.y+(r-this.tabletModeLastPosition.y),this.mousePosition.x<=s&&(this.mousePosition.x=s),this.mousePosition.x>=u+s&&(this.mousePosition.x=u+s),this.mousePosition.y<=c&&(this.mousePosition.y=c),this.mousePosition.y>=l+c&&(this.mousePosition.y=l+c),this.tabletModeLastPosition={x:n,y:r}):this.mousePosition={x:n,y:r,movementX:n-this.mousePosition.x,movementY:r-this.mousePosition.y},u=90===this.videoOrientation?(o=this.mousePosition.y-c,this.videoWidth-this.mousePosition.x+s):(o=this.mousePosition.x-s,this.mousePosition.y-c),this.updateCursorPosition({displayX:o,displayY:u}),"touchstart"===t&&(y.default.getCursorShowStatus()?(i=(l=this.moveTo(o,u)).remoteX,a=l.remoteY,this.enableMousemoveV2?y.default.sendKmData({type:"mousemove_v2",x:i,y:a}):y.default.sendKmData({type:"mousemove",x:i,y:a})):E("cursor is not showing, cursor will not move")),"touchmove"===t&&(y.default.getCursorShowStatus()?(i=(n=this.moveTo(o,u)).remoteX,a=n.remoteY,this.enableMousemoveV2?y.default.sendKmData({type:"mousemove_v2",x:i,y:a}):y.default.sendKmData({type:"mousemove",x:i,y:a})):(s=(r=this.deltaMoveTo(this.mousePosition.movementX,this.mousePosition.movementY)).remoteDeltaX,c=r.remoteDeltaY,90===this.videoOrientation?y.default.sendKmData({type:"mousedeltamove",x:c,y:-s}):y.default.sendKmData({type:"mousedeltamove",x:s,y:c}))),"touchend"!==t&&"touchcancel"!==t||(this.tabletModeLastPosition=null)},P.prototype.mobileTouchMove=function(e){var t=e.finger_id,n=e.event_type,r=e.x,o=e.y,i=e.width,a=e.height;e=e.timestamp;y.default.sendKmData({type:"event_touch",finger_id:t,event_type:n,x:r,y:o,width:i,height:a,timestamp:e})},P.prototype.fullscreen=function(e){var t;return void 0===e&&(e=document.documentElement),s(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:E("enter fullscreen"),n.label=1;case 1:return n.trys.push([1,6,,7]),b.default.requestFullscreen?[4,e[b.default.requestFullscreen]()]:[3,3];case 2:return n.sent(),[3,5];case 3:return[4,e.webkitEnterFullScreen()];case 4:n.sent(),n.label=5;case 5:return[3,7];case 6:throw n.sent();case 7:if(!(0,b.getInIframe)())try{null!=(t=null===navigator||void 0===navigator?void 0:navigator.keyboard)&&t.lock(["Escape","F11"])}catch(n){E("lockKeyboard",n)}return[2]}}))}))},P.prototype.exitFullscreen=function(e){var t,n;return void 0===e&&(e=document.documentElement),s(this,void 0,void 0,(function(){return c(this,(function(r){return E("exit fullscreen"),b.default.exitFullscreen?null!=(n=null==(t=document[b.default.exitFullscreen]())?void 0:t.catch)&&n.call(t,(function(e){})):e.webkitExitFullScreen(),[2]}))}))},P.prototype.resetLastPosition=function(e){var t=e.x;e=void 0===(e=e.y)?0:e;this.mousePosition.x=void 0===t?0:t,this.mousePosition.y=e},P.prototype.updateCursorPosition=function(e){var t=e.displayX,n=(e=e.displayY,(0,m.getCursorElement)());90===this.videoOrientation?(t>this.videoHeight&&(t=this.videoHeight),e>this.videoWidth&&(e=this.videoWidth)):(t>this.videoWidth&&(t=this.videoWidth),e>this.videoHeight&&(e=this.videoHeight)),t<0&&(t=0),e<0&&(e=0),n&&(n.style.top="".concat(e+(90===this.videoOrientation?this.videoLeft:this.videoTop),"px"),n.style.left="".concat(t+(90===this.videoOrientation?this.videoTop:this.videoLeft),"px"),n.style.zIndex="100")},P.prototype.setDropMouseEvent=function(e){this.dropMouseEvent=e},P.prototype.setWebDraftLevel=function(e){this.webDraftLevel=e=void 0===e?0:e},P.prototype.setEnableEventIntercept=function(e){T=e=void 0===e||e},P.prototype.setVideoOrientation=function(e){var t,n=void 0===(n=e.deg)?0:n,r=void 0===(r=e.rotateContainer)||r;e=e.rotateMountPoint;E("setVideoOrientation",n,r,e=void 0!==e&&e),this.videoOrientation=n,(0,m.dispatchEvent)({name:"TCGSDK:VideoOrientation",data:{deg:n,rotateContainer:r,rotateMountPoint:e}}),(r||e)&&(t=document.querySelector("html"),(t=e?(h.default.getIsMobileGame()&&!(0,m.isMobile)()?m.getCloudGamingContainerElement:m.getGameMountPointElement)():t)?(90===n&&(t.className=t.className.includes("rotate-html-90")?t.className:"".concat(t.className," rotate-html-90")),270===n&&(t.className=t.className.includes("rotate-html-270")?t.className:"".concat(t.className," rotate-html-270")),0===n?e?(t.className=t.className.split(" rotate-html-".concat(h.default.getIsMobileGame()&&this.isPortraitStream?"270":"90")).join(""),t.style.width="100%",t.style.height="100%"):r&&(t.className="",t.style.width=null,t.style.height=null):(0,m.isMobile)()?(h.default.getIsMobileGame()||e)&&setTimeout((function(){t.style.width="".concat(window.innerHeight,"px"),t.style.height="".concat(window.innerWidth,"px")}),100):(t.style.width="".concat(window.innerHeight,"px"),t.style.height="".concat(window.innerWidth,"px"))):E("setVideoOrientation -> can not find mount point")),h.default.reshapeWindow()},P.prototype.getPageOrientation=function(){return this.pageOrientation},P.prototype.reshapeWindow=function(){var e,t,n,r=this,o=(E("reshapeWindow"),(0,m.getVideoElement)());o&&(e=(0,m.getCloudGamingContainerElement)(),t=h.default.getInitOptions().fullVideoToScreen,o.videoWidth&&o.videoHeight&&e.clientWidth>o.videoWidth&&e.clientHeight>o.videoHeight&&(void 0===t||t)&&(e.clientWidth/e.clientHeight>o.videoWidth/o.videoHeight?(o.style.height="100%",o.style.width=null):(o.style.width="100%",o.style.height=null)),(e.clientWidth<o.videoWidth||e.clientHeight<o.videoHeight)&&(o.style.width=null,o.style.height=null),(n=function(){var e=(i=o.getBoundingClientRect()).width,t=i.height,n=i.top,i=i.left;r.videoWidth=e,r.videoHeight=t,r.videoLeft=i,r.videoTop=n,E("videoResolutionChange-> width: ".concat(r.videoWidth,", height: ").concat(r.videoHeight,", left: ").concat(r.videoLeft,", top: ").concat(r.videoTop))})(),this.resizeObserver||(this.resizeObserver=new C.default((function(){n()})),this.resizeObserver.observe(o)))},P.prototype.setKMStatus=function(e){var t=e.keyboard;e=e.mouse;this.kmStatus={keyboard:void 0===t||t,mouse:void 0===e||e}},P.prototype.setPaste=function(e){this.enablePaste=e},P.prototype.setVideoMuted=function(e){this.mutedVideo=e},P.prototype.setClientInteractMode=function(e){this.clientInteractMode=e=void 0===e?"cursor":e},P.prototype.getClientInteractMode=function(){return this.clientInteractMode},P.prototype.addKMHandler=function(){var e=this;this.addKMHandlerFlag||(this.addKMHandlerFlag=!0,(0,m.isMobile)()||(this.webDraftLevel===f.WEB_DRAFT_LEVEL.CLOSE_HIGH_FREQUENCY?document.addEventListener("mousemove",(function(t){e.onMouseMove(t)}),!1):document.addEventListener("pointermove",(function(t){e.onMouseMove(t)}),!1),document.addEventListener("mousedown",(function(t){e.onMouseDown(t)}),!1),document.addEventListener("mouseup",(function(t){e.onMouseUp(t)}),!1)),document.addEventListener("wheel",(function(t){e.onWheel(t)}),!1),document.addEventListener("keydown",(function(t){e.onKeyEvent(t)}),!1),document.addEventListener("keyup",(function(t){e.onKeyEvent(t)}),!1),document.addEventListener("keypress",(function(){e.onKeyPress()}),!1),document.addEventListener("contextmenu",(function(t){e.onContextMenu(t)}),!1),document.addEventListener("fullscreenchange",(function(){if((0,m.isFullScreen)()){E("enter fullscreenChange");try{(0,m.getVideoElement)().focus()}catch(e){E("fullscreenChange error,",e)}}e.reshapeWindow()}),!1),window.addEventListener("visibilitychange",(function(){e.visibilityChange()}),!1),window.addEventListener("focus",(function(){e.focusChange()}),!1),window.addEventListener("blur",(function(){e.focusChange()}),!1),document.addEventListener("pointerlockchange",(function(){e.pointerlockchange()})),document.addEventListener("paste",(function(t){e.onPaste(t)})),window.addEventListener("visibilitychange",(function(){E("visibilitychange",document.hidden),document.hidden?(e.visibilityState="hidden",(0,m.isMobile)()&&(e.touchesIdentifierMap.clear(),h.default.clearRemoteKeys(),setTimeout((function(){h.default.getIsMobileGame()||h.default.sendMouseEvent({type:"mouseleft",down:!1}),e.touchesMap.clear()}),100))):e.visibilityState="visible",h.default.onVisibilityChange({status:e.visibilityState})}),!1))},P.prototype.addTouchHandler=function(){var e=(0,m.getCloudGamingContainerElement)();e.removeEventListener("touchmove",this.onTouch,!1),e.removeEventListener("touchstart",this.onTouch,!1),e.removeEventListener("touchend",this.onTouch,!1),e.removeEventListener("touchcancel",this.onTouch,!1),e.addEventListener("touchmove",this.onTouch,!1),e.addEventListener("touchstart",this.onTouch,!1),e.addEventListener("touchend",this.onTouch,!1),e.addEventListener("touchcancel",this.onTouch,!1),document.addEventListener("gesturestart",(function(e){e.preventDefault()}))},P.prototype.addOrientationDetector=function(){function e(e){if(e.matches){n.pageOrientation="portrait",(r||o)&&n.setVideoOrientation({deg:h.default.getIsMobileGame()&&n.isPortraitStream?0:90,rotateContainer:r,rotateMountPoint:o});try{h.default.onOrientationChange({type:"portrait"})}catch(e){E("onOrientationChange callback error",e)}}else{n.pageOrientation="landscape",(r||o)&&n.setVideoOrientation({deg:h.default.getIsMobileGame()&&n.isPortraitStream?270:0,rotateContainer:r,rotateMountPoint:o});try{h.default.onOrientationChange({type:"landscape"})}catch(e){E("onOrientationChange callback error",e)}}}var t,n=this,r=(t=h.default.getInitOptions()).autoRotateContainer,o=t.autoRotateMountPoint;e(t=window.matchMedia("(orientation: portrait)")),t.addListener(e)},Object.defineProperty(P.prototype,"isPortraitStream",{get:function(){var e=h.default.getRemoteStreamResolution(),t=e.width;return e.height>t},enumerable:!1,configurable:!0}),P.prototype.visibilityChange=function(){return this.clearRemoteKeys(),document.hidden},P.prototype.onNetwork=function(e){E("onNetwork",e.type),h.default.onNetworkChange({status:e.type})},P.prototype.focusChange=function(){this.clearRemoteKeys()},P.prototype.pointerlockchange=function(){},P.prototype.onPaste=function(e){},P.prototype.onContextMenu=function(e){e.preventDefault()},P.prototype.transferRemotePosition=function(e){var t=void 0===(t=e.displayX)?1:t,n=void 0===(n=e.displayY)?1:n,r=(e=void 0===(e=e.moveSensitivity)?1:e,Math.round(t*this.remoteScreenWidth/this.videoWidth/e)+this.remoteScreenLeft),o=Math.round(n*this.remoteScreenHeight/this.videoHeight/e)+this.remoteScreenTop;return 90!==this.videoOrientation&&270!==this.videoOrientation||(r=Math.round(t*this.remoteScreenWidth/this.videoHeight/e)+this.remoteScreenLeft,o=Math.round(n*this.remoteScreenHeight/this.videoWidth/e)+this.remoteScreenTop),{x:r,y:o}},P.prototype.transferRemotePositionV2=function(e){var t=void 0===(t=e.displayX)?1:t,n=void 0===(n=e.displayY)?1:n,r=(e=void 0===(e=e.moveSensitivity)?1:e,t/this.videoWidth/e),o=n/this.videoHeight/e;return 90!==this.videoOrientation&&270!==this.videoOrientation||(r=t/this.videoHeight/e,o=n/this.videoWidth/e),{x:Math.round(8192*r),y:Math.round(8192*o)}},Object.defineProperty(P.prototype,"touchesList",{get:function(){var e,t,n=[];if(this.touchesMap.size)try{for(var r=u(this.touchesMap.values()),o=r.next();!o.done;o=r.next()){var i=o.value;n.push(i)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),P.prototype.onTouch=function(e){var t,n,r=this,o=e.type,i=e.timeStamp,a=e.targetTouches,s=e.changedTouches,c=this;try{for(var d=u("touchend"===o||y.default.getIsMobileGame()||"touch"===this.clientInteractMode?s:a),g=d.next();!g.done;g=d.next())!function(e){var t,n,a,s=e.pageX,u=e.pageY,d=e.identifier,g=(e=c.transferRemotePosition({displayX:s-c.videoLeft,displayY:u-c.videoTop})).x,m=(e=e.y,g-=c.remoteScreenLeft,e-=c.remoteScreenTop,c.touchesForDelta||{lastX:g,lastY:e}),_=(g-m.lastX)/c.moveSensitivity,v=(m=(e-m.lastY)/c.moveSensitivity,c.touchesForDelta={lastX:g,lastY:e},"touchstart"===o&&(p([],l(c.touchesIdentifierMap.values()),!1).includes(c.touchesIdentifierMap.size)?c.touchesIdentifierMap.set(d,c.touchesIdentifierMap.size+1):c.touchesIdentifierMap.set(d,c.touchesIdentifierMap.size)),!y.default.getIsMobileGame()&&"touch"!==c.clientInteractMode||(t=o,270===c.videoOrientation&&(a=(v=c.transferRemotePosition({displayX:c.videoHeight-u+c.videoTop,displayY:s-c.videoLeft})).x,v=v.y,g=a-c.remoteScreenLeft,e=v-c.remoteScreenTop),90===c.videoOrientation&&(a=(n=c.transferRemotePosition({displayX:u-c.videoTop,displayY:c.videoWidth-s+c.videoLeft})).x,v=n.y,g=a-c.remoteScreenLeft,e=v-c.remoteScreenTop),"touch"===c.clientInteractMode&&((g=g>c.remoteScreenWidth?c.remoteScreenWidth:g)<0&&(g=0),(e=e>c.remoteScreenHeight?c.remoteScreenHeight:e)<0)&&(e=0),c.mobileTouchMove({finger_id:c.touchesIdentifierMap.get(d)+1,event_type:f.TOUCH_EVENT_TYPE[t],x:g,y:e,width:c.remoteScreenWidth,height:c.remoteScreenHeight,timestamp:i}),"touch"===c.clientInteractMode&&(a=n=void 0,a=90===c.videoOrientation?(n=u-c.videoTop,c.videoWidth-s+c.videoLeft):(n=s-c.videoLeft,u-c.videoTop),c.updateCursorPosition({displayX:n,displayY:a}))),{id:d,type:o,x:g,y:e,pageX:s,pageY:u,movementX:_,movementY:m});c.touchesMap.set(d,v),"touchend"!==o&&"touchcancel"!==o||(c.touchesIdentifierMap.delete(d),setTimeout((function(){r.touchesMap.delete(d)}),100)),"touchstart"!==o||y.default.getIsMobileGame()||(c.doubleTapResponse.push(v),c.doubleTap?h.default.onDoubleTap(c.doubleTapResponse):(c.doubleTap=!0,setTimeout((function(){r.doubleTap=!1,r.doubleTapResponse=[]}),300)))}(g.value)}catch(e){t={error:e}}finally{try{g&&!g.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}y.default.getIsMobileGame()||"touch"===this.clientInteractMode||h.default.onTouchEvent(this.touchesList)},P.prototype.onMouseMove=function(e){var t,n;if(!1!==this.kmStatus.mouse&&!this.dropMouseEvent){var r="getCoalescedEvents"in e?e.getCoalescedEvents():[e],o=null;this.webDraftLevel===f.WEB_DRAFT_LEVEL.UNPACKAGE_SEND&&3<r.length?(E("webDraftLevel 1 and events length is ".concat(r.length,", only pick 3 events")),r.splice(0,r.length-3)):this.webDraftLevel===f.WEB_DRAFT_LEVEL.PACKAGE_SEND&&(E("webDraftLevel 2 and events length is ".concat(r.length,", will send seq events")),o=[]);try{for(var i=u(r),a=i.next();!a.done;a=i.next()){var s,c,l,p,d,h,g=a.value,m=g.offsetX,_=g.offsetY,v=g.movementX,O=g.movementY,C=m,b=_;C<0&&(C=0),b<0&&(b=0),y.default.mouseDeltaMove()||!y.default.getCursorShowStatus()?(c=(s=this.deltaMoveTo(v,O)).remoteDeltaX,l=s.remoteDeltaY,o?o.push({type:"mousedeltamove",x:c,y:l}):y.default.sendKmData({type:"mousedeltamove",x:c,y:l})):(d=(p=this.moveTo(C,b)).remoteX,h=p.remoteY,o?o.push({type:"mousemove",x:d,y:h}):y.default.getIsMobileGame()||"touch"===this.clientInteractMode?(this.mobileTouchMove({finger_id:1,event_type:f.TOUCH_EVENT_TYPE.touchmove,x:d,y:h,width:this.remoteScreenWidth,height:this.remoteScreenHeight,timestamp:+new Date}),this.mousePosition.remoteX=d,this.mousePosition.remoteY=h):this.enableMousemoveV2?y.default.sendKmData({type:"mousemove_v2",x:d,y:h}):y.default.sendKmData({type:"mousemove",x:d,y:h})),this.mousePosition.x=C,this.mousePosition.y=b}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}this.webDraftLevel===f.WEB_DRAFT_LEVEL.PACKAGE_SEND&&y.default.sendKmData({type:"key_seq",keys:o.map((function(e){return JSON.stringify(e)}))})}},P.prototype.moveTo=function(e,t){var n;return this.enableMousemoveV2&&!h.default.getIsMobileGame()&&"touch"!==this.clientInteractMode?{remoteX:(n=this.transferRemotePositionV2({displayX:e,displayY:t})).x,remoteY:n.y}:(e=(n=this.transferRemotePosition({displayX:e,displayY:t})).x,t=n.y,{remoteX:e=(e=e>=this.remoteScreenWidth+this.remoteScreenLeft?this.remoteScreenWidth+this.remoteScreenLeft-1:e)<0?0:e,remoteY:t=(t=t>=this.remoteScreenHeight+this.remoteScreenTop?this.remoteScreenHeight+this.remoteScreenTop-1:t)<0?0:t})},P.prototype.deltaMoveTo=function(e,t){t=(e=this.transferRemotePosition({displayX:e,displayY:t,moveSensitivity:this.moveSensitivity})).x,e=e.y,t=null!==(t-=this.remoteScreenLeft)?t:0,e=null!==(e-=this.remoteScreenTop)?e:0;return this.deltaMoveToCalcX+=t,this.deltaMoveToCalcY+=e,this.deltaMoveToCalcX<0&&(this.deltaMoveToCalcX=0),this.deltaMoveToCalcY<0&&(this.deltaMoveToCalcY=0),this.deltaMoveToCalcX>this.remoteScreenWidth&&(this.deltaMoveToCalcX=this.remoteScreenWidth),this.deltaMoveToCalcY>this.remoteScreenHeight&&(this.deltaMoveToCalcX=this.remoteScreenHeight),{remoteDeltaX:t,remoteDeltaY:e}},P.prototype.isRightClick=function(e){return"which"in e?3===e.which:"button"in e?2===e.button:void 0},P.prototype.determineButtonType=function(e){return null!=(e=["mouseleft","mousemiddle","mouseright","mousebackward","mouseforward","unused","unused"][e.button])?e:""},P.prototype.onMouseDown=function(e){var t,n;!1!==this.kmStatus.mouse&&(y.default.getIsMobileGame()||"touch"===this.clientInteractMode?(t=(n=this.mousePosition).remoteX,n=n.remoteY,this.mobileTouchMove({finger_id:1,event_type:f.TOUCH_EVENT_TYPE.touchstart,x:t,y:n,width:this.remoteScreenWidth,height:this.remoteScreenHeight,timestamp:+new Date})):(y.default.sendKmData({type:this.determineButtonType(e),down:!0}),this.isRightClick(e)&&this.tryToCursorLock()),3!==e.button&&4!==e.button||e.preventDefault())},P.prototype.onMouseUp=function(e){var t,n;!1!==this.kmStatus.mouse&&(y.default.getIsMobileGame()||"touch"===this.clientInteractMode?(t=(n=this.mousePosition).remoteX,n=n.remoteY,this.mobileTouchMove({finger_id:1,event_type:f.TOUCH_EVENT_TYPE.touchend,x:t,y:n,width:this.remoteScreenWidth,height:this.remoteScreenHeight,timestamp:+new Date})):y.default.sendKmData({type:this.determineButtonType(e),down:!1}))},P.prototype.onWheel=function(e){y.default.sendKmData({type:"mousescroll",delta:e.deltaY})},P.prototype.onKeyEvent=function(e){if(e.preventDefault(),!1!==this.kmStatus.keyboard){var t=e.which||e.keyCode,n=e.ctrlKey,r=e.altKey,o=e.type,i=e.metaKey;e=e.location;if("keyup"===o){if(n){if(t===_.KEYCODE.Space)return y.default.sendKmData({type:"keyboard",key:t,down:!0}),void setTimeout((function(){y.default.sendKmData({type:"keyboard",key:t,down:!1})}),10);t===_.KEYCODE.Backquote&&y.default.toggleStatisticsView()}t===_.KEYCODE.Escape&&(300<+new Date-this.escPressTime&&y.default.lockMouse(!1),this.escPressTime=null)}if("keydown"===o){if(t===_.KEYCODE.X&&r||t===_.KEYCODE.Escape?(t===_.KEYCODE.X&&r&&y.default.lockMouse(!1),t!==_.KEYCODE.Escape||this.escPressTime||(this.escPressTime=+new Date)):this.tryToCursorLock(),this.enablePaste&&(i||n)&&t===_.KEYCODE.V)return void(navigator.clipboard?navigator.clipboard.readText().then((function(e){h.default.sendText(e)})).catch((function(e){E("Failed to read clipboard contents: ",e),h.default.onEvent({type:"readclipboarderror",data:{message:e.message}})})):h.default.onEvent({type:"readclipboarderror"}));if(r&&t===_.KEYCODE.F4)return void E("alt + f4 is forbidden")}null!=(i=S.default.ua)&&i.includes("Mac")&&t===_.KEYCODE.CapsLock?(y.default.sendKmData({type:"keyboard",key:t,down:!0}),setTimeout((function(){y.default.sendKmData({type:"keyboard",key:t,down:!1})}),10)):y.default.sendKmData({type:"keyboard",key:t,down:"keydown"===o,location:e})}},P.prototype.onKeyPress=function(){},P.prototype.onBodyClick=function(){if(this.clickBodyToPlay){var e=(0,m.getVideoElement)();if(e){this.mutedVideo||(e.muted=!1);try{"pause"===this.videoStatus&&e.pause(),e.play()}catch(e){E("play video error",e)}}(0,m.isMobile)()||(0,m.isFullScreen)()||!this.clickToFullscreen||(E("click to fullscreen->",this.clickToFullscreen),this.fullscreen())}},P.prototype.tryToCursorLock=function(){var e;y.default.getForceShowCursor()||(e=document.pointerLockElement)||y.default.getCursorShowStatus()&&!y.default.mouseDeltaMove()||(y.default.lockMouse(!0),E("tryToCursorLock",e,"forceShowCursor",y.default.getForceShowCursor()),E("toggleMouseLock true, auto run requestPointerLock"))},i([(0,g.interceptUserEvent)(T)],P.prototype,"onTouch",null),i([(0,g.interceptUserEvent)(T)],P.prototype,"onMouseMove",null),i([(0,g.interceptUserEvent)(T)],P.prototype,"onMouseDown",null),i([(0,g.interceptUserEvent)(T)],P.prototype,"onMouseUp",null),i([(0,g.interceptUserEvent)(T)],P.prototype,"onWheel",null),i([(0,g.interceptUserEvent)(T,"keyEvent")],P.prototype,"onKeyEvent",null),a=new P;function P(){var e=this;this.moveSensitivity=1,this.touchesForDelta=null,this.touchesIdentifierMap=new Map,this.touchesMap=new Map,this.mousePosition={x:0,y:0,movementX:0,movementY:0,remoteX:0,remoteY:0},this.enableMousemoveV2=!0,this.tabletModeLastPosition=null,this.kmStatus={keyboard:!0,mouse:!0},this.enablePaste=!1,this.deltaMoveToCalcX=0,this.deltaMoveToCalcY=0,this.escPressTime=null,this.tabletMode=!1,this.clickToFullscreen=!1,this.clickBodyToPlay=!0,this.mutedVideo=!1,this.webDraftLevel=f.WEB_DRAFT_LEVEL.CLOSE_HIGH_FREQUENCY,this.videoWidth=0,this.videoHeight=0,this.videoLeft=0,this.videoTop=0,this.videoStatus="pause",this.remoteScreenWidth=0,this.remoteScreenHeight=0,this.remoteScreenLeft=0,this.remoteScreenTop=0,this.remoteOrientation="portrait",this.dropMouseEvent=!1,this.videoOrientation=0,this.pageOrientation=null,this.resizeObserver=null,this.doubleTap=!1,this.doubleTapResponse=[],this.addKMHandlerFlag=!1,this.clientInteractMode="cursor",this.visibilityState="visible",window.addEventListener("online",(function(t){e.onNetwork(t)}),!1),window.addEventListener("offline",(function(t){e.onNetwork(t)}),!1),this.onTouch=this.onTouch.bind(this)}window.PageEvent=a,t.default=a},9531:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n=n||Promise)((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){var u=[s,c];if(n)throw new TypeError("Generator is already executing.");for(;i=a&&u[a=0]?0:i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,(u=o?[2&u[0],o.value]:u)[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((o=0<(o=i.trys).length&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3]))i.label=u[1];else if(6===u[0]&&i.label<o[1])i.label=o[1],o=u;else{if(!(o&&i.label<o[2])){o[2]&&i.ops.pop(),i.trys.pop();continue}i.label=o[2],i.ops.push(u)}}u=t.call(e,i)}catch(c){u=[6,c],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=(Object.defineProperty(t,"__esModule",{value:!0}),i(n(4993))),s=n(9418),c=i(n(9752)),u=i(n(2179)),l=i(n(5922)),p=n(3578),d=i(n(4206)),h=n(5262),f=l.default.log;g.prototype.autoReconnect=function(e){var t=e.message;return r(this,void 0,void 0,(function(){var e,n,r,i,l,g;return o(this,(function(o){switch(o.label){case 0:return this.serverIp&&this.token?(c.default.clearPeerConnection(),[4,c.default.newWebRtcConnect()]):(f("Watchdog, autoReconnect, serverIp:".concat(this.serverIp," or token:").concat(this.token," is not set, abort")),[2,a.default.onConnectFailed({code:s.RTC_CODE.CONNECT_FAILED,msg:"reconnect failed"})]);case 1:o.sent(),c.default.startHeartbeatReport(),e=c.default.getClientSideDescription(),r=u.default.getServerSideDescription(),n=r.user_id,r=(r=r.server_port)||7392,o.label=2;case 2:return o.trys.push([2,4,,5]),f("Watchdog, reconnect, serverIp:".concat(this.serverIp,", token:").concat(this.token)),h.config.lite?[2,f("lite sdk can not auto reconnect")]:h.config.privatization.server?[2,f("Privatization sdk can not auto reconnect")]:[4,d.default.post("https://cgproxy.cloud-gaming.myqcloud.com/reconnect?host=".concat(this.serverIp,"&port=").concat(r,"&token=").concat(this.token,"&uid=").concat(n),p.Base64.decode(e))];case 3:return g=o.sent().data,l=(g=void 0===g?{}:g).Code,g=g.ServerSession,f("Watchdog, reconnect response code: ".concat(l)),0===l?(l=this.checkServerSession(g),i=l.code,l=l.message,0===i?(f("Watchdog, reconnect proxy success"),c.default.connect(p.Base64.encode(g)),this.retryTimes=0):(c.default.clearPeerConnection(),a.default.onConnectFailed({code:i,msg:l}),f("Watchdog, reconnect proxy failed"))):this.startRetry({message:t}),[3,5];case 4:return g=o.sent(),f("Watchdog post error",g),this.startRetry({message:null==g?void 0:g.message}),[3,5];case 5:return[2]}}))}))},g.prototype.setReconnectInfo=function(e){var t=e.serverIp;e=void 0===(e=e.token)?"":e;this.serverIp=void 0===t?"":t,this.token=e},g.prototype.checkServerSession=function(e){try{var t=JSON.parse(e),n=t.code,r=t.WebrtcResponse;return f("Watchdog, server session code: ".concat(n)),{code:n,message:null==r?void 0:r.Msg}}catch(e){f("Watchdog, parse ServerSession error")}},i=g;function g(){var e=this;this.token="",this.serverIp="",this.retryTimes=0,this.maxRetryTimes=10,this.retryInterval=6e3,this.startRetry=function(t){var n=t.message;f("startRetry, times",e.retryTimes),setTimeout((function(){if(e.retryTimes>=e.maxRetryTimes)return c.default.clearPeerConnection(),a.default.onConnectFailed({code:s.CONNECT_FAILED_CODE.EXCEEDED_LIMIT_RERTY_TIMES,msg:"Retries exceeded"});e.autoReconnect({message:n}),e.retryTimes=e.retryTimes+1,a.default.onConnectFailed({code:s.CONNECT_FAILED_CODE.AUTO_RECONNECTING,msg:"auto connecting"})}),e.retryInterval),f("Watchdog, reconnect proxy failed, try again")}}t.default=new i},2343:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n=n||Promise)((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){var u=[s,c];if(n)throw new TypeError("Generator is already executing.");for(;i=a&&u[a=0]?0:i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,(u=o?[2&u[0],o.value]:u)[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((o=0<(o=i.trys).length&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3]))i.label=u[1];else if(6===u[0]&&i.label<o[1])i.label=o[1],o=u;else{if(!(o&&i.label<o[2])){o[2]&&i.ops.pop(),i.trys.pop();continue}i.label=o[2],i.ops.push(u)}}u=t.call(e,i)}catch(c){u=[6,c],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=(Object.defineProperty(t,"__esModule",{value:!0}),a(n(4206))),c=a(n(4993)),u=n(1743),l=a(n(2179)),p=n(5262),d=a(n(5922)),h=a(n(7023)),f=a(n(4652)),g=a(n(9752)),m=n(7461),y=d.default.log;_.prototype.isShowing=function(){return!!(0,u.getQcloudStatElement)()&&"none"!==(0,u.getQcloudStatElement)().style.display},_.prototype.show=function(e){(0,u.getQcloudStatElement)()&&((0,u.getQcloudStatElement)().style.display=e?"block":"none")},_.prototype.getStats=function(){var e=(l.default.getServerSideDescription()||u.empty).user_id;return{fps:this.fps,delay:this.delay,rtt:this.rtt,cpu:this.cpu,load_cost_time:this.connectSuccessTimeCost-this.serverSessionCost,bit_rate:this.bitrate,packet_lost:this.packetLost,nack:this.nack,packet_received:this.packetsReceived,gpu:this.gpu,input_delay:this.inputDelay,user_id:e,timestamp:+new Date}},_.prototype.setStat=function(e,t){var n,r,o,a,s,p=[],d=[];e.forEach((function(e){"inbound-rtp"===e.type&&("video"!==e.mediaType&&"video"!==e.kind||d.push(e),"audio"!==e.mediaType&&"audio"!==e.kind||p.push(e)),"track"===e.type&&(e.frameHeight||e.frameWidth||"video"===e.kind)&&d.push(e),"track"!==e.type||e.frameHeight&&e.frameWidth||p.push(e)}));try{for(var f=i(d),g=f.next();!g.done;g=f.next()){var _,v,O,C,b,S,E,T,P,I,D,w=g.value,M=w.type,R=w.frameWidth,k=void 0===R?0:R,L=w.frameHeight,G=void 0===L?0:L,A=w.framesPerSecond,N=w.framerateMean,F=w.totalDecodeTime,W=void 0===F?0:F,x=w.framesDropped,V=void 0===x?0:x,B=w.firCount,U=void 0===B?0:B,j=w.pliCount,z=void 0===j?0:j,H=w.jitterBufferDelay,Y=void 0===H?0:H,K=w.packetsLost,q=void 0===K?null:K,X=w.bytesReceived,Z=void 0===X?0:X,J=w.nackCount,Q=void 0===J?0:J,$=w.packetsReceived,ee=void 0===$?0:$,te=w.framesReceived,ne=void 0===te?0:te,re=w.jitter,oe=w.totalInterFrameDelay,ie=void 0===oe?0:oe,ae=w.codecId,se=void 0===ae?"":ae,ce=w.remoteSource,ue=w.transportId,le=w.framesDecoded,pe=void 0===le?0:le,de=w.jitterBufferEmittedCount,he=(he=void 0===de?0:de)||1;pe=pe||1;"track"===M&&(ce&&this.modifyStatElement({name:"Resolution",tag:"video-resolution",stat:"".concat(k,"x").concat(G),point:"qcloud-video"}),(null!=(s=h.default.name)&&s.toLowerCase().includes("safari")||!A)&&ce&&(this.fps=ne-this.lastFramesReceived,this.modifyStatElement({name:"FPS",tag:"video-fps",stat:"".concat(this.fps),point:"qcloud-video"}),this.lastFramesReceived=ne),this.jitterBuffer=(0,u.getFixedDecimal)(Y/he*1e3),this.modifyStatElement({name:"JitterBuffer",tag:"video-jitter-buffer",stat:"".concat(this.jitterBuffer,"ms"),point:"qcloud-video"})),"inbound-rtp"===M&&(this.modifyStatElement({name:"Resolution",tag:"video-resolution",stat:"".concat(k,"x").concat(G),point:"qcloud-video"}),this.frameWidth===k&&this.frameHeight===G||(this.frameWidth=k,this.frameHeight=G,c.default.onVideoStreamConfigChange({width:k,height:G}),y("video stream resolution changed ->".concat(k," ").concat(G))),v=void 0===(_=((null==t?void 0:t.get(se))||{}).mimeType)?"":_,this.modifyStatElement({name:"Codec",tag:"video-codec",stat:v,point:"qcloud-video"}),A&&(this.fps=A,this.modifyStatElement({name:"FPS",tag:"video-fps",stat:"".concat(this.fps),point:"qcloud-video"})),N&&(this.fps=Math.floor(N),this.modifyStatElement({name:"FPS",tag:"video-fps",stat:"".concat(this.fps),point:"qcloud-video"}),this.jitterBuffer=Math.floor(1e3*re),this.modifyStatElement({name:"JitterBuffer",tag:"video-jitter-buffer",stat:"".concat(this.jitterBuffer,"ms"),point:"qcloud-video"})),this.bitrate=Z-this.lastBytesRevc,O=(0,u.getFixedDecimal)(+this.bitrate/1024/1024*8),this.modifyStatElement({name:"VideoBitrate",tag:"video-bitrates",stat:"".concat(O,"Mbit/s"),point:"qcloud-video"}),this.lastBytesRevc=Z,this.packetLost=q<0?0:q,this.modifyStatElement({name:"PacketLost",tag:"video-packet-lost",stat:"".concat(this.packetLost),point:"qcloud-video"}),this.nack=Q,this.modifyStatElement({name:"NACK",tag:"video-nack",stat:"".concat(this.nack),point:"qcloud-video"}),this.delay=(0,u.getFixedDecimal)(+(W/pe*1e3+this.jitterBuffer)),this.modifyStatElement({name:"Delay",tag:"video-delay",stat:"".concat(this.delay,"ms"),point:"qcloud-video"}),this.packetsReceived=ee,this.framesDecoded=pe,this.framesDropped=V,this.framesReceived=ne,this.decodems=Math.floor(W/pe*1e3),this.interfameDelayMaxMs=Math.floor(ie/pe*1e3),this.firCount=U,this.pliCount=z,(C=(l.default.getFeatureSwitch()||{}).network_event_script)&&(S=void 0===(b=C.notify_threshold)?5:b,E=(0,m.computeLatency)({packetsReceived:ee,packetsLost:q,nack:Q,rtt:this.rttArray}),this.latency.status===E?(this.latency.times=this.latency.times+1,this.latency.times===S&&this.latency.status!==m.NetworkStatus.NETWORK_NORMAL&&(c.default.onNetworkChange({status:"latency",data:{value:E,message:m.NetworkStatus[E]}}),c.default.onEvent({type:"latency",data:{value:E,message:m.NetworkStatus[E]}}),this.latency.times=0)):(this.latency.status=E,this.latency.times=0)),D=void 0===(I=((P=void 0===(T=((null==t?void 0:t.get(ue))||{}).selectedCandidatePairId)?"":T)&&((null==t?void 0:t.get(P))||{})).currentRoundTripTime)?0:I,this.rawRTT=D)}}catch(e){n={error:e}}finally{try{g&&!g.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}try{for(var fe=i(p),ge=fe.next();!ge.done;ge=fe.next()){var me,ye=ge.value,_e=(M=ye.type,ye.packetsLost),ve=(q=void 0===_e?0:_e,ye.packetsReceived),Oe=(ee=void 0===ve?0:ve,ye.bytesReceived),Ce=(Z=void 0===Oe?0:Oe,ye.audioLevel),be=void 0===Ce?0:Ce,Se=ye.nackCount,Ee=(Q=void 0===Se?0:Se,ye.codecId);se=void 0===Ee?"":Ee;"inbound-rtp"===M&&(this.audioPacketsLost=q,this.audioPacketsReceived=ee,(v=void 0===(me=((null==t?void 0:t.get(se))||{}).mimeType)?"":me)&&(this.modifyStatElement({name:"Codec",tag:"audio-codec",stat:v,point:"qcloud-audio"}),this.audioBitrate=Z-this.audioLastBytesRevc,O=(0,u.getFixedDecimal)(+this.audioBitrate/1024/1024*8),this.modifyStatElement({name:"AudioBitrate",tag:"audio-bitrates",stat:"".concat(O,"Mbit/s"),point:"qcloud-audio"}),this.audioLastBytesRevc=Z,this.modifyStatElement({name:"PacketLost",tag:"audio-packet-lost",stat:"".concat(this.audioPacketsLost),point:"qcloud-audio"}),this.audioNack=Q,this.modifyStatElement({name:"NACK",tag:"audio-nack",stat:"".concat(this.audioNack),point:"qcloud-audio"})),"track"===M)&&this.modifyStatElement({name:"AudioLevel",tag:"audio-level",stat:"".concat((0,u.getFixedDecimal)(be)),point:"qcloud-audio"})}}catch(e){o={error:e}}finally{try{ge&&!ge.done&&(a=fe.return)&&a.call(fe)}finally{if(o)throw o.error}}},_.prototype.setInputStart=function(e){this.inputSeqMap[e]=(new Date).getTime()},_.prototype.setInputEnd=function(e){this.inputSeqMap[e=void 0===e?0:e]&&(this.inputDelay=Math.round((+new Date-this.inputSeqMap[e])/2),delete this.inputSeqMap[e])},_.prototype.setRTT=function(e){return this.rtt=e,this.modifyStatElement({name:"RTT",tag:"video-rtt",stat:"".concat(e.toString(),"ms"),point:"qcloud-video"}),5===this.rttArray.length&&this.rttArray.shift(),this.rttArray.push(e),this.rttSum+=e,this.rttCount+=1,e=2<e/(this.rttSum/this.rttCount),60<this.rttCount&&(this.rttSum=0,this.rttCount=0),e},_.prototype.setCpuAndGpuUsage=function(e){var t=void 0===(t=e.cpu)?"0":t;e=void 0===(e=e.gpu)?"":e;this.cpu=t,this.modifyStatElement({name:"CpuUsage",tag:"cpu-usage",stat:t,point:"qcloud-info"}),this.gpu=e,this.modifyStatElement({name:"GpuUsage",tag:"gpu-usage",stat:e,point:"qcloud-info"})},_.prototype.setStaticStat=function(){var e=this,t=l.default.getServerSideDescription(),n=t.server_ip,r=t.region,o=t.instance_type,i=t.host_name,a=t.request_id;this.modifyStatElement({name:"Version",tag:"sdk-version",stat:p.config.version,point:"qcloud-info"}),this.modifyStatElement({name:"ServerIp",tag:"server-ip",stat:n,point:"qcloud-info"}),this.modifyStatElement({name:"Region",tag:"region",stat:r,point:"qcloud-info"}),this.modifyStatElement({name:"InstanceType",tag:"instance-type",stat:o,point:"qcloud-info"}),setTimeout((function(){e.modifyStatElement({name:"RequestId",tag:"request-id",stat:a,point:"qcloud-info"})}),2e3),!document.querySelector(".qcloud-host")&&g.default.getIsMobileGame()&&((t=document.createElement("div")).className="qcloud-stat-row qcloud-host",t.innerHTML="<div class='qcloud-stat-left'>HostName</div><div class='qcloud-stat-right'>".concat(i,"</div>"),null!=(n=(0,u.getQcloudStatElement)()))&&n.appendChild(t)},_.prototype.modifyStatElement=function(e){var t,n=void 0===(n=e.name)?"":n,r=void 0===(r=e.tag)?"":r,o=void 0===(o=e.stat)?"":o;e=void 0===(e=e.point)?null:e;null!=(t=(0,u.getQcloudStatElement)())&&t.querySelector(".qcloud-".concat(r))?(0,u.getQcloudStatElement)()&&((0,u.getQcloudStatElement)().querySelector(".qcloud-".concat(r," .qcloud-stat-right")).innerHTML=o):((t=document.createElement("div")).className="qcloud-stat-row qcloud-".concat(r),t.innerHTML="<div class='qcloud-stat-left'>".concat(n,"</div><div class='qcloud-stat-right'>").concat(o,"</div>"),null!=(n=null==(r=(0,u.getQcloudStatElement)())?void 0:r.querySelector(".".concat(e)))&&n.appendChild(t))},_.prototype.setServerSessionTime=function(e){var t=this;this.serverSessionCost=e,setTimeout((function(){t.modifyStatElement({name:"ServerSessionTime",tag:"server-session",stat:"".concat((0,u.getFixedDecimal)((e-c.default.initStartTime)/1e3),"s"),point:"qcloud-info"})}),0)},_.prototype.setIceConnectedTime=function(e){this.iceConnectedCost=e},_.prototype.setConnectSuccessTime=function(e){this.connectSuccessTimeCost=e,this.modifyStatElement({name:"ConnectSuccessTime",tag:"connect-success",stat:"".concat((0,u.getFixedDecimal)((e-c.default.initStartTime)/1e3),"s"),point:"qcloud-info"})},_.prototype.addReportStat=function(){var e=(r=l.default.getServerSideDescription()).server_ip,t=r.request_id,n=r.server_version,r=r.user_id;this.metricBulk.push({user_id:r,request_id:t,server_ip:e,server_version:n,timestamp:+new Date,bit_rate:8*this.bitrate,packet_lost:this.packetLost,packet_received:this.packetsReceived,bytes_received:this.lastBytesRevc,audio_packet_lost:this.audioPacketsLost,audio_packet_received:this.audioPacketsReceived,fps:this.fps,delay:this.delay,nack:this.nack,cpu:+this.cpu,gpu:this.gpu,load_cost_time:this.iceConnectedCost-this.serverSessionCost,first_frame:this.connectSuccessTimeCost-this.serverSessionCost,jitter_buffer:this.jitterBuffer,input_delay:this.inputDelay,rtt:this.rtt,frame_decoded:this.framesDecoded,frame_dropped:this.framesDropped,frame_received:this.framesReceived,render_frame_rate:this.framesDecoded,receive_frame_rate:this.framesReceived,decoded_frame_rate:this.framesDecoded,decode_ms:this.decodems,version:"".concat(p.config.version),platform:"0",pli_count:this.pliCount,fir_count:this.firCount,browser:"".concat(null==(r=h.default.os)?void 0:r.family,"/").concat(null==(t=h.default.os)?void 0:t.version,"/").concat(h.default.name),app_id:"".concat(null!=(n=null==(e=l.default.getServerSideDescription())?void 0:e.app_id)?n:0),game_id:null==(r=l.default.getServerSideDescription())?void 0:r.game_id,raw_rtt:1e3*this.rawRTT})},_.prototype.toggleMetricReportBulk=function(e){var t=this;e?(clearInterval(this.reportTimer),this.reportTimer=setInterval((function(){t.metricReportBulk(),d.default.reportLog()}),1e4)):(clearInterval(this.reportTimer),d.default.reportLog())},_.prototype.metricReportBulk=function(){return r(this,void 0,void 0,(function(){var e,t,n,r,i;return o(this,(function(o){switch(o.label){case 0:e=JSON.stringify({metric:"cg_client_stat",bulk:this.metricBulk}),t=l.default.getServerSideDescription().sig_key,n=null;try{n=t&&(0,f.default)(e.slice(0,128),t).toString()}catch(o){y("encode sig_key error",o)}t=n?" https://metrics.cloud-gaming.myqcloud.com/report_metric_bulk?sig=".concat(n):" https://metrics.cloud-gaming.myqcloud.com/report_metric_bulk",o.label=1;case 1:return o.trys.push([1,3,,4]),p.config.lite?[2,y("lite sdk can not report state")]:p.config.privatization.server?[2]:[4,s.default.post(t,e)];case 2:return n=o.sent(),i=n.status,r=n.data,200!==i&&y("metricReportBulk failed",r),this.metricBulk=[],[3,4];case 3:return i=o.sent(),y("catch metricReportBulk failed",i.message,i.name),[3,4];case 4:return[2]}}))}))},a=new _;function _(){this.inputDelay=0,this.inputSeqMap={},this.rttSum=0,this.rttCount=0,this.rttArray=[],this.rtt=0,this.rawRTT=0,this.latency={times:0,status:null},this.fps=null,this.delay=null,this.cpu="0",this.bitrate=null,this.lastBytesRevc=0,this.packetLost=null,this.nack=null,this.packetsReceived=null,this.framesDecoded=null,this.framesDropped=null,this.framesReceived=null,this.firCount=null,this.pliCount=null,this.decodems=null,this.interfameDelayMaxMs=null,this.frameWidth=null,this.frameHeight=null,this.jitterBuffer=0,this.lastFramesReceived=0,this.gpu="",this.audioFps=null,this.audioLevel=0,this.audioBitrate=null,this.audioLastBytesRevc=0,this.audioPacketsLost=null,this.audioPacketsReceived=null,this.audioNack=null,this.metricBulk=[],this.reportTimer=null,this.serverSessionCost=0,this.connectSuccessTimeCost=0,this.iceConnectedCost=0}t.default=a},869:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MOUNT_POINT_CSS=t.HTML_STRING=t.HTML_STATS=void 0,t.HTML_STATS='\n<div class="qcloud-stat">\n  \n  <div class="qcloud-video">\n    <div class="qcloud-stat-video">\n      <div class="qcloud-stat-left">Video</div>\n    </div>\n  </div>\n\n  <div class="qcloud-audio">\n    <div class="qcloud-stat-audio">\n      <div class="qcloud-stat-left">Audio</div>\n    </div>\n  </div>\n\n  <div class="qcloud-info">\n    <div class="qcloud-stat-info">\n      <div class="qcloud-stat-left">Info</div>\n    </div>\n  </div>\n\n</div>',t.HTML_STRING='\n<div id="cloud-gaming-container" tabindex="-1">\n  <video id="video-stream" tabindex="-1" playsinline webkit-playsinline x5-playsinline autoplay muted preload="auto"></video>\n  <div class="cursor" id="cursor"></div>\n</div>\n\n'.concat(t.HTML_STATS,'\n\n<div class="progress-bar-container">\n  <div class="spinner"> </div>\n  <p class="starting">正在启动云渲染服务</p>\n  <p id="speed" class="starting"></p>\n</div>\n\n<a class="restart" href="javascript:window.location.reload();">重新连接</a>'),t.MOUNT_POINT_CSS="\n#cloud-gaming-container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  display: none;\n  background-size: cover !important; /* stylelint-disable-line */\n}\n.qcloud-stat {\n  position: absolute;\n  right: 10px;\n  top: 0px;\n  line-height: 18px;\n  padding: 5px 10px;\n  z-index: 5;\n  color: #eee;\n  background: rgba(0, 0, 0, .5);\n  border-radius: 5px;\n  text-align: left;\n  font-size: 12px;\n  pointer-events: none;\n  display: none;\n  flex-direction: column;\n  width: 220px;\n  -webkit-transform: translateZ(0);\n  transform: translateZ(0);\n}\n.qcloud-request-id {\n  pointer-events: all;\n}\n.qcloud-stat-left {\n  width: 120px;\n}\n.qcloud-stat-right {\n  flex: 1;\n}\n.qcloud-stat-row {\n  text-align: left;\n  display: flex;\n}\n\n@keyframes spinner {\n  to {transform: rotate(360deg);}\n}\n.progress-bar-container {\n  text-align: center;\n  position: absolute;\n  width: 40%;\n  height: 15%;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n.starting {\n  color:white;\n  font-weight:bold;\n  margin-top:30px;\n}\n.spinner:before {\n  content: '';\n  box-sizing: border-box;\n  position: absolute;\n  top: 60px;\n  width: 20px;\n  height: 20px;\n  margin-top: -5px;\n  margin-left: -10px;\n  border-radius: 50%;\n  border: 4px solid #ccc;\n  border-top-color: #000;\n  animation: spinner .6s linear infinite;\n}\n.restart {\n  position: absolute;\n  width: 350px;\n  text-align: center;\n  height: 30px;\n  line-height: 30px;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  align-items: center;\n  font-size: 24px;\n  color: #fff;\n  display: none;\n}\n.cursor {\n  position: absolute;\n  width: 26px;\n  height: 26px;\n  top: 0px;\n  left: 0px;\n  z-index: 1;\n  background-size: cover;\n  display: none;\n}\n.audio-stream {\n  width: 0px;\n}\n#video-stream {\n  max-width: 100%;\n  max-height: 100%;\n  outline: none;\n  border: 0;\n}\n#video-stream:focus {\n  outline :none;\n}\n.rotate-html-90 {\n  transform: rotate(90deg);\n  transform-origin: left top;\n  width: 100vh;\n  height: 100vw;\n  overflow-x: hidden;\n  position: absolute;\n  top: 0;\n  left: 100%;\n}\n.rotate-html-270 {\n  transform: rotate(270deg);\n  transform-origin: left top;\n  overflow-x: hidden;\n  position: absolute;\n  top: 100%;\n  left: 0;\n}"},5922:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n=n||Promise)((function(o,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function s(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a={next:s(0),throw:s(1),return:s(2)};return"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(c){var u=[s,c];if(n)throw new TypeError("Generator is already executing.");for(;i=a&&u[a=0]?0:i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,(u=o?[2&u[0],o.value]:u)[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!((o=0<(o=i.trys).length&&o[o.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3]))i.label=u[1];else if(6===u[0]&&i.label<o[1])i.label=o[1],o=u;else{if(!(o&&i.label<o[2])){o[2]&&i.ops.pop(),i.trys.pop();continue}i.label=o[2],i.ops.push(u)}}u=t.call(e,i)}catch(c){u=[6,c],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}},i=(this&&this.__read,this&&this.__spreadArray,this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=(Object.defineProperty(t,"__esModule",{value:!0}),a(n(4206))),c=a(n(2179)),u=n(1743),l=a(n(4993)),p=a(n(4652)),d=n(5262);f.prototype.log=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null!=(f=l.default.getInitOptions().debugSetting)&&f.showLog;var r="";try{for(var o=i(t),a=o.next();!a.done;a=o.next()){var s=a.value;r+="".concat("object"==typeof s?JSON.stringify(s):s," ")}}catch(e){p={error:e}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(p)throw p.error}}var p=void 0===(p=(f=c.default.getServerSideDescription()).request_id)?"":p,d=void 0===(d=f.server_ip)?"":d,f=void 0===(f=f.user_id)?"":f,g=null!=(g=d||p)?g:"";r="[TCG/".concat(g,"][").concat(f,"]:").concat(r),d={timestamp:+(g=(null!=(g=h.externalLogHandler)&&g.call(h,r),new Date)),server_ip:d,request_id:p,user_id:f,content:"".concat((0,u.formatTime)(g,"yyyy-mm-dd hh:ii:ss")," ").concat(r,"\n")};h.logStr.push(d),h.allLogs.push({request_id:d.request_id,user_id:d.user_id,content:d.content})},f.prototype.getLog=function(){var e,t=c.default.getServerSideDescription(),n=void 0===(e=t.request_id)?"":e,r=void 0===(e=t.server_ip)?"":e;return this.logStr.forEach((function(e){e.server_ip||(e.server_ip=r),e.request_id||(e.request_id=n)})),this.logStr},f.prototype.getAllLogs=function(){var e=c.default.getServerSideDescription().request_id,t=void 0===e?"":e;return this.allLogs.forEach((function(e){e.request_id||(e.request_id=t)})),this.allLogs},f.prototype.reportLog=function(){return r(this,void 0,void 0,(function(){return o(this,(function(e){return[2,this.metricLogReport(this.getLog())]}))}))},f.prototype.setExternalLog=function(e){void 0===e&&(e=u.noop),this.externalLogHandler=e},f.prototype.metricLogReport=function(e){return r(this,void 0,void 0,(function(){var t,n,r,i,a;return o(this,(function(o){switch(o.label){case 0:if(0===this.logStr.length)return[2];t=JSON.stringify({metric:"cg_client_log",bulk:e}),n=c.default.getServerSideDescription().sig_key,r=null;try{r=n&&(0,p.default)(t.slice(0,128),n).toString()}catch(o){this.log("encode sig_key error",o)}n=r?"https://metrics.cloud-gaming.myqcloud.com/report_log_bulk?sig=".concat(r):"https://metrics.cloud-gaming.myqcloud.com/report_log_bulk",o.label=1;case 1:return o.trys.push([1,3,,4]),d.config.lite?[2,this.log("lite sdk can not report logs")]:d.config.privatization.server?[2]:[4,s.default.post(n,t)];case 2:return r=o.sent(),a=r.status,i=r.data,200===a?(this.log("metricReportLog",i),this.logStr=[],[2,i]):(this.log("metricReportLog failed",null==i?void 0:i.message),[2,{code:-1,message:"failed"}]);case 3:return a=o.sent(),this.log("catch metricReportLog failed",a.message,a.name),[2,{code:-1,message:"failed"}];case 4:return[2]}}))}))};var h=new f;function f(){this.logStr=[],this.allLogs=[],this.externalLogHandler=u.noop}window.TCGLogger=h,t.default=h},2484:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.interceptUserEvent=void 0,t.interceptUserEvent=function(e,t){return function(n,r,o){void 0===n&&(n=null);var i=o.value;return o.value=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=["video-stream","cursor"],a=("keyEvent"===t&&o.push("cloud-gaming-container"),n[0].target.id);e&&!o.includes(a)||i.apply(this,n)},o}}},6363:function(e,t){"use strict";var n,r,o=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.getInIframe=t.supportFullScreen=void 0;var a,s={},c=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],u=o(c,1)[0];try{for(var l=i(c),p=l.next();!p.done;p=l.next()){var d=p.value;if(d[1]in document){a=d;break}}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}if(a)for(var h=0;h<a.length;h++)s[u[h]]=a[h];t.default=s,t.supportFullScreen=function(e){return!("function"!=typeof e.webkitEnterFullScreen||(e=navigator.userAgent||"",!/Android/.test(e)&&/Chrome|Mac OS X 10.5/.test(e)))},t.getInIframe=function(){return window.self!==window.top}},7461:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},o=(Object.defineProperty(t,"__esModule",{value:!0}),t.computeLatency=t.NetworkStatus=t.variance=void 0,r(n(2179)));t.variance=function(e){var t,n,r,o;return(e=void 0===e?[]:e).length?(t=e.reduce((function(e,t){return e+t}),0),n=e.length,r=t/n,o=0,e.forEach((function(e){o+=(e-r)*(e-r)})),o/=n,Math.floor(o)):0};var i,a={packetsReceived:0,packetsLost:0,nack:0,rttAverage:0,rttVariance:0,nackRate:0,packetsLostRate:0};(r=i||(t.NetworkStatus=i={}))[r.NETWORK_NORMAL=0]="NETWORK_NORMAL",r[r.NETWORK_CONGESTION=1]="NETWORK_CONGESTION",r[r.NACK_RISING=2]="NACK_RISING",r[r.HIGH_DELAY=3]="HIGH_DELAY",r[r.NETWORK_JITTER=4]="NETWORK_JITTER",t.computeLatency=function(e){var n=void 0===(n=e.packetsReceived)?0:n,r=void 0===(r=e.packetsLost)?0:r,s=void 0===(s=e.nack)?0:s,c=(e=void 0===(e=e.rtt)?[]:e,n-a.packetsReceived);a.packetsReceived=n,n=r-a.packetsLost,a.packetsLost=r,a.packetsLostRate=n/c,n=r-a.nack,n=(s=void 0===(r=(a.nack=s,a.nackRate=n/c,a.rttAverage=e.reduce((function(e,t){return e+t}),0)/e.length,a.rttVariance=(0,t.variance)(e),o.default.getFeatureSwitch().network_event_script))?{}:r).loss_rate_threshold,c=s.nack_rate_threshold,e=s.rtt_avg_threshold,r=s.rtt_dev_threshold;return n<a.packetsLostRate?i.NETWORK_CONGESTION:c<a.nackRate?i.NACK_RISING:e<a.rttAverage?i.HIGH_DELAY:r<a.rttVariance?i.NETWORK_JITTER:i.NETWORK_NORMAL}},1743:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&r>=e.length?void 0:e)&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},a=(Object.defineProperty(t,"__esModule",{value:!0}),t.supportRenegotiation=t.getIOSVersion=t.createAudioAndAddTrack=t.getFakeInput=t.getRestartElement=t.getQcloudSpeedElement=t.getQcloudStatElement=t.getGameMountPointElement=t.getCloudGamingContainerElement=t.getCursorElement=t.getProgressBarElement=t.getAudioElement=t.getVideoElement=t.empty=t.getSequence=t.getFixedDecimal=t.is360=t.canReceiveH264=t.checkProfileLevelId=t.getSearch=t.noop=t.dispatchEvent=t.formatTime=t.addZero=t.sleep=t.checkBrowser=t.isIOS=t.isAndroid=t.isMobile=t.isFullScreen=t.isWegameChrome=t.codeMap=void 0,i(n(7023))),s=i(n(4993)),c=i(n(5922)).default.log;t.codeMap={0:{key:48,shift:!1},")":{key:48,shift:!0},1:{key:49,shift:!1},"!":{key:49,shift:!0},2:{key:50,shift:!1},"@":{key:50,shift:!0},3:{key:51,shift:!1},"#":{key:51,shift:!0},4:{key:52,shift:!1},$:{key:52,shift:!0},5:{key:53,shift:!1},"%":{key:53,shift:!0},6:{key:54,shift:!1},"^":{key:54,shift:!0},7:{key:55,shift:!1},"&":{key:55,shift:!0},8:{key:56,shift:!1},"*":{key:56,shift:!0},9:{key:57,shift:!1},"(":{key:57,shift:!0},a:{key:65,shift:!1},A:{key:65,shift:!0},b:{key:66,shift:!1},B:{key:66,shift:!0},c:{key:67,shift:!1},C:{key:67,shift:!0},d:{key:68,shift:!1},D:{key:68,shift:!0},e:{key:69,shift:!1},E:{key:69,shift:!0},f:{key:70,shift:!1},F:{key:70,shift:!0},g:{key:71,shift:!1},G:{key:71,shift:!0},h:{key:72,shift:!1},H:{key:72,shift:!0},i:{key:73,shift:!1},I:{key:73,shift:!0},j:{key:74,shift:!1},J:{key:74,shift:!0},k:{key:75,shift:!1},K:{key:75,shift:!0},l:{key:76,shift:!1},L:{key:76,shift:!0},m:{key:77,shift:!1},M:{key:77,shift:!0},n:{key:78,shift:!1},N:{key:78,shift:!0},o:{key:79,shift:!1},O:{key:79,shift:!0},p:{key:80,shift:!1},P:{key:80,shift:!0},q:{key:81,shift:!1},Q:{key:81,shift:!0},r:{key:82,shift:!1},R:{key:82,shift:!0},s:{key:83,shift:!1},S:{key:83,shift:!0},t:{key:84,shift:!1},T:{key:84,shift:!0},u:{key:85,shift:!1},U:{key:85,shift:!0},v:{key:86,shift:!1},V:{key:86,shift:!0},w:{key:87,shift:!1},W:{key:87,shift:!0},x:{key:88,shift:!1},X:{key:88,shift:!0},y:{key:89,shift:!1},Y:{key:89,shift:!0},z:{key:90,shift:!1},Z:{key:90,shift:!0},"=":{key:187,shift:!1},"+":{key:187,shift:!0},",":{key:188,shift:!1},"<":{key:188,shift:!0},"-":{key:189,shift:!1},_:{key:189,shift:!0},".":{key:190,shift:!1},">":{key:190,shift:!0},"/":{key:191,shift:!1},"?":{key:191,shift:!0},"`":{key:192,shift:!1},"~":{key:192,shift:!0},"[":{key:219,shift:!1},"{":{key:219,shift:!0},"\\":{key:220,shift:!1},"|":{key:220,shift:!0},"]":{key:221,shift:!1},"}":{key:221,shift:!0},"'":{key:222,shift:!1},'"':{key:222,shift:!0},"↑":{key:38,shift:!1},"↓":{key:40,shift:!1},"←":{key:37,shift:!1},"→":{key:39,shift:!1},Home:{key:36,shift:!1},Ctrl:{key:17,shift:!1},Alt:{key:18,shift:!1},Win:{key:91,shift:!1},NumLock:{key:144,shift:!1},Tab:{key:9,shift:!1},CapsLock:{key:20,shift:!1},Shift:{key:16,shift:!1},Enter:{key:13,shift:!1},BackSpace:{key:8,shift:!1},Insert:{key:45,shift:!1},Delete:{key:46,shift:!1},PageUp:{key:33,shift:!1},PageDown:{key:34,shift:!1},End:{key:35,shift:!1},PrintScreen:{key:42,shift:!1},ScrollLock:{key:145,shift:!1},PauseBreak:{key:19,shift:!1},Space:{key:32,shift:!1},Esc:{key:27,shift:!1},F1:{key:112,shift:!1},F2:{key:113,shift:!1},F3:{key:114,shift:!1},F4:{key:115,shift:!1},F5:{key:116,shift:!1},F6:{key:117,shift:!1},F7:{key:118,shift:!1},F8:{key:119,shift:!1},F9:{key:120,shift:!1},F10:{key:121,shift:!1},F11:{key:122,shift:!1},F12:{key:123,shift:!1},"^0":{key:96,shift:!1},"^1":{key:97,shift:!1},"^2":{key:98,shift:!1},"^3":{key:99,shift:!1},"^4":{key:100,shift:!1},"^5":{key:101,shift:!1},"^6":{key:102,shift:!1},"^7":{key:103,shift:!1},"^8":{key:104,shift:!1},"^9":{key:105,shift:!1},"^.":{key:110,shift:!1},"^+":{key:107,shift:!1},"^/":{key:111,shift:!1},"^*":{key:106,shift:!1},"^-":{key:109,shift:!1},"^Enter":{key:108,shift:!1},"^,":{key:188,shift:!1}},t.isWegameChrome=function(){return!(!window.external||!window.external.callcpp)},t.isFullScreen=function(){return!(!document.fullscreenElement&&!document.webkitIsFullScreen)},t.isMobile=function(){return!!(/Android|iPhone|iPad|iOS/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&0<navigator.maxTouchPoints)},t.isAndroid=function(){var e;return(null==(e=null===navigator||void 0===navigator?void 0:navigator.userAgent)?void 0:e.includes("Android"))||(null==(e=null===navigator||void 0===navigator?void 0:navigator.userAgent)?void 0:e.includes("Adr"))},t.isIOS=function(){var e;return(null==(e=null===navigator||void 0===navigator?void 0:navigator.userAgent)?void 0:e.includes("iOS"))||(null==(e=null===navigator||void 0===navigator?void 0:navigator.userAgent)?void 0:e.includes("iPhone"))||(null==(e=null===navigator||void 0===navigator?void 0:navigator.userAgent)?void 0:e.includes("iPad"))},t.checkBrowser=function(){var e=navigator.userAgent.toLowerCase();return/micromessenger/gi.test(e)?"wx":/qq/gi.test(e)?"qq":"system"},t.sleep=function(e){return new Promise((function(t){setTimeout(t,e)}))},t.addZero=function(e,t){for(var n=0,r=t-"".concat(e).length;n<r;n++)e="0".concat(e);return"".concat(e)},t.formatTime=function(e,n){return n.replace(/yyyy|YYYY/,e.getFullYear()).replace(/yy|YY/,(0,t.addZero)(e.getFullYear()%100,2)).replace(/mm|MM/,(0,t.addZero)(e.getMonth()+1,2)).replace(/m|M/g,e.getMonth()+1).replace(/dd|DD/,(0,t.addZero)(e.getDate(),2)).replace(/d|D/g,e.getDate()).replace(/hh|HH/,(0,t.addZero)(e.getHours(),2)).replace(/h|H/g,e.getHours()).replace(/ii|II/,(0,t.addZero)(e.getMinutes(),2)).replace(/i|I/g,e.getMinutes()).replace(/ss|SS/,(0,t.addZero)(e.getSeconds(),2)).replace(/s|S/g,e.getSeconds()).replace(/w/g,e.getDay()).replace(/W/g,["日","一","二","三","四","五","六"][e.getDay()])},t.dispatchEvent=function(e){var t=e.name;e=e.data,t=new CustomEvent(t,{bubbles:!0,detail:e});return window.dispatchEvent(t)},t.noop=function(){for(var e=0;e<arguments.length;e++);},t.getSearch=function(){var e={};return window.location.search.replace("?","").split("&").forEach((function(t){var n=(t=r(t.split("="),2))[0];t=t[1];e[n]=t})),e},t.checkProfileLevelId=function(e){var t=[];return(e=void 0===e?"":e).split("\r\n").forEach((function(e){e.includes("profile-level-id")&&(e=e.split("profile-level-id").pop().slice(1),t.push(e))})),c("available profile-level-ids: ",t.join(",")),t},t.canReceiveH264=function(){var e=!1;return window.RTCRtpReceiver&&null!==RTCRtpReceiver&&void 0!==RTCRtpReceiver&&RTCRtpReceiver.getCapabilities?(RTCRtpReceiver.getCapabilities("video").codecs.forEach((function(t){"video/H264"===t.mimeType&&(e=!0)})),e):(c("RTCRtpReceiver.getCapabilities is not a function"),!0)},t.is360=function(){function e(e,t){var n,r,i=navigator.mimeTypes;try{for(var a=o(i),s=a.next();!s.done;s=a.next())if(s.value[e]===t)return!0}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return!1}var t=!1,n=navigator.userAgent;return-1<n.indexOf("QihooBrowser")||n.indexOf("QHBrowser"),n.indexOf("360EE"),n.indexOf("360SE"),-1<n.indexOf("2345Explorer")||-1<n.indexOf("Mb2345Browser")||n.indexOf("2345chrome"),-1<n.indexOf("Mobi")||-1<n.indexOf("iPh")||n.indexOf("480"),window.chrome&&(n=n.replace(/^.*Chrome\/([\d]+).*$/,"$1"),window.chrome.adblock2345||window.chrome.common2345||(e("type","application/360softmgrplugin")||e("type","application/mozilla-npqihooquicklogin")||36<n&&window.showModalDialog?t=!0:45<n&&!(t=e("type","application/vnd.chromium.remoting-viewer"))&&69<=n&&(t=e("type","application/hwepass2001.installepass2001")||e("type","application/asx")))),t},t.getFixedDecimal=function(e,t){return void 0===t&&(t=2),Math.floor(10*e*t)/(10*t)},t.getSequence=function(){return+(+new Date+Math.round(1e4*Math.random()))},t.empty={},t.getVideoElement=function(){return document.getElementById("video-stream")},t.getAudioElement=function(){return document.getElementById("audio-stream")},t.getProgressBarElement=function(){return document.querySelector(".progress-bar-container")},t.getCursorElement=function(){return document.getElementById("cursor")},t.getCloudGamingContainerElement=function(){return document.getElementById("cloud-gaming-container")},t.getGameMountPointElement=function(){var e;return document.getElementById(null==(e=s.default.getInitOptions())?void 0:e.mount)},t.getQcloudStatElement=function(){return document.querySelector(".qcloud-stat")},t.getQcloudSpeedElement=function(){return document.querySelector(".qcloud-speed")},t.getRestartElement=function(){return document.querySelector(".restart")},t.getFakeInput=function(){return document.getElementById("tcg-fake-input")},t.createAudioAndAddTrack=function(e){var n=e.id,r=(e=e.source,document.getElementById(n));r||((r=document.createElement("audio")).id=n,r.autoplay=!0,r.className="audio-stream",r.setAttribute("playsinline","true"),r.setAttribute("webkit-playsinline","true"),r.setAttribute("x5-playsinline","true")),r.srcObject=e,(0,t.getCloudGamingContainerElement)().appendChild(r)},t.getIOSVersion=function(){var e=(t=r(null==(t=null==(t=null===a.default||void 0===a.default?void 0:a.default.os)?void 0:t.version)?void 0:t.split("."),2))[0],t=t[1];return e&&t?+"".concat(e,".").concat(t):0},t.supportRenegotiation=function(){return!((0,t.isIOS)()&&(0,t.getIOSVersion)()<15.4)}},943:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},9677:e=>{var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];0<e;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var o=e[r]<<16|e[r+1]<<8|e[r+2],i=0;i<4;i++)8*r+6*i<=8*e.length?n.push(t.charAt(o>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<e.length;o=++r%4)0!=o&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(r))>>>6-2*o);return n}};e.exports=n},8112:function(e,t,n){e.exports=function(e){var t;if("undefined"!=typeof window&&window.crypto&&(t=window.crypto),"undefined"!=typeof self&&self.crypto&&(t=self.crypto),!(t=!(t=!(t="undefined"!=typeof globalThis&&globalThis.crypto?globalThis.crypto:t)&&"undefined"!=typeof window&&window.msCrypto?window.msCrypto:t)&&void 0!==n.g&&n.g.crypto?n.g.crypto:t))try{t=n(429)}catch(e){}var r=Object.create||function(e){return f.prototype=e,e=new f,f.prototype=null,e},o={},i=o.lib={},a=i.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),(t.init.prototype=t).$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,o=e.sigBytes;if(this.clamp(),r%4)for(var i=0;i<o;i++){var a=n[i>>>2]>>>24-i%4*8&255;t[r+i>>>2]|=a<<24-(r+i)%4*8}else for(var s=0;s<o;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=o,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var n=[],r=0;r<e;r+=4)n.push(function(){if(t){if("function"==typeof t.getRandomValues)try{return t.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof t.randomBytes)try{return t.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}());return new s.init(n,e)}}),c=o.enc={},u=c.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new s.init(n,t/2)}},l=c.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o++){var i=t[o>>>2]>>>24-o%4*8&255;r.push(String.fromCharCode(i))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new s.init(n,t)}},p=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,o=r.words,i=r.sigBytes,a=this.blockSize,c=i/(4*a),u=(t?e.ceil(c):e.max((0|c)-this._minBufferSize,0))*a;t=e.min(4*u,i);if(u){for(var l=0;l<u;l+=a)this._doProcessBlock(o,l);n=o.splice(0,u),r.sigBytes-=t}return new s.init(n,t)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(i.Hasher=d.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new h.HMAC.init(e,n).finalize(t)}}}),o.algo={});function f(){}return o}(Math)},4652:function(e,t,n){e.exports=(e=n(8112),n(2232),n(3456),e.HmacSHA256)},3456:function(e,t,n){var r;e.exports=(n=(e=n(8112)).lib.Base,r=e.enc.Utf8,void(e.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,o=4*n;(t=t.sigBytes>o?e.finalize(t):t).clamp();e=this._oKey=t.clone(),t=this._iKey=t.clone();for(var i=e.words,a=t.words,s=0;s<n;s++)i[s]^=1549556828,a[s]^=909522486;e.sigBytes=t.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;e=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(e))}})))},2232:function(e,t,n){var r;e.exports=(r=n(8112),function(e){var t=r,n=(i=t.lib).WordArray,o=i.Hasher,i=t.algo,a=[],s=[];function c(e){return 4294967296*(e-(0|e))|0}for(var u=2,l=0;l<64;)!function(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return;return 1}(u)||(l<8&&(a[l]=c(e.pow(u,.5))),s[l]=c(e.pow(u,1/3)),l++),u++;var p=[];i=i.SHA256=o.extend({_doReset:function(){this._hash=new n.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],o=n[1],i=n[2],a=n[3],c=n[4],u=n[5],l=n[6],d=n[7],h=0;h<64;h++){p[h]=h<16?0|e[t+h]:(((f=p[h-15])<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+p[h-7]+(((f=p[h-2])<<15|f>>>17)^(f<<13|f>>>19)^f>>>10)+p[h-16];var f=r&o^r&i^o&i,g=d+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&u^~c&l)+s[h]+p[h];d=l,l=u,u=c,c=a+g|0,a=i,i=o,o=r,r=g+(((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+f)|0}n[0]=n[0]+r|0,n[1]=n[1]+o|0,n[2]=n[2]+i|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0,n[5]=n[5]+u|0,n[6]=n[6]+l|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;return n[o>>>5]|=128<<24-o%32,n[14+(64+o>>>9<<4)]=e.floor(r/4294967296),n[15+(64+o>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(i),t.HmacSHA256=o._createHmacHelper(i)}(Math),r.SHA256)},7408:function(e){function t(e){var o=r[e];return void 0!==o||(o=r[e]={exports:{}},n[e].call(o.exports,o,o.exports,t)),o.exports}var n,r,o;e.exports=(n={944:function(e){e.exports=(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){var n,r,o,a,s="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(s)return o=!(r=!0),{s:function(){s=s.call(e)},n:function(){var e=s.next();return r=e.done,e},e:function(e){o=!0,n=e},f:function(){try{r||null==s.return||s.return()}finally{if(o)throw n}}};if(Array.isArray(e)||(s=i(e))||t&&e&&"number"==typeof e.length)return s&&(e=s),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){s=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){var n;if(e)return"string"==typeof e?a(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.d(t,{default:()=>s});var s=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],n=this,r=e;if(!(n instanceof r))throw new TypeError("Cannot call a class as a function");this.allowExtra=t,this.defaults=new Map,this.types=new Map,this.optional=new Set,this.required=new Set}for(var t=e.prototype,i=[{key:"setDefaults",value:function(e){var t=this;return Object.entries(e).forEach((function(e){var n=(e=o(e,2))[0];e=e[1];return t.defaults.set(n,e)})),this}},{key:"setTypes",value:function(e){var t=this;return Object.entries(e).forEach((function(e){var n=(e=o(e,2))[0];e=e[1];return t.types.set(n,e)})),this}},{key:"setOptional",value:function(e){var t=this;return e.forEach((function(e){return t.optional.add(e)})),this}},{key:"setRequired",value:function(e){var t=this;return e.forEach((function(e){return t.required.add(e)})),this}},{key:"resolve",value:function(e){return e=Object.assign(this.getDefaults(),e),this.validate(e),e}},{key:"getDefaults",value:function(){var e,t={},n=r(this.defaults);try{for(n.s();!(e=n.n()).done;){var i=o(e.value,2),a=i[0],s=i[1];t[a]=s}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"validate",value:function(e){for(var t in e){if(!this.optionExists(t))throw new Error('Unkown option "'.concat(t,'".'));this.checkType(t,e[t])}var n,o=r(this.required.values());try{for(o.s();!(n=o.n()).done;){var i=n.value;if(void 0===e[i])throw new Error('Option "'.concat(i,'" is required.'))}}catch(e){o.e(e)}finally{o.f()}}},{key:"checkType",value:function(e,t){if(this.types.has(e)){var r=this.types.get(e);if((t=n(t))!==r)throw new Error('Wrong value for option "'.concat(e,'". Expected type "').concat(r,'" but got "').concat(t,'".'))}}},{key:"optionExists",value:function(e){return!!this.allowExtra||this.defaults.has(e)||this.optional.has(e)||this.required.has(e)||this.types.has(e)}}],a=0;a<i.length;a++){var s=i[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}return e}();return t.default})()},162:function(e){e.exports=(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={},n=(e.d(t,{default:()=>n}),function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._events={},this.on=this.addEventListener,this.off=this.removeEventListener}for(var t=e.prototype,n=[{key:"emit",value:function(e,t){if(Object.prototype.hasOwnProperty.call(this._events,e))for(var n=this._events[e],r={type:e,detail:t},o=n.length,i=0;i<o;i++)this.handle(n[i],r)}},{key:"handle",value:function(e,t){e(t)}},{key:"addEventListener",value:function(e,t){Object.prototype.hasOwnProperty.call(this._events,e)||(this._events[e]=[]),this._events[e].indexOf(t)<0&&this._events[e].push(t)}},{key:"removeEventListener",value:function(e,t){var n;Object.prototype.hasOwnProperty.call(this._events,e)&&(0<=(t=(n=this._events[e]).indexOf(t))&&n.splice(t,1),0===n.length)&&delete this._events[e]}}],r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return e}());return t.default})()}},r={},t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o={},(()=>{"use strict";t.r(o),t.d(o,{GamepadHandler:()=>u,GamepadListener:()=>g});var e=t(162),n=(e=t.n(e),t(944));n=t.n(n);function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){var t=l;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e),n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();var n,o,u=function(){var e,t,i=c(n);return e=o?(e=c(this).constructor,Reflect.construct(i,arguments,e)):i.apply(this,arguments),i=this,!(t=e)||"object"!==r(t)&&"function"!=typeof t?s(i):t};function l(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=this,o=l;if(r instanceof o)return(r=u.call(this)).index=e,r.options=r.constructor.resolveOptions(n),r.sticks=new Array(t.axes.length/2).fill(null).map((function(){return[null,null]})),r.buttons=new Array(t.buttons.length).fill(null),r.updateStick=r.updateStick.bind(s(r)),r.updateButton=r.updateButton.bind(s(r)),r;throw new TypeError("Cannot call a class as a function")}return t=[{key:"resolveOptions",value:function(e){var t=void 0!==e.stick,n=void 0!==e.button;return(n={stick:this.optionResolver.resolve(t?e.stick:n?{}:e),button:this.optionResolver.resolve(n?e.button:t?{}:e)}).stick.deadZone=Math.max(Math.min(n.stick.deadZone,1),0),n.button.deadZone=Math.max(Math.min(n.button.deadZone,1),0),n.stick.precision=n.stick.precision?Math.pow(10,n.stick.precision):0,n.button.precision=n.button.precision?Math.pow(10,n.button.precision):0,n}}],i((e=l).prototype,[{key:"update",value:function(e){for(var t=0,n=this.sticks.length,r=0;r<n;r++)for(var o=0;o<2;o++)this.updateStick(e,r,o,e.axes[t++]);var i=this.buttons.length;for(t=0;t<i;t++)this.updateButton(e,e.buttons[t],t)}},{key:"updateStick",value:function(e,t,n,r){var o=(a=this.options.stick).deadZone,i=a.analog,a=a.precision;o&&r<o&&-o<r&&(r=0),i?a&&(r=Math.round(r*a)/a):r=0<r?1:r<0?-1:0,this.sticks[t][n]!==r&&(this.sticks[t][n]=r,this.emit("axis",{gamepad:e,stick:t,axis:n,value:r,index:this.index}))}},{key:"updateButton",value:function(e,t,n){var r=(i=this.options.button).deadZone,o=i.analog,i=i.precision,a=t.value,s=t.pressed;r&&t.value<r&&t.value>-r&&(a=0),o?i&&(a=Math.round(a*i)/i):a=s?1:0,this.buttons[n]!==a&&(this.buttons[n]=a,this.emit("button",{gamepad:e,button:n,pressed:s,value:a,index:this.index}))}}]),i(e,t),l}(e()),l=(u.optionResolver=(new(n())).setDefaults({analog:!0,deadZone:0,precision:0}).setTypes({analog:"boolean",deadZone:"number",precision:"number"}),function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.callback=t,this.frame=null,this.update=this.update.bind(this)}for(var t=e.prototype,n=[{key:"setCallback",value:function(e){this.callback=e}},{key:"start",value:function(){this.frame||(this.frame=window.requestAnimationFrame(this.update))}},{key:"stop",value:function(){this.frame&&(window.cancelAnimationFrame(this.frame),this.frame=null)}},{key:"update",value:function(){this.frame=window.requestAnimationFrame(this.update),this.callback()}}],r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}return e}());function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){var t=i;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e),n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();var n,r,o=function(){var e,t,o=f(n);return e=r?(e=f(this).constructor,Reflect.construct(o,arguments,e)):o.apply(this,arguments),o=this,!(t=e)||"object"!==p(t)&&"function"!=typeof t?h(o):t};function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this,n=i;if(!(t instanceof n))throw new TypeError("Cannot call a class as a function");if(t=o.call(this),"function"!=typeof navigator.getGamepads)throw new Error("This browser does not support gamepad API.");return t.options=e,t.onAxis=t.onAxis.bind(h(t)),t.update=t.update.bind(h(t)),t.start=t.start.bind(h(t)),t.stop=t.stop.bind(h(t)),t.discover=t.discover.bind(h(t)),t.onButton=t.onButton.bind(h(t)),t.handlers=new Array(4).fill(null),t.loop=new l(t.update),window.addEventListener("error",t.stop),t}for(var a=i.prototype,s=[{key:"start",value:function(){this.loop.start()}},{key:"stop",value:function(){this.loop.stop()}},{key:"update",value:function(){var e=navigator.getGamepads();this.discover(e[0],0),this.discover(e[1],1),this.discover(e[2],2),this.discover(e[3],3)}},{key:"discover",value:function(e,t){e?(this.handlers[t]||this.registerHandler(t,e),this.handlers[t].update(e)):this.handlers[t]&&this.removeGamepad(t)}},{key:"registerHandler",value:function(e,t){if(this.handlers[e])throw new Error("Gamepad #".concat(e," is already registered."));var n=new u(e,t,this.options);(this.handlers[e]=n).addEventListener("axis",this.onAxis),n.addEventListener("button",this.onButton),this.emit("gamepad:connected",{index:e,gamepad:t}),this.emit("gamepad:".concat(e,":connected"),{index:e,gamepad:t})}},{key:"removeGamepad",value:function(e){if(!this.handlers[e])throw new Error("Gamepad #".concat(e," is not registered."));this.handlers[e].removeEventListener("axis",this.onAxis),this.handlers[e].removeEventListener("button",this.onButton),this.handlers[e]=null,this.emit("gamepad:disconnected",{index:e}),this.emit("gamepad:".concat(e,":disconnected"),{index:e})}},{key:"onAxis",value:function(e){var t=e.detail.index;this.emit("gamepad:axis",e.detail),this.emit("gamepad:".concat(t,":axis"),e.detail),this.emit("gamepad:".concat(t,":axis:").concat(e.detail.axis),e.detail)}},{key:"onButton",value:function(e){var t=e.detail.index;this.emit("gamepad:button",e.detail),this.emit("gamepad:".concat(t,":button"),e.detail),this.emit("gamepad:".concat(t,":button:").concat(e.detail.button),e.detail)}}],c=0;c<s.length;c++){var g=s[c];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(a,g.key,g)}return i}(e())})(),o)},8809:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||"function"==typeof(n=e).readFloatLE&&"function"==typeof n.slice&&t(n.slice(0,0))||!!e._isBuffer);var n}},3578:function(e,t,r){"undefined"==typeof self&&"undefined"==typeof window&&void 0!==r.g&&r.g,e.exports=function(){"use strict";function e(e){return e.replace(/=/g,"").replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"}))}function t(e){for(var t,n,r,o="",i=e.length%3,a=0;a<e.length;){if(255<(t=e.charCodeAt(a++))||255<(n=e.charCodeAt(a++))||255<(r=e.charCodeAt(a++)))throw new TypeError("invalid character found");o+=S[(t=t<<16|n<<8|r)>>18&63]+S[t>>12&63]+S[t>>6&63]+S[63&t]}return i?o.slice(0,i-3)+"===".substring(i):o}function r(t,n){return(n=void 0!==n&&n)?e(M(t)):M(t)}function o(e){var t;return e.length<2?(t=e.charCodeAt(0))<128?e:t<2048?P(192|t>>>6)+P(128|63&t):P(224|t>>>12&15)+P(128|t>>>6&63)+P(128|63&t):(t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320),P(240|t>>>18&7)+P(128|t>>>12&63)+P(128|t>>>6&63)+P(128|63&t))}function i(e){return e.replace(R,o)}function a(t,n){return(n=void 0!==n&&n)?e(k(t)):k(t)}function s(e){return a(e,!0)}function c(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return P(55296+(t>>>10))+P(56320+(1023&t));case 3:return P((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return P((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}}function u(e){return e.replace(L,c)}function l(e){if(e=e.replace(/\s+/g,""),!T.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));for(var t,n,r,o="",i=0;i<e.length;)t=E[e.charAt(i++)]<<18|E[e.charAt(i++)]<<12|(n=E[e.charAt(i++)])<<6|(r=E[e.charAt(i++)]),o+=64===n?P(t>>16&255):64===r?P(t>>16&255,t>>8&255):P(t>>16&255,t>>8&255,255&t);return o}function p(e){return A(d(e))}function d(e){return D(e.replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})))}function h(e){return N(d(e))}function f(e){return{value:e,enumerable:!1,writable:!0,configurable:!0}}function g(){function e(e,t){Object.defineProperty(String.prototype,e,f(t))}e("fromBase64",(function(){return h(this)})),e("toBase64",(function(e){return a(this,e)})),e("toBase64URI",(function(){return a(this,!0)})),e("toBase64URL",(function(){return a(this,!0)})),e("toUint8Array",(function(){return p(this)}))}function m(){function e(e,t){Object.defineProperty(Uint8Array.prototype,e,f(t))}e("toBase64",(function(e){return r(this,e)})),e("toBase64URI",(function(){return r(this,!0)})),e("toBase64URL",(function(){return r(this,!0)}))}var y,_="function"==typeof atob,v="function"==typeof btoa,O="function"==typeof n,C="function"==typeof TextDecoder?new TextDecoder:void 0,b="function"==typeof TextEncoder?new TextEncoder:void 0,S=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),E=(y={},S.forEach((function(e,t){return y[e]=t})),y),T=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,P=String.fromCharCode.bind(String),I="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(e,t){return void 0===t&&(t=function(e){return e}),new Uint8Array(Array.prototype.slice.call(e,0).map(t))},D=function(e){return e.replace(/[^A-Za-z0-9\+\/]/g,"")},w=v?function(e){return btoa(e)}:O?function(e){return n.from(e,"binary").toString("base64")}:t,M=O?function(e){return n.from(e).toString("base64")}:function(e){for(var t=[],n=0,r=e.length;n<r;n+=4096)t.push(P.apply(null,e.subarray(n,n+4096)));return w(t.join(""))},R=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,k=O?function(e){return n.from(e,"utf8").toString("base64")}:b?function(e){return M(b.encode(e))}:function(e){return w(i(e))},L=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,G=_?function(e){return atob(D(e))}:O?function(e){return n.from(e,"base64").toString("binary")}:l,A=O?function(e){return I(n.from(e,"base64"))}:function(e){return I(G(e),(function(e){return e.charCodeAt(0)}))},N=O?function(e){return n.from(e,"base64").toString("utf8")}:C?function(e){return C.decode(A(e))}:function(e){return u(G(e))},F={version:"3.7.2",VERSION:"3.7.2",atob:G,atobPolyfill:l,btoa:w,btoaPolyfill:t,fromBase64:h,toBase64:a,encode:a,encodeURI:s,encodeURL:s,utob:i,btou:u,decode:h,isValid:function(e){return"string"==typeof e&&(e=e.replace(/\s+/g,"").replace(/={0,2}$/,""),!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e))},fromUint8Array:r,toUint8Array:p,extendString:g,extendUint8Array:m,extendBuiltins:function(){g(),m()},Base64:{}};return Object.keys(F).forEach((function(e){return F.Base64[e]=F[e]})),F}()},1586:(e,t,n)=>{var r,o=n(9677),i=n(943).utf8,a=n(8809),s=n(943).bin;(r=function(e,t){e.constructor==String?e=(t&&"binary"===t.encoding?s:i).stringToBytes(e):a(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=o.bytesToWords(e),c=(t=8*e.length,1732584193),u=-271733879,l=-1732584194,p=271733878,d=0;d<n.length;d++)n[d]=16711935&(n[d]<<8|n[d]>>>24)|4278255360&(n[d]<<24|n[d]>>>8);n[t>>>5]|=128<<t%32,n[14+(64+t>>>9<<4)]=t;var h=r._ff,f=r._gg,g=r._hh,m=r._ii;for(d=0;d<n.length;d+=16){var y=c,_=u,v=l,O=p;c=h(c,u,l,p,n[d+0],7,-680876936),p=h(p,c,u,l,n[d+1],12,-389564586),l=h(l,p,c,u,n[d+2],17,606105819),u=h(u,l,p,c,n[d+3],22,-1044525330);c=h(c,u,l,p,n[d+4],7,-176418897),p=h(p,c,u,l,n[d+5],12,1200080426),l=h(l,p,c,u,n[d+6],17,-1473231341),u=h(u,l,p,c,n[d+7],22,-45705983),c=h(c,u,l,p,n[d+8],7,1770035416),p=h(p,c,u,l,n[d+9],12,-1958414417),l=h(l,p,c,u,n[d+10],17,-42063),u=h(u,l,p,c,n[d+11],22,-1990404162),c=h(c,u,l,p,n[d+12],7,1804603682),p=h(p,c,u,l,n[d+13],12,-40341101),l=h(l,p,c,u,n[d+14],17,-1502002290),c=f(c,u=h(u,l,p,c,n[d+15],22,1236535329),l,p,n[d+1],5,-165796510),p=f(p,c,u,l,n[d+6],9,-1069501632),l=f(l,p,c,u,n[d+11],14,643717713),u=f(u,l,p,c,n[d+0],20,-373897302),c=f(c,u,l,p,n[d+5],5,-701558691),p=f(p,c,u,l,n[d+10],9,38016083),l=f(l,p,c,u,n[d+15],14,-660478335),u=f(u,l,p,c,n[d+4],20,-405537848),c=f(c,u,l,p,n[d+9],5,568446438),p=f(p,c,u,l,n[d+14],9,-1019803690),l=f(l,p,c,u,n[d+3],14,-187363961),u=f(u,l,p,c,n[d+8],20,1163531501),c=f(c,u,l,p,n[d+13],5,-1444681467),p=f(p,c,u,l,n[d+2],9,-51403784),l=f(l,p,c,u,n[d+7],14,1735328473),c=g(c,u=f(u,l,p,c,n[d+12],20,-1926607734),l,p,n[d+5],4,-378558),p=g(p,c,u,l,n[d+8],11,-2022574463),l=g(l,p,c,u,n[d+11],16,1839030562),u=g(u,l,p,c,n[d+14],23,-35309556),c=g(c,u,l,p,n[d+1],4,-1530992060),p=g(p,c,u,l,n[d+4],11,1272893353),l=g(l,p,c,u,n[d+7],16,-155497632),u=g(u,l,p,c,n[d+10],23,-1094730640),c=g(c,u,l,p,n[d+13],4,681279174),p=g(p,c,u,l,n[d+0],11,-358537222),l=g(l,p,c,u,n[d+3],16,-722521979),u=g(u,l,p,c,n[d+6],23,76029189),c=g(c,u,l,p,n[d+9],4,-640364487),p=g(p,c,u,l,n[d+12],11,-421815835),l=g(l,p,c,u,n[d+15],16,530742520),c=m(c,u=g(u,l,p,c,n[d+2],23,-995338651),l,p,n[d+0],6,-198630844),p=m(p,c,u,l,n[d+7],10,1126891415),l=m(l,p,c,u,n[d+14],15,-1416354905),u=m(u,l,p,c,n[d+5],21,-57434055),c=m(c,u,l,p,n[d+12],6,1700485571),p=m(p,c,u,l,n[d+3],10,-1894986606),l=m(l,p,c,u,n[d+10],15,-1051523),u=m(u,l,p,c,n[d+1],21,-2054922799),c=m(c,u,l,p,n[d+8],6,1873313359),p=m(p,c,u,l,n[d+15],10,-30611744),l=m(l,p,c,u,n[d+6],15,-1560198380),u=m(u,l,p,c,n[d+13],21,1309151649),c=m(c,u,l,p,n[d+4],6,-145523070),p=m(p,c,u,l,n[d+11],10,-1120210379),l=m(l,p,c,u,n[d+2],15,718787259),u=m(u,l,p,c,n[d+9],21,-343485551),c=c+y>>>0,u=u+_>>>0,l=l+v>>>0,p=p+O>>>0}return o.endian([c,u,l,p])})._ff=function(e,t,n,r,o,i,a){return((e=e+(t&n|~t&r)+(o>>>0)+a)<<i|e>>>32-i)+t},r._gg=function(e,t,n,r,o,i,a){return((e=e+(t&r|n&~r)+(o>>>0)+a)<<i|e>>>32-i)+t},r._hh=function(e,t,n,r,o,i,a){return((e=e+(t^n^r)+(o>>>0)+a)<<i|e>>>32-i)+t},r._ii=function(e,t,n,r,o,i,a){return((e=e+(n^(t|~r))+(o>>>0)+a)<<i|e>>>32-i)+t},r._blocksize=16,r._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);return e=o.wordsToBytes(r(e,t)),t&&t.asBytes?e:t&&t.asString?s.bytesToString(e):o.bytesToHex(e)}},7023:function(e,t,n){var r;e=n.nmd(e),function(){"use strict";var o,i=(o={function:!0,object:!0})[typeof window]&&window||this,a=o.object&&e&&!e.nodeType&&e,s=(!(o=o[typeof t]&&t&&a&&"object"==typeof n.g&&n.g)||o.global!==o&&o.window!==o&&o.self!==o||(i=o),Math.pow(2,53)-1),c=/\bOpera/,u=(a=Object.prototype).hasOwnProperty,l=a.toString;function p(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function d(e){return e=y(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:p(e)}function h(e,t){for(var n in e)u.call(e,n)&&t(e[n],n,e)}function f(e){return null==e?p(e):l.call(e).slice(8,-1)}function g(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function m(e,t){function n(n,o){r=t(r,n,o,e)}var r=null,o=e,i=-1,a=o?o.length:0;if("number"==typeof a&&-1<a&&a<=s)for(;++i<a;)n(o[i],i);else h(o,n);return r}function y(e){return String(e).replace(/^ +| +$/g,"")}var _=function e(t){var n=i,r=((P=t&&"object"==typeof t&&"String"!=f(t))&&(n=t,t=null),n.navigator||{}),o=r.userAgent||"";t=t||o;var a,s,u,p=P?!!r.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(l.toString()),_="Object",v=P?_:"ScriptBridgingProxyObject",O=P?_:"Environment",C=P&&n.java?"JavaPackage":f(n.java),b=(_=P?_:"RuntimeObject",O=(C=/\bJava/.test(C)&&n.java)&&f(n.environment)==O,C?"a":"α"),S=C?"b":"β",E=n.document||{},T=n.operamini||n.opera,P=c.test(P=P&&T?T["[[Class]]"]:f(T))?P:T=null,I=t,D=[],w=null,M=(o=t==o)&&T&&"function"==typeof T.version&&T.version(),R=m([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,n){return e||RegExp("\\b"+(n.pattern||g(n))+"\\b","i").exec(t)&&(n.label||n)})),k=m(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],(function(e,n){return e||RegExp("\\b"+(n.pattern||g(n))+"\\b","i").exec(t)&&(n.label||n)})),L=N([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),G=m({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}},(function(e,n,r){return e||(n[L]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(L)]||RegExp("\\b"+g(r)+"(?:\\b|\\w*\\d)","i").exec(t))&&r})),A=m(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],(function(e,n){var r,o,i=n.pattern||g(n);return!e&&(e=RegExp("\\b"+i+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(r=e,i=i,n=n.label||n,o={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"},i&&n&&/^Win/i.test(r)&&!/^Windows Phone /i.test(r)&&(o=o[/[\d.]+$/.exec(r)])&&(r="Windows "+o),r=String(r),e=d((r=i&&n?r.replace(RegExp(i,"i"),n):r).replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])),e}));function N(e){return m(e,(function(e,n){var r=n.pattern||g(n);return!e&&(e=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=d(e[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function F(e){return m(e,(function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))}if(R=R&&[R],/\bAndroid\b/.test(A)&&!L&&(a=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&(L=y(a[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),G&&!L?L=N([G]):G&&(L=L&&L.replace(RegExp("^("+g(G)+")[-_.\\s]","i"),G+" ").replace(RegExp("^("+g(G)+")[-_.]?(\\w)","i"),G+" $2")),(a=/\bGoogle TV\b/.exec(L))&&(L=a[0]),/\bSimulator\b/i.test(t)&&(L=(L?L+" ":"")+"Simulator"),"Opera Mini"==k&&/\bOPiOS\b/.test(t)&&D.push("running in Turbo/Uncompressed mode"),"IE"==k&&/\blike iPhone OS\b/.test(t)?(G=(a=e(t.replace(/like iPhone OS/,""))).manufacturer,L=a.product):/^iP/.test(L)?(k=k||"Safari",A="iOS"+((a=/ OS ([\d_]+)/i.exec(t))?" "+a[1].replace(/_/g,"."):"")):"Konqueror"==k&&/^Linux\b/i.test(A)?A="Kubuntu":G&&"Google"!=G&&(/Chrome/.test(k)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(L))||/\bAndroid\b/.test(A)&&/^Chrome/.test(k)&&/\bVersion\//i.test(t)?(k="Android Browser",A=/\bAndroid\b/.test(A)?A:"Android"):"Silk"==k?(/\bMobi/i.test(t)||(A="Android",D.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&D.unshift("accelerated")):"UC Browser"==k&&/\bUCWEB\b/.test(t)?D.push("speed mode"):"PaleMoon"==k&&(a=/\bFirefox\/([\d.]+)\b/.exec(t))?D.push("identifying as Firefox "+a[1]):"Firefox"==k&&(a=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(A=A||"Firefox OS",L=L||a[1]):!k||(a=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(k))?(k&&!L&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(a+"/")+8))&&(k=null),(a=L||G||A)&&(L||G||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(A))&&(k=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(A)?A:a)+" Browser")):"Electron"==k&&(a=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&D.push("Chromium "+a),M=M||F(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",g(k),"(?:Firefox|Minefield|NetFront)"]),(a=("iCab"==R&&3<parseFloat(M)?"WebKit":/\bOpera\b/.test(k)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||(/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(R)?"WebKit":!R&&/\bMSIE\b/i.test(t)&&("Mac OS"==A?"Tasman":"Trident"))||"WebKit"==R&&/\bPlayStation\b(?! Vita\b)/i.test(k)&&"NetFront")&&(R=[a]),"IE"==k&&(a=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(k+=" Mobile",A="Windows Phone "+(/\+$/.test(a)?a:a+".x"),D.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(k="IE Mobile",A="Windows Phone 8.x",D.unshift("desktop mode"),M=M||(/\brv:([\d.]+)/.exec(t)||0)[1]):"IE"!=k&&"Trident"==R&&(a=/\brv:([\d.]+)/.exec(t))&&(k&&D.push("identifying as "+k+(M?" "+M:"")),k="IE",M=a[1]),o){if(W=null!=(u=n)?typeof u.global:"number",/^(?:boolean|number|string|undefined)$/.test(W)||"object"==W&&!u.global)f(a=n.runtime)==v?(k="Adobe AIR",A=a.flash.system.Capabilities.os):f(a=n.phantom)==_?(k="PhantomJS",M=(a=a.version||null)&&a.major+"."+a.minor+"."+a.patch):"number"==typeof E.documentMode&&(a=/\bTrident\/(\d+)/i.exec(t))?(M=[M,E.documentMode],(a=+a[1]+4)!=M[1]&&(D.push("IE "+M[1]+" mode"),R&&(R[1]=""),M[1]=a),M="IE"==k?String(M[1].toFixed(1)):M[0]):"number"==typeof E.documentMode&&/^(?:Chrome|Firefox)\b/.test(k)&&(D.push("masking as "+k+" "+M),k="IE",M="11.0",R=["Trident"],A="Windows");else if(C&&(I=(a=C.lang.System).getProperty("os.arch"),A=A||a.getProperty("os.name")+" "+a.getProperty("os.version")),O){try{M=n.require("ringo/engine").version.join("."),k="RingoJS"}catch(e){(a=n.system)&&a.global.system==n.system&&(k="Narwhal",A=A||a[0].os||null)}k=k||"Rhino"}else"object"==typeof n.process&&!n.process.browser&&(a=n.process)&&("object"==typeof a.versions&&("string"==typeof a.versions.electron?(D.push("Node "+a.versions.node),k="Electron",M=a.versions.electron):"string"==typeof a.versions.nw&&(D.push("Chromium "+M,"Node "+a.versions.node),k="NW.js",M=a.versions.nw)),k||(k="Node.js",I=a.arch,A=a.platform,M=(M=/[\d.]+/.exec(a.version))?M[0]:null));A=A&&d(A)}if(M&&(a=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(M)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(o&&r.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(w=/b/i.test(a)?"beta":"alpha",M=M.replace(RegExp(a+"\\+?$"),"")+("beta"==w?S:b)+(/\d+\+?/.exec(a)||"")),"Fennec"==k||"Firefox"==k&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(A))k="Firefox Mobile";else if("Maxthon"==k&&M)M=M.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(L))"Xbox 360"==L&&(A=null),"Xbox 360"==L&&/\bIEMobile\b/.test(t)&&D.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(k)&&(!k||L||/Browser|Mobi/.test(k))||"Windows CE"!=A&&!/Mobi/i.test(t))if("IE"==k&&o)try{null===n.external&&D.unshift("platform preview")}catch(e){D.unshift("embedded")}else(/\bBlackBerry\b/.test(L)||/\bBB10\b/.test(t))&&(a=(RegExp(L.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||M)?(A=((a=[a,/BB10/.test(t)])[1]?(L=null,G="BlackBerry"):"Device Software")+" "+a[0],M=null):this!=h&&"Wii"!=L&&(o&&T||/Opera/.test(k)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==k&&/\bOS X (?:\d+\.){2,}/.test(A)||"IE"==k&&(A&&!/^Win/.test(A)&&5.5<M||/\bWindows XP\b/.test(A)&&8<M||8==M&&!/\bTrident\b/.test(t)))&&!c.test(a=e.call(h,t.replace(c,"")+";"))&&a.name&&(a="ing as "+a.name+((a=a.version)?" "+a:""),c.test(k)?(/\bIE\b/.test(a)&&"Mac OS"==A&&(A=null),a="identify"+a):(a="mask"+a,k=P?d(P.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(a)&&(A=null),o||(M=null)),R=["Presto"],D.push(a));else k+=" Mobile";(a=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(a=[parseFloat(a.replace(/\.(\d)$/,".0$1")),a],"Safari"==k&&"+"==a[1].slice(-1)?(k="WebKit Nightly",w="alpha",M=a[1].slice(0,-1)):M!=a[1]&&M!=(a[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(M=null),a[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==a[0]&&537.36==a[2]&&28<=parseFloat(a[1])&&"WebKit"==R&&(R=["Blink"]),a=o&&(p||a[1])?(R&&(R[1]="like Chrome"),a[1]||((a=a[0])<530?1:a<532?2:a<532.05?3:a<533?4:a<534.03?5:a<534.07?6:a<534.1?7:a<534.13?8:a<534.16?9:a<534.24?10:a<534.3?11:a<535.01?12:a<535.02?"13+":a<535.07?15:a<535.11?16:a<535.19?17:a<536.05?18:a<536.1?19:a<537.01?20:a<537.11?"21+":a<537.13?23:a<537.18?24:a<537.24?25:a<537.36?26:"Blink"!=R?"27":"28")):(R&&(R[1]="like Safari"),(a=a[0])<400?1:a<500?2:a<526?3:a<533?4:a<534?"4+":a<535?5:a<537?6:a<538?7:a<601?8:a<602?9:a<604?10:a<606?11:a<608?12:"12"),R&&(R[1]+=" "+(a+="number"==typeof a?".x":/[.+]/.test(a)?"":"+")),"Safari"==k&&(!M||45<parseInt(M))?M=a:"Chrome"==k&&/\bHeadlessChrome/i.test(t)&&D.unshift("headless")),"Opera"==k&&(a=/\bzbov|zvav$/.exec(A))?(k+=" ",D.unshift("desktop mode"),"zvav"==a?(k+="Mini",M=null):k+="Mobile",A=A.replace(RegExp(" *"+a+"$"),"")):"Safari"==k&&/\bChrome\b/.exec(R&&R[1])?(D.unshift("desktop mode"),k="Chrome Mobile",M=null,A=/\bOS X\b/.test(A)?(G="Apple","iOS 4.3+"):null):/\bSRWare Iron\b/.test(k)&&!M&&(M=F("Chrome")),(A=M&&0==M.indexOf(a=/[\d.]+$/.exec(A))&&-1<t.indexOf("/"+a+"-")?y(A.replace(a,"")):A)&&-1!=A.indexOf(k)&&!RegExp(k+" OS").test(A)&&(A=A.replace(RegExp(" *"+g(k)+" *"),"")),R&&!/\b(?:Avant|Nook)\b/.test(k)&&(/Browser|Lunascape|Maxthon/.test(k)||"Safari"!=k&&/^iOS/.test(A)&&/\bSafari\b/.test(R[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(k)&&R[1])&&(a=R[R.length-1])&&D.push(a),D.length&&(D=["("+D.join("; ")+")"]),G&&L&&L.indexOf(G)<0&&D.push("on "+G),L&&D.push((/^on /.test(D[D.length-1])?"":"on ")+L),A&&(a=/ ([\d.+]+)$/.exec(A),s=a&&"/"==A.charAt(A.length-a[0].length-1),A={architecture:32,family:a&&!s?A.replace(a[0],""):A,version:a?a[1]:null,toString:function(){var e=this.version;return this.family+(e&&!s?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(a=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(I))&&!/\bi686\b/i.test(I)?(A&&(A.architecture=64,A.family=A.family.replace(RegExp(" *"+a),"")),k&&(/\bWOW64\b/i.test(t)||o&&/\w(?:86|32)$/.test(r.cpuClass||r.platform)&&!/\bWin64; x64\b/i.test(t))&&D.unshift("32-bit")):A&&/^OS X/.test(A.family)&&"Chrome"==k&&39<=parseFloat(M)&&(A.architecture=64),t=t||null;var W={};return W.description=t,W.layout=R&&R[0],W.manufacturer=G,W.name=k,W.prerelease=w,W.product=L,W.ua=t,W.version=k&&M,W.os=A||{architecture:null,family:null,version:null,toString:function(){return"null"}},W.parse=e,W.toString=function(){return this.description||""},W.version&&D.unshift(M),W.name&&D.unshift(k),A&&k&&(A!=String(A).split(" ")[0]||A!=k.split(" ")[0]&&!L)&&D.push(L?"("+A+")":"on "+A),D.length&&(W.description=D.join(" ")),W}();i.platform=_,void 0!==(r=function(){return _}.call(t,n,t,e))&&(e.exports=r)}.call(this)},7329:(e,t,n)=>{"use strict";function r(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}}function o(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||s}n.r(t),n.d(t,{default:()=>I});var i="undefined"!=typeof Map?Map:(Object.defineProperty(f.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),f.prototype.get=function(e){return e=g(this.__entries__,e),(e=this.__entries__[e])&&e[1]},f.prototype.set=function(e,t){var n=g(this.__entries__,e);~n?this.__entries__[n][1]=t:this.__entries__.push([e,t])},f.prototype.delete=function(e){var t=this.__entries__;~(e=g(t,e))&&t.splice(e,1)},f.prototype.has=function(e){return!!~g(this.__entries__,e)},f.prototype.clear=function(){this.__entries__.splice(0)},f.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},f),a="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,s=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),c="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(s):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},u=["top","right","bottom","left","width","height","size","weight"],l="undefined"!=typeof MutationObserver,p=(h.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},h.prototype.removeObserver=function(e){var t=this.observers_;~(e=t.indexOf(e))&&t.splice(e,1),!t.length&&this.connected_&&this.disconnect_()},h.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},h.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),0<e.length},h.prototype.connect_=function(){a&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),l?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},h.prototype.disconnect_=function(){a&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},h.prototype.onTransitionEnd_=function(e){var t=void 0===(e=e.propertyName)?"":e;u.some((function(e){return!!~t.indexOf(e)}))&&this.refresh()},h.getInstance=function(){return this.instance_||(this.instance_=new h),this.instance_},h.instance_=null,h),d=v(0,0,0,0);function h(){function e(){o&&(o=!1,r()),i&&n()}function t(){c(e)}function n(){var e=Date.now();if(o){if(e-a<2)return;i=!0}else i=!(o=!0),setTimeout(t,20);a=e}var r,o,i,a;this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=(r=this.refresh.bind(this),i=o=!1,a=0,n)}function f(){this.__entries__=[]}function g(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}function m(e){return parseFloat(e)||0}function y(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+m(e["border-"+n+"-width"])}),0)}var _="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof o(e).SVGGraphicsElement}:function(e){return e instanceof o(e).SVGElement&&"function"==typeof e.getBBox};function v(e,t,n,r){return{x:e,y:t,width:n,height:r}}function O(e,t){var n=t.x,o=t.y,i=t.width,a=(t=t.height,"undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object);r(a=Object.create(a.prototype),{x:n,y:o,width:i,height:t,top:o,right:n+i,bottom:t+o,left:n}),r(this,{target:e,contentRect:a})}function C(e){if(!(this instanceof C))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=p.getInstance();e=new S(e,t,this);E.set(this,e)}P.prototype.isActive=function(){e=this.target;var e,t,n,r,i,s,c,u,l=a?_(e)?v(0,0,(u=e.getBBox()).width,u.height):(e=(u=e).clientWidth,c=u.clientHeight,e||c?(l=(t=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],i=e["padding-"+o];t[o]=m(i)}return t}(s=o(u).getComputedStyle(u))).left+t.right,n=t.top+t.bottom,r=m(s.width),i=m(s.height),"border-box"===s.boxSizing&&(Math.round(r+l)!==e&&(r-=y(s,"left","right")+l),Math.round(i+n)!==c)&&(i-=y(s,"top","bottom")+n),u!==o(u).document.documentElement&&(s=Math.round(r+l)-e,u=Math.round(i+n)-c,1!==Math.abs(s)&&(r-=s),1!==Math.abs(u))&&(i-=u),v(t.left,t.top,r,i)):d):d;return(this.contentRect_=l).width!==this.broadcastWidth||l.height!==this.broadcastHeight},P.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var b=P,S=(T.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof o(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},T.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof o(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},T.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},T.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},T.prototype.broadcastActive=function(){var e,t;this.hasActive()&&(e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new O(e.target,e.broadcastRect())})),this.callback_.call(e,t,e),this.clearActive())},T.prototype.clearActive=function(){this.activeObservations_.splice(0)},T.prototype.hasActive=function(){return 0<this.activeObservations_.length},T),E=new("undefined"!=typeof WeakMap?WeakMap:i);function T(e,t,n){if(this.activeObservations_=[],this.observations_=new i,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}function P(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e}["observe","unobserve","disconnect"].forEach((function(e){C.prototype[e]=function(){var t;return(t=E.get(this))[e].apply(t,arguments)}}));const I=void 0!==s.ResizeObserver?s.ResizeObserver:C},2226:(e,t,n)=>{"use strict";var r=n(347);function o(e,t,n,o,i){return t=r.writeRtpDescription(e.kind,t),t=(t=(t+=r.writeIceParameters(e.iceGatherer.getLocalParameters()))+r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":i||"active"))+"a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?t+="a=sendrecv\r\n":e.rtpSender?t+="a=sendonly\r\n":e.rtpReceiver?t+="a=recvonly\r\n":t+="a=inactive\r\n",e.rtpSender&&(n=e.rtpSender._initialTrackId||e.rtpSender.track.id,e.rtpSender._initialTrackId=n,t=t+"a="+(i="msid:"+(o?o.id:"-")+" "+n+"\r\n")+"a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+i,e.sendEncodingParameters[0].rtx)&&(t=(t+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+i)+"a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n"),t+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(t+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+r.localCName+"\r\n"),t}function i(e,t){function n(e,t){e=parseInt(e,10);for(var n=0;n<t.length;n++)if(t[n].payloadType===e||t[n].preferredPayloadType===e)return t[n]}var r={codecs:[],headerExtensions:[],fecMechanisms:[]};return e.codecs.forEach((function(o){for(var i=0;i<t.codecs.length;i++){var a=t.codecs[i];if(o.name.toLowerCase()===a.name.toLowerCase()&&o.clockRate===a.clockRate&&("rtx"!==o.name.toLowerCase()||!o.parameters||!a.parameters.apt||function(e,t,r,o){return e=n(e.parameters.apt,r),r=n(t.parameters.apt,o),e&&r&&e.name.toLowerCase()===r.name.toLowerCase()}(o,a,e.codecs,t.codecs))){(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(o.numChannels,a.numChannels),r.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter((function(e){for(var t=0;t<o.rtcpFeedback.length;t++)if(o.rtcpFeedback[t].type===e.type&&o.rtcpFeedback[t].parameter===e.parameter)return!0;return!1}));break}}})),e.headerExtensions.forEach((function(e){for(var n=0;n<t.headerExtensions.length;n++){var o=t.headerExtensions[n];if(e.uri===o.uri){r.headerExtensions.push(o);break}}})),r}function a(e,t,n){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(n)}function s(e,t){var n=e.getRemoteCandidates().find((function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type}));return n||e.addRemoteCandidate(t),!n}function c(e,t){return(t=new Error(t)).name=e,t.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],t}e.exports=function(e,t){function n(t,n){n.addTrack(t),n.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function u(t,n,r,o){var i=new Event("track");i.track=n,i.receiver=r,i.transceiver={receiver:r},i.streams=o,e.setTimeout((function(){t._dispatchEvent("track",i)}))}function l(n){var o,i,a,s=this,u=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach((function(e){s[e]=u[e].bind(u)})),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",n=JSON.parse(JSON.stringify(n||{})),this.usingBundle="max-bundle"===n.bundlePolicy,"negotiate"===n.rtcpMuxPolicy)throw c("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(n.rtcpMuxPolicy||(n.rtcpMuxPolicy="require"),n.iceTransportPolicy){case"all":case"relay":break;default:n.iceTransportPolicy="all"}switch(n.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:n.bundlePolicy="balanced"}if(n.iceServers=(o=n.iceServers||[],i=t,a=!1,(o=JSON.parse(JSON.stringify(o))).filter((function(e){var t,n;if(e&&(e.urls||e.url))return n=e.urls||e.url,e.url&&e.urls,n=(n=(t="string"==typeof n)?[n]:n).filter((function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||a?0===e.indexOf("stun:")&&14393<=i&&-1===e.indexOf("?transport=udp"):a=!0})),delete e.url,e.urls=t?n[0]:n,!!n.length}))),this._iceGatherers=[],n.iceCandidatePoolSize)for(var l=n.iceCandidatePoolSize;0<l;l--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:n.iceServers,gatherPolicy:n.iceTransportPolicy}));else n.iceCandidatePoolSize=0;this._config=n,this.transceivers=[],this._sdpSessionId=r.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1}return Object.defineProperty(l.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(l.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),l.prototype.onicecandidate=null,l.prototype.onaddstream=null,l.prototype.ontrack=null,l.prototype.onremovestream=null,l.prototype.onsignalingstatechange=null,l.prototype.oniceconnectionstatechange=null,l.prototype.onconnectionstatechange=null,l.prototype.onicegatheringstatechange=null,l.prototype.onnegotiationneeded=null,l.prototype.ondatachannel=null,l.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},l.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},l.prototype.getConfiguration=function(){return this._config},l.prototype.getLocalStreams=function(){return this.localStreams},l.prototype.getRemoteStreams=function(){return this.remoteStreams},l.prototype._createTransceiver=function(e,t){var n=0<this.transceivers.length;e={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};return this.usingBundle&&n?(e.iceTransport=this.transceivers[0].iceTransport,e.dtlsTransport=this.transceivers[0].dtlsTransport):(n=this._createIceAndDtlsTransports(),e.iceTransport=n.iceTransport,e.dtlsTransport=n.dtlsTransport),t||this.transceivers.push(e),e},l.prototype.addTrack=function(t,n){if(this._isClosed)throw c("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var r;if(this.transceivers.find((function(e){return e.track===t})))throw c("InvalidAccessError","Track already exists.");for(var o=0;o<this.transceivers.length;o++)this.transceivers[o].track||this.transceivers[o].kind!==t.kind||(r=this.transceivers[o]);return r=r||this._createTransceiver(t.kind),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(n)&&this.localStreams.push(n),r.track=t,r.stream=n,r.rtpSender=new e.RTCRtpSender(t,r.dtlsTransport),r.rtpSender},l.prototype.addStream=function(e){var n,r=this;15025<=t?e.getTracks().forEach((function(t){r.addTrack(t,e)})):(n=e.clone(),e.getTracks().forEach((function(e,t){var r=n.getTracks()[t];e.addEventListener("enabled",(function(e){r.enabled=e.enabled}))})),n.getTracks().forEach((function(e){r.addTrack(e,n)})))},l.prototype.removeTrack=function(t){if(this._isClosed)throw c("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var n=this.transceivers.find((function(e){return e.rtpSender===t}));if(!n)throw c("InvalidAccessError","Sender was not created by this connection.");var r=n.stream;n.rtpSender.stop(),n.rtpSender=null,n.track=null,n.stream=null,-1===this.transceivers.map((function(e){return e.stream})).indexOf(r)&&-1<this.localStreams.indexOf(r)&&this.localStreams.splice(this.localStreams.indexOf(r),1),this._maybeFireNegotiationNeeded()},l.prototype.removeStream=function(e){var t=this;e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));n&&t.removeTrack(n)}))},l.prototype.getSenders=function(){return this.transceivers.filter((function(e){return!!e.rtpSender})).map((function(e){return e.rtpSender}))},l.prototype.getReceivers=function(){return this.transceivers.filter((function(e){return!!e.rtpReceiver})).map((function(e){return e.rtpReceiver}))},l.prototype._createIceGatherer=function(t,n){var r,o=this;return n&&0<t?this.transceivers[0].iceGatherer:this._iceGatherers.length?this._iceGatherers.shift():(r=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy}),Object.defineProperty(r,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var n=!e.candidate||0===Object.keys(e.candidate).length;r.state=n?"completed":"gathering",null!==o.transceivers[t].bufferedCandidateEvents&&o.transceivers[t].bufferedCandidateEvents.push(e)},r.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),r)},l.prototype._gather=function(t,n){var o,i=this,a=this.transceivers[n].iceGatherer;a.onlocalcandidate||(o=this.transceivers[n].bufferedCandidateEvents,this.transceivers[n].bufferedCandidateEvents=null,a.removeEventListener("localcandidate",this.transceivers[n].bufferCandidates),a.onlocalcandidate=function(e){var o,s;i.usingBundle&&0<n||((o=new Event("icecandidate")).candidate={sdpMid:t,sdpMLineIndex:n},(s=!(e=e.candidate)||0===Object.keys(e).length)?"new"!==a.state&&"gathering"!==a.state||(a.state="completed"):("new"===a.state&&(a.state="gathering"),e.component=1,e.ufrag=a.getLocalParameters().usernameFragment,e=r.writeCandidate(e),o.candidate=Object.assign(o.candidate,r.parseCandidate(e)),o.candidate.candidate=e,o.candidate.toJSON=function(){return{candidate:o.candidate.candidate,sdpMid:o.candidate.sdpMid,sdpMLineIndex:o.candidate.sdpMLineIndex,usernameFragment:o.candidate.usernameFragment}}),(e=r.getMediaSections(i._localDescription.sdp))[o.candidate.sdpMLineIndex]+=s?"a=end-of-candidates\r\n":"a="+o.candidate.candidate+"\r\n",i._localDescription.sdp=r.getDescription(i._localDescription.sdp)+e.join(""),e=i.transceivers.every((function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state})),"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),s||i._dispatchEvent("icecandidate",o),e&&(i._dispatchEvent("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange()))},e.setTimeout((function(){o.forEach((function(e){a.onlocalcandidate(e)}))}),0))},l.prototype._createIceAndDtlsTransports=function(){var t=this,n=new e.RTCIceTransport(null),r=(n.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()},new e.RTCDtlsTransport(n));return r.ondtlsstatechange=function(){t._updateConnectionState()},r.onerror=function(){Object.defineProperty(r,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:n,dtlsTransport:r}},l.prototype._disposeIceAndDtlsTransports=function(e){var t;(t=((t=((t=this.transceivers[e].iceGatherer)&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer),this.transceivers[e].iceTransport))&&(delete t.onicestatechange,delete this.transceivers[e].iceTransport),this.transceivers[e].dtlsTransport))&&(delete t.ondtlsstatechange,delete t.onerror,delete this.transceivers[e].dtlsTransport)},l.prototype._transceive=function(e,n,o){var a=i(e.localCapabilities,e.remoteCapabilities);n&&e.rtpSender&&(a.encodings=e.sendEncodingParameters,a.rtcp={cname:r.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(a.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(a)),o&&e.rtpReceiver&&0<a.codecs.length&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach((function(e){delete e.rtx})),e.recvEncodingParameters.length?a.encodings=e.recvEncodingParameters:a.encodings=[{}],a.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(a.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(a.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(a))},l.prototype.setLocalDescription=function(e){var t,n,o,s=this;return-1===["offer","answer"].indexOf(e.type)?Promise.reject(c("TypeError",'Unsupported type "'+e.type+'"')):!a("setLocalDescription",e.type,s.signalingState)||s._isClosed?Promise.reject(c("InvalidStateError","Can not set local "+e.type+" in state "+s.signalingState)):("offer"===e.type?(t=r.splitSections(e.sdp),n=t.shift(),t.forEach((function(e,t){e=r.parseRtpParameters(e),s.transceivers[t].localCapabilities=e})),s.transceivers.forEach((function(e,t){s._gather(e.mid,t)}))):"answer"===e.type&&(n=(t=r.splitSections(s._remoteDescription.sdp)).shift(),o=0<r.matchPrefix(n,"a=ice-lite").length,t.forEach((function(e,t){var a,c=s.transceivers[t],u=c.iceGatherer,l=c.iceTransport,p=c.dtlsTransport,d=c.localCapabilities,h=c.remoteCapabilities;r.isRejected(e)&&0===r.matchPrefix(e,"a=bundle-only").length||c.rejected||(a=r.getIceParameters(e,n),e=r.getDtlsParameters(e,n),o&&(e.role="server"),s.usingBundle&&0!==t||(s._gather(c.mid,t),"new"===l.state&&l.start(u,a,o?"controlling":"controlled"),"new"===p.state&&p.start(e)),t=i(d,h),s._transceive(c,0<t.codecs.length,!1))}))),s._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?s._updateSignalingState("have-local-offer"):s._updateSignalingState("stable"),Promise.resolve())},l.prototype.setRemoteDescription=function(o){var l,p,d,h,f,g,m,y=this;return-1===["offer","answer"].indexOf(o.type)?Promise.reject(c("TypeError",'Unsupported type "'+o.type+'"')):!a("setRemoteDescription",o.type,y.signalingState)||y._isClosed?Promise.reject(c("InvalidStateError","Can not set remote "+o.type+" in state "+y.signalingState)):(l={},y.remoteStreams.forEach((function(e){l[e.id]=e})),p=[],d=r.splitSections(o.sdp),h=d.shift(),f=0<r.matchPrefix(h,"a=ice-lite").length,g=0<r.matchPrefix(h,"a=group:BUNDLE ").length,y.usingBundle=g,m=r.matchPrefix(h,"a=ice-options:")[0],y.canTrickleIceCandidates=!!m&&0<=m.substr(14).split(" ").indexOf("trickle"),d.forEach((function(a,c){var u,d,m,_,v,O,C,b,S,E,T,P,I,D=r.splitLines(a),w=r.getKind(a),M=r.isRejected(a)&&0===r.matchPrefix(a,"a=bundle-only").length,R=(D=D[0].substr(2).split(" ")[2],r.getDirection(a,h)),k=r.parseMsid(a),L=r.getMid(a)||r.generateIdentifier();M||"application"===w&&("DTLS/SCTP"===D||"UDP/DTLS/SCTP"===D)?y.transceivers[c]={mid:L,kind:w,protocol:D,rejected:!0}:(!M&&y.transceivers[c]&&y.transceivers[c].rejected&&(y.transceivers[c]=y._createTransceiver(w,!0)),D=r.parseRtpParameters(a),M||(C=r.getIceParameters(a,h),(b=r.getDtlsParameters(a,h)).role="client"),_=r.parseRtpEncodingParameters(a),S=r.parseRtcpParameters(a),E=0<r.matchPrefix(a,"a=end-of-candidates",h).length,a=r.matchPrefix(a,"a=candidate:").map((function(e){return r.parseCandidate(e)})).filter((function(e){return 1===e.component})),("offer"===o.type||"answer"===o.type)&&!M&&g&&0<c&&y.transceivers[c]&&(y._disposeIceAndDtlsTransports(c),y.transceivers[c].iceGatherer=y.transceivers[0].iceGatherer,y.transceivers[c].iceTransport=y.transceivers[0].iceTransport,y.transceivers[c].dtlsTransport=y.transceivers[0].dtlsTransport,y.transceivers[c].rtpSender&&y.transceivers[c].rtpSender.setTransport(y.transceivers[0].dtlsTransport),y.transceivers[c].rtpReceiver)&&y.transceivers[c].rtpReceiver.setTransport(y.transceivers[0].dtlsTransport),"offer"!==o.type||M?"answer"!==o.type||M||(M=(u=y.transceivers[c]).iceGatherer,I=u.iceTransport,d=u.dtlsTransport,m=u.rtpReceiver,T=u.sendEncodingParameters,v=u.localCapabilities,y.transceivers[c].recvEncodingParameters=_,y.transceivers[c].remoteCapabilities=D,y.transceivers[c].rtcpParameters=S,a.length&&"new"===I.state&&(!f&&!E||g&&0!==c?a.forEach((function(e){s(u.iceTransport,e)})):I.setRemoteCandidates(a)),g&&0!==c||("new"===I.state&&I.start(M,C,"controlling"),"new"===d.state&&d.start(b)),!i(u.localCapabilities,u.remoteCapabilities).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&u.sendEncodingParameters[0].rtx&&delete u.sendEncodingParameters[0].rtx,y._transceive(u,"sendrecv"===R||"recvonly"===R,"sendrecv"===R||"sendonly"===R),!m||"sendrecv"!==R&&"sendonly"!==R?delete u.rtpReceiver:(O=m.track,k?(l[k.stream]||(l[k.stream]=new e.MediaStream),n(O,l[k.stream]),p.push([O,m,l[k.stream]])):(l.default||(l.default=new e.MediaStream),n(O,l.default),p.push([O,m,l.default])))):((u=y.transceivers[c]||y._createTransceiver(w)).mid=L,u.iceGatherer||(u.iceGatherer=y._createIceGatherer(c,g)),a.length&&"new"===u.iceTransport.state&&(!E||g&&0!==c?a.forEach((function(e){s(u.iceTransport,e)})):u.iceTransport.setRemoteCandidates(a)),v=e.RTCRtpReceiver.getCapabilities(w),t<15019&&(v.codecs=v.codecs.filter((function(e){return"rtx"!==e.name}))),T=u.sendEncodingParameters||[{ssrc:1001*(2*c+2)}],I=!1,"sendrecv"===R||"sendonly"===R?(I=!u.rtpReceiver,m=u.rtpReceiver||new e.RTCRtpReceiver(u.dtlsTransport,w),I&&(O=m.track,(P=k&&"-"===k.stream?P:k?(l[k.stream]||(l[k.stream]=new e.MediaStream,Object.defineProperty(l[k.stream],"id",{get:function(){return k.stream}})),Object.defineProperty(O,"id",{get:function(){return k.track}}),l[k.stream]):(l.default||(l.default=new e.MediaStream),l.default))&&(n(O,P),u.associatedRemoteMediaStreams.push(P)),p.push([O,m,P]))):u.rtpReceiver&&u.rtpReceiver.track&&(u.associatedRemoteMediaStreams.forEach((function(t){var n=t.getTracks().find((function(e){return e.id===u.rtpReceiver.track.id}));n&&(n=n,(t=t).removeTrack(n),t.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:n})))})),u.associatedRemoteMediaStreams=[]),u.localCapabilities=v,u.remoteCapabilities=D,u.rtpReceiver=m,u.rtcpParameters=S,u.sendEncodingParameters=T,u.recvEncodingParameters=_,y._transceive(y.transceivers[c],!1,I)))})),void 0===y._dtlsRole&&(y._dtlsRole="offer"===o.type?"active":"passive"),y._remoteDescription={type:o.type,sdp:o.sdp},"offer"===o.type?y._updateSignalingState("have-remote-offer"):y._updateSignalingState("stable"),Object.keys(l).forEach((function(t){var n,r=l[t];r.getTracks().length&&(-1===y.remoteStreams.indexOf(r)&&(y.remoteStreams.push(r),(n=new Event("addstream")).stream=r,e.setTimeout((function(){y._dispatchEvent("addstream",n)}))),p.forEach((function(e){var t=e[0],n=e[1];r.id===e[2].id&&u(y,t,n,[r])})))})),p.forEach((function(e){e[2]||u(y,e[0],e[1],[])})),e.setTimeout((function(){y&&y.transceivers&&y.transceivers.forEach((function(e){e.iceTransport&&"new"===e.iceTransport.state&&0<e.iceTransport.getRemoteCandidates().length&&e.iceTransport.addRemoteCandidate({})}))}),4e3),Promise.resolve())},l.prototype.close=function(){this.transceivers.forEach((function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()})),this._isClosed=!0,this._updateSignalingState("closed")},l.prototype._updateSignalingState=function(e){this.signalingState=e,e=new Event("signalingstatechange"),this._dispatchEvent("signalingstatechange",e)},l.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout((function(){var e;t.needNegotiation&&(t.needNegotiation=!1,e=new Event("negotiationneeded"),t._dispatchEvent("negotiationneeded",e))}),0))},l.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};this.transceivers.forEach((function(e){e.iceTransport&&!e.rejected&&t[e.iceTransport.state]++})),e="new",0<t.failed?e="failed":0<t.checking?e="checking":0<t.disconnected?e="disconnected":0<t.new?e="new":0<t.connected?e="connected":0<t.completed&&(e="completed"),e!==this.iceConnectionState&&(this.iceConnectionState=e,e=new Event("iceconnectionstatechange"),this._dispatchEvent("iceconnectionstatechange",e))},l.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};this.transceivers.forEach((function(e){e.iceTransport&&e.dtlsTransport&&!e.rejected&&(t[e.iceTransport.state]++,t[e.dtlsTransport.state]++)})),t.connected+=t.completed,e="new",0<t.failed?e="failed":0<t.connecting?e="connecting":0<t.disconnected?e="disconnected":0<t.new?e="new":0<t.connected&&(e="connected"),e!==this.connectionState&&(this.connectionState=e,e=new Event("connectionstatechange"),this._dispatchEvent("connectionstatechange",e))},l.prototype.createOffer=function(){var n=this;if(n._isClosed)return Promise.reject(c("InvalidStateError","Can not call createOffer after close"));var i=n.transceivers.filter((function(e){return"audio"===e.kind})).length,a=n.transceivers.filter((function(e){return"video"===e.kind})).length;if(u=arguments[0]){if(u.mandatory||u.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==u.offerToReceiveAudio&&(i=!0===u.offerToReceiveAudio?1:!1===u.offerToReceiveAudio?0:u.offerToReceiveAudio),void 0!==u.offerToReceiveVideo&&(a=!0===u.offerToReceiveVideo?1:!1===u.offerToReceiveVideo?0:u.offerToReceiveVideo)}for(n.transceivers.forEach((function(e){"audio"===e.kind?--i<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)}));0<i||0<a;)0<i&&(n._createTransceiver("audio"),i--),0<a&&(n._createTransceiver("video"),a--);var s=r.writeSessionBoilerplate(n._sdpSessionId,n._sdpSessionVersion++),u=(n.transceivers.forEach((function(o,i){var a=o.track,s=o.kind,c=o.mid||r.generateIdentifier();o.mid=c,o.iceGatherer||(o.iceGatherer=n._createIceGatherer(i,n.usingBundle)),c=e.RTCRtpSender.getCapabilities(s),t<15019&&(c.codecs=c.codecs.filter((function(e){return"rtx"!==e.name}))),c.codecs.forEach((function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),o.remoteCapabilities&&o.remoteCapabilities.codecs&&o.remoteCapabilities.codecs.forEach((function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)}))})),c.headerExtensions.forEach((function(e){(o.remoteCapabilities&&o.remoteCapabilities.headerExtensions||[]).forEach((function(t){e.uri===t.uri&&(e.id=t.id)}))})),i=o.sendEncodingParameters||[{ssrc:1001*(2*i+1)}];a&&15019<=t&&"video"===s&&!i[0].rtx&&(i[0].rtx={ssrc:i[0].ssrc+1}),o.wantReceive&&(o.rtpReceiver=new e.RTCRtpReceiver(o.dtlsTransport,s)),o.localCapabilities=c,o.sendEncodingParameters=i})),"max-compat"!==n._config.bundlePolicy&&(s+="a=group:BUNDLE "+n.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),s+="a=ice-options:trickle\r\n",n.transceivers.forEach((function(e,t){s=s+o(e,e.localCapabilities,"offer",e.stream,n._dtlsRole)+"a=rtcp-rsize\r\n",!e.iceGatherer||"new"===n.iceGatheringState||0!==t&&n.usingBundle||(e.iceGatherer.getLocalCandidates().forEach((function(e){e.component=1,s+="a="+r.writeCandidate(e)+"\r\n"})),"completed"===e.iceGatherer.state&&(s+="a=end-of-candidates\r\n"))})),new e.RTCSessionDescription({type:"offer",sdp:s}));return Promise.resolve(u)},l.prototype.createAnswer=function(){var n,a,s,u=this;return u._isClosed?Promise.reject(c("InvalidStateError","Can not call createAnswer after close")):"have-remote-offer"!==u.signalingState&&"have-local-pranswer"!==u.signalingState?Promise.reject(c("InvalidStateError","Can not call createAnswer in signalingState "+u.signalingState)):(n=r.writeSessionBoilerplate(u._sdpSessionId,u._sdpSessionVersion++),u.usingBundle&&(n+="a=group:BUNDLE "+u.transceivers.map((function(e){return e.mid})).join(" ")+"\r\n"),n+="a=ice-options:trickle\r\n",a=r.getMediaSections(u._remoteDescription.sdp).length,u.transceivers.forEach((function(e,r){var s;a<r+1||(e.rejected?("application"===e.kind?"DTLS/SCTP"===e.protocol?n+="m=application 0 DTLS/SCTP 5000\r\n":n+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?n+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(n+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),n+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n"):(e.stream&&("audio"===e.kind?s=e.stream.getAudioTracks()[0]:"video"===e.kind&&(s=e.stream.getVideoTracks()[0]),s)&&15019<=t&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}),!(r=i(e.localCapabilities,e.remoteCapabilities)).codecs.filter((function(e){return"rtx"===e.name.toLowerCase()})).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,n+=o(e,r,"answer",e.stream,u._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(n+="a=rtcp-rsize\r\n")))})),s=new e.RTCSessionDescription({type:"answer",sdp:n}),Promise.resolve(s))},l.prototype.addIceCandidate=function(e){var t,n=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise((function(o,i){if(!n._remoteDescription)return i(c("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var a=e.sdpMLineIndex;if(e.sdpMid)for(var u=0;u<n.transceivers.length;u++)if(n.transceivers[u].mid===e.sdpMid){a=u;break}var l=n.transceivers[a];if(!l)return i(c("OperationError","Can not add ICE candidate"));if(l.rejected)return o();var p=0<Object.keys(e.candidate).length?r.parseCandidate(e.candidate):{};if("tcp"===p.protocol&&(0===p.port||9===p.port))return o();if(p.component&&1!==p.component)return o();if((0===a||0<a&&l.iceTransport!==n.transceivers[0].iceTransport)&&!s(l.iceTransport,p))return i(c("OperationError","Can not add ICE candidate"));0===(l=e.candidate.trim()).indexOf("a=")&&(l=l.substr(2)),(t=r.getMediaSections(n._remoteDescription.sdp))[a]+="a="+(p.type?l:"end-of-candidates")+"\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join("")}else for(var d=0;d<n.transceivers.length&&(n.transceivers[d].rejected||(n.transceivers[d].iceTransport.addRemoteCandidate({}),(t=r.getMediaSections(n._remoteDescription.sdp))[d]+="a=end-of-candidates\r\n",n._remoteDescription.sdp=r.getDescription(n._remoteDescription.sdp)+t.join(""),!n.usingBundle));d++);o()}))},l.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var n=null;if(this.transceivers.forEach((function(e){e.rtpSender&&e.rtpSender.track===t?n=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(n=e.rtpReceiver)})),n)return n.getStats();throw c("InvalidAccessError","Invalid selector.")}var r=[];return this.transceivers.forEach((function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach((function(t){e[t]&&r.push(e[t].getStats())}))})),Promise.all(r).then((function(e){var t=new Map;return e.forEach((function(e){e.forEach((function(e){t.set(e.id,e)}))})),t}))},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach((function(t){var n;(t=e[t])&&t.prototype&&t.prototype.getStats&&(n=t.prototype.getStats,t.prototype.getStats=function(){return n.apply(this).then((function(e){var t=new Map;return Object.keys(e).forEach((function(n){var r;e[n].type={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[(r=e[n]).type]||r.type,t.set(n,e[n])})),t}))})})),["createOffer","createAnswer"].forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then((function(t){"function"==typeof e[0]&&e[0].apply(null,[t])}),(function(t){"function"==typeof e[1]&&e[1].apply(null,[t])})):t.apply(this,arguments)}})),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)}),(function(t){"function"==typeof e[2]&&e[2].apply(null,[t])})):t.apply(this,arguments)}})),["getStats"].forEach((function(e){var t=l.prototype[e];l.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then((function(){"function"==typeof e[1]&&e[1].apply(null)})):t.apply(this,arguments)}})),l}},347:e=>{"use strict";var t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},t.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(0<t?"m="+e:e).trim()+"\r\n"}))},t.getDescription=function(e){return(e=t.splitSections(e))&&e[0]},t.getMediaSections=function(e){return(e=t.splitSections(e)).shift(),e},t.matchPrefix=function(e,n){return t.splitLines(e).filter((function(e){return 0===e.indexOf(n)}))},t.parseCandidate=function(e){for(var t,n={foundation:(t=(0===e.indexOf("a=candidate:")?e.substring(12):e.substring(10)).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:n[t[r]]=t[r+1]}return n},t.writeCandidate=function(e){var t=[],n=(t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port),e.type);return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){e=e.substr(9).split(" ");var t={payloadType:parseInt(e.shift(),10)};e=e[0].split("/");return t.name=e[0],t.clockRate=parseInt(e[1],10),t.channels=3===e.length?parseInt(e[2],10):1,t.numChannels=t.channels,t},t.writeRtpMap=function(e){var t=e.payloadType,n=(void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType),e.channels||e.numChannels||1);return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){return e=e.substr(9).split(" "),{id:parseInt(e[0],10),direction:0<e[0].indexOf("/")?e[0].split("/")[1]:"sendrecv",uri:e[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),o=0;o<r.length;o++)n[(t=r[o].trim().split("="))[0].trim()]=t[1];return n},t.writeFmtp=function(e){var t,n="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length&&(t=[],Object.keys(e.parameters).forEach((function(n){e.parameters[n]?t.push(n+"="+e.parameters[n]):t.push(n)})),n+="a=fmtp:"+r+" "+t.join(";")+"\r\n"),n},t.parseRtcpFb=function(e){return{type:(e=e.substr(e.indexOf(" ")+1).split(" ")).shift(),parameter:e.join(" ")}},t.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return-1<r?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},t.parseSsrcGroup=function(e){return{semantics:(e=e.substr(13).split(" ")).shift(),ssrcs:e.map((function(e){return parseInt(e,10)}))}},t.getMid=function(e){if(e=t.matchPrefix(e,"a=mid:")[0])return e.substr(6)},t.parseFingerprint=function(e){return{algorithm:(e=e.substr(14).split(" "))[0].toLowerCase(),value:e[1]}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.parseCryptoLine=function(e){return e=e.substr(9).split(" "),{tag:parseInt(e[0],10),cryptoSuite:e[1],keyParams:e[2],sessionParams:e.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){return 0!==e.indexOf("inline:")?null:{keyMethod:"inline",keySalt:(e=e.substr(7).split("|"))[0],lifeTime:e[1],mkiValue:e[2]?e[2].split(":")[0]:void 0,mkiLength:e[2]?e[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){var r=t.matchPrefix(e+n,"a=ice-ufrag:")[0];e=t.matchPrefix(e+n,"a=ice-pwd:")[0];return r&&e?{usernameFragment:r.substr(12),password:e.substr(10)}:null},t.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},t.parseRtpParameters=function(e){for(var n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" "),o=3;o<r.length;o++){var i=r[o];if(s=t.matchPrefix(e,"a=rtpmap:"+i+" ")[0]){var a=t.parseRtpMap(s),s=t.matchPrefix(e,"a=fmtp:"+i+" ");switch(a.parameters=s.length?t.parseFmtp(s[0]):{},a.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+i+" ").map(t.parseRtcpFb),n.codecs.push(a),a.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(a.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach((function(e){n.headerExtensions.push(t.parseExtmap(e))})),n},t.writeRtpDescription=function(e,n){var r="",o=(r=(r=(r=(r+="m="+e+" ")+(0<n.codecs.length?"9":"0")+" UDP/TLS/RTP/SAVPF ")+n.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n")+"c=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((function(e){r=(r=(r+=t.writeRtpMap(e))+t.writeFmtp(e))+t.writeRtcpFb(e)})),0);return n.codecs.forEach((function(e){e.maxptime>o&&(o=e.maxptime)})),0<o&&(r+="a=maxptime:"+o+"\r\n"),r+="a=rtcp-mux\r\n",n.headerExtensions&&n.headerExtensions.forEach((function(e){r+=t.writeExtmap(e)})),r},t.parseRtpEncodingParameters=function(e){var n,r,o=[],i=t.parseRtpParameters(e),a=-1!==i.fecMechanisms.indexOf("RED"),s=-1!==i.fecMechanisms.indexOf("ULPFEC"),c=0<(r=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))).length&&r[0].ssrc,u=(0<(r=t.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}))).length&&1<r[0].length&&r[0][0]===c&&(n=r[0][1]),i.codecs.forEach((function(e){"RTX"===e.name.toUpperCase()&&e.parameters.apt&&(e={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)},c&&n&&(e.rtx={ssrc:n}),o.push(e),a)&&((e=JSON.parse(JSON.stringify(e))).fec={ssrc:c,mechanism:s?"red+ulpfec":"red"},o.push(e))})),0===o.length&&c&&o.push({ssrc:c}),t.matchPrefix(e,"b="));return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")?1e3*parseInt(u[0].substr(5),10)*.95-16e3:void 0,o.forEach((function(e){e.maxBitrate=u}))),o},t.parseRtcpParameters=function(e){var n={},r=((r=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0])&&(n.cname=r.value,n.ssrc=r.ssrc),t.matchPrefix(e,"a=rtcp-rsize"));n.reducedSize=0<r.length,n.compound=0===r.length,r=t.matchPrefix(e,"a=rtcp-mux");return n.mux=0<r.length,n},t.parseMsid=function(e){var n,r=t.matchPrefix(e,"a=msid:");return 1===r.length?{stream:(n=r[0].substr(7).split(" "))[0],track:n[1]}:0<(r=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}))).length?{stream:(n=r[0].value.split(" "))[0],track:n[1]}:void 0},t.parseSctpDescription=function(e){var n,r,o=t.parseMLine(e);return 0<(r=(0<(r=t.matchPrefix(e,"a=max-message-size:")).length&&(n=parseInt(r[0].substr(19),10)),isNaN(n)&&(n=65536),t.matchPrefix(e,"a=sctp-port:"))).length?{port:parseInt(r[0].substr(12),10),protocol:o.fmt,maxMessageSize:n}:0<t.matchPrefix(e,"a=sctpmap:").length?(r=t.matchPrefix(e,"a=sctpmap:")[0].substr(10).split(" "),{port:parseInt(r[0],10),protocol:r[1],maxMessageSize:n}):void 0},t.writeSctpDescription=function(e,t){var n=[];n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"];return void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,n,r){return n=void 0!==n?n:2,"v=0\r\no="+(r||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+n+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.writeMediaSection=function(e,n,r,o){return n=t.writeRtpDescription(e.kind,n),n=(n=(n+=t.writeIceParameters(e.iceGatherer.getLocalParameters()))+t.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"))+"a=mid:"+e.mid+"\r\n",e.direction?n+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?n+="a=sendrecv\r\n":e.rtpSender?n+="a=sendonly\r\n":e.rtpReceiver?n+="a=recvonly\r\n":n+="a=inactive\r\n",e.rtpSender&&(n=n+"a="+(r="msid:"+o.id+" "+e.rtpSender.track.id+"\r\n")+"a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+r,e.sendEncodingParameters[0].rtx)&&(n=(n+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+r)+"a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n"),n+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+t.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(n+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+t.localCName+"\r\n"),n},t.getDirection=function(e,n){for(var r=t.splitLines(e),o=0;o<r.length;o++)switch(r[o]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[o].substr(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){return{kind:(e=t.splitLines(e)[0].substr(2).split(" "))[0],port:parseInt(e[1],10),protocol:e[2],fmt:e.slice(3).join(" ")}},t.parseOLine=function(e){return{username:(e=t.matchPrefix(e,"o=")[0].substr(2).split(" "))[0],sessionId:e[1],sessionVersion:parseInt(e[2],10),netType:e[3],addressType:e[4],address:e[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var n=t.splitLines(e),r=0;r<n.length;r++)if(n[r].length<2||"="!==n[r].charAt(1))return!1;return!0},e.exports=t},6994:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ae});var r={},o=(n.r(r),n.d(r,{fixNegotiationNeeded:()=>I,shimAddTrackRemoveTrack:()=>T,shimAddTrackRemoveTrackWithNative:()=>E,shimGetDisplayMedia:()=>function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&"function"==typeof t&&(e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then(t=>{var r=n.video&&n.video.width,o=n.video&&n.video.height,i=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:i||3}},r&&(n.video.mandatory.maxWidth=r),o&&(n.video.mandatory.maxHeight=o),e.navigator.mediaDevices.getUserMedia(n)})})},shimGetSendersWithDtmf:()=>C,shimGetStats:()=>b,shimGetUserMedia:()=>_,shimMediaStream:()=>v,shimOnTrack:()=>O,shimPeerConnection:()=>P,shimSenderReceiverGetStats:()=>S}),{}),i=(n.r(o),n.d(o,{shimGetDisplayMedia:()=>M,shimGetUserMedia:()=>w,shimPeerConnection:()=>R,shimReplaceTrack:()=>k}),{}),a=(n.r(i),n.d(i,{shimAddTransceiver:()=>V,shimCreateAnswer:()=>j,shimCreateOffer:()=>U,shimGetDisplayMedia:()=>function(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(n&&n.video)return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n);{const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}})},shimGetParameters:()=>B,shimGetUserMedia:()=>L,shimOnTrack:()=>G,shimPeerConnection:()=>A,shimRTCDataChannel:()=>x,shimReceiverGetStats:()=>F,shimRemoveStream:()=>W,shimSenderGetStats:()=>N}),{}),s=(n.r(a),n.d(a,{shimAudioContext:()=>Q,shimCallbacksAPI:()=>Y,shimConstraints:()=>q,shimCreateOfferLegacy:()=>J,shimGetUserMedia:()=>K,shimLocalStreamsAPI:()=>z,shimRTCIceServerUrls:()=>X,shimRemoteStreamsAPI:()=>H,shimTrackEventTransceiver:()=>Z}),{});n.r(s),n.d(s,{removeExtmapAllowMixed:()=>oe,shimAddIceCandidateNullOrEmpty:()=>ie,shimConnectionState:()=>re,shimMaxMessageSize:()=>te,shimRTCIceCandidate:()=>ee,shimSendThrowTypeError:()=>ne});let c=!0,u=!0;function l(e,t,n){return(e=e.match(t))&&e.length>=n&&parseInt(e[n],10)}function p(e,t,n){if(e.RTCPeerConnection){const r=e.RTCPeerConnection.prototype,o=r.addEventListener,i=(r.addEventListener=function(e,r){var i;return e!==t?o.apply(this,arguments):(i=e=>{(e=n(e))&&(r.handleEvent?r.handleEvent(e):r(e))},this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,i),o.apply(this,[e,i]))},r.removeEventListener);r.removeEventListener=function(e,n){var r;return e===t&&this._eventMap&&this._eventMap[t]&&this._eventMap[t].has(n)?(r=this._eventMap[t].get(n),this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,i.apply(this,[e,r])):i.apply(this,arguments)},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function d(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(c=e)?"adapter.js logging disabled":"adapter.js logging enabled"}function h(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(u=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function f(){}function g(e){return"[object Object]"===Object.prototype.toString.call(e)}function m(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",o=new Map;if(null!==t){const n=[];e.forEach(e=>{"track"===e.type&&e.trackIdentifier===t.id&&n.push(e)}),n.forEach(t=>{e.forEach(n=>{n.type===r&&n.trackId===t.id&&function e(t,n,r){n&&!r.has(n.id)&&(r.set(n.id,n),Object.keys(n).forEach(o=>{o.endsWith("Id")?e(t,t.get(n[o]),r):o.endsWith("Ids")&&n[o].forEach(n=>{e(t,t.get(n),r)})}))}(e,n,o)})})}return o}const y=f;function _(e,t){const n=e&&e.navigator;if(n.mediaDevices){const e=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach(n=>{if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){const r="object"==typeof e[n]?e[n]:{ideal:e[n]},o=(void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact),function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t});if(void 0!==r.ideal){t.optional=t.optional||[];let e={};"number"==typeof r.ideal?(e[o("min",n)]=r.ideal,t.optional.push(e),(e={})[o("max",n)]=r.ideal):e[o("",n)]=r.ideal,t.optional.push(e)}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",n)]=r.exact):["min","max"].forEach(e=>{void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,n)]=r[e])})}}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},r=function(r,o){if(!(61<=t.version)){if((r=JSON.parse(JSON.stringify(r)))&&"object"==typeof r.audio){const t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((r=JSON.parse(JSON.stringify(r))).audio,"autoGainControl","googAutoGainControl"),t(r.audio,"noiseSuppression","googNoiseSuppression"),r.audio=e(r.audio)}if(r&&"object"==typeof r.video){let a=r.video.facingMode;a=a&&("object"==typeof a?a:{ideal:a});var i=t.version<66;if(a&&("user"===a.exact||"environment"===a.exact||"user"===a.ideal||"environment"===a.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||i)){let t;if(delete r.video.facingMode,"environment"===a.exact||"environment"===a.ideal?t=["back","rear"]:"user"!==a.exact&&"user"!==a.ideal||(t=["front"]),t)return n.mediaDevices.enumerateDevices().then(n=>{let i=(n=n.filter(e=>"videoinput"===e.kind)).find(e=>t.some(t=>e.label.toLowerCase().includes(t)));return(i=!i&&n.length&&t.includes("back")?n[n.length-1]:i)&&(r.video.deviceId=a.exact?{exact:i.deviceId}:{ideal:i.deviceId}),r.video=e(r.video),y("chrome: "+JSON.stringify(r)),o(r)})}r.video=e(r.video)}y("chrome: "+JSON.stringify(r))}return o(r)},o=function(e){return 64<=t.version?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,i){r(e,e=>{n.webkitGetUserMedia(e,t,e=>{i&&i(o(e))})})}.bind(n),n.mediaDevices.getUserMedia){const e=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(t){return r(t,t=>e(t).then(e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach(e=>{e.stop()}),new DOMException("","NotFoundError");return e},e=>Promise.reject(o(e))))}}}}function v(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function O(e){if("object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)p(e,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e));else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",n=>{var r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===n.track.id):{track:n.track},o=new Event("track");o.track=n.track,o.receiver=r,o.transceiver={receiver:r},o.streams=[t.stream],this.dispatchEvent(o)}),t.stream.getTracks().forEach(n=>{var r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(e=>e.track&&e.track.id===n.id):{track:n},o=new Event("track");o.track=n,o.receiver=r,o.transceiver={receiver:r},o.streams=[t.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}}function C(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=e.RTCPeerConnection.prototype.addTrack,r=(e.RTCPeerConnection.prototype.addTrack=function(e,r){let o=n.apply(this,arguments);return o||(o=t(this,e),this._senders.push(o)),o},e.RTCPeerConnection.prototype.removeTrack);e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments),-1!==(e=this._senders.indexOf(e))&&this._senders.splice(e,1)}}const n=e.RTCPeerConnection.prototype.addStream,r=(e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach(e=>{this._senders.push(t(this,e))})},e.RTCPeerConnection.prototype.removeStream);e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach(e=>{var t=this._senders.find(t=>t.track===e);t&&this._senders.splice(this._senders.indexOf(t),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function b(e){if(e.RTCPeerConnection){const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,n,r]=arguments;if(0<arguments.length&&"function"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!=typeof e))return t.apply(this,[]);const o=function(e){const t={};return e.result().forEach(e=>{const n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(t=>{n[t]=e.stat(t)}),t[n.id]=n}),t},i=function(e){return new Map(Object.keys(e).map(t=>[t,e[t]]))};if(2<=arguments.length){const r=function(e){n(i(o(e)))};return t.apply(this,[r,e])}return new Promise((e,n)=>{t.apply(this,[function(t){e(i(o(t)))},n])}).then(n,r)}}}function S(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders,n=(t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),e.RTCPeerConnection.prototype.addTrack);n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then(t=>m(t,e.track,!0))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),p(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then(t=>m(t,e.track,!1))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(0<arguments.length&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,n,r;return this.getSenders().forEach(n=>{n.track===e&&(t?r=!0:t=n)}),this.getReceivers().forEach(t=>(t.track===e&&(n?r=!0:n=t),t.track===e)),r||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}}}function E(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(e=>this._shimmedLocalStreams[e][0])};const t=e.RTCPeerConnection.prototype.addTrack,n=(e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r},e.RTCPeerConnection.prototype.addStream),r=(e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")});const t=this.getSenders();n.apply(this,arguments);var r=this.getSenders().filter(e=>-1===t.indexOf(e));this._shimmedLocalStreams[e.id]=[e].concat(r)},e.RTCPeerConnection.prototype.removeStream),o=(e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)},e.RTCPeerConnection.prototype.removeTrack);e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(t=>{var n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]}),o.apply(this,arguments)}}function T(e,t){if(e.RTCPeerConnection){if(e.RTCPeerConnection.prototype.addTrack&&65<=t.version)return E(e);const r=e.RTCPeerConnection.prototype.getLocalStreams,o=(e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=r.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map(e=>this._reverseStreams[e.id])},e.RTCPeerConnection.prototype.addStream),i=(e.RTCPeerConnection.prototype.addStream=function(t){var n;this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach(e=>{if(this.getSenders().find(t=>t.track===e))throw new DOMException("Track already exists.","InvalidAccessError")}),this._reverseStreams[t.id]||(n=new e.MediaStream(t.getTracks()),this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n),o.apply(this,[t])},e.RTCPeerConnection.prototype.removeStream),a=(e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[(this._streams[e.id]||e).id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find(e=>e===t))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(e=>e.track===t))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var o=this._streams[n.id];if(o)o.addTrack(t),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const r=new e.MediaStream([t]);this._streams[n.id]=r,this._reverseStreams[r.id]=n,this.addStream(r)}return this.getSenders().find(e=>e.track===t)},["createOffer","createAnswer"].forEach((function(t){const r=e.RTCPeerConnection.prototype[t],o={[t](){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?r.apply(this,[t=>{t=n(this,t),e[0].apply(null,[t])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):r.apply(this,arguments).then(e=>n(this,e))}};e.RTCPeerConnection.prototype[t]=o[t]})),e.RTCPeerConnection.prototype.setLocalDescription),s=(e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type&&(arguments[0]=function(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{t=e._reverseStreams[t];var r=e._streams[t.id];n=n.replace(new RegExp(t.id,"g"),r.id)}),new RTCSessionDescription({type:t.type,sdp:n})}(this,arguments[0])),a.apply(this,arguments)},Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription"));function n(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(t=>{t=e._reverseStreams[t];var r=e._streams[t.id];n=n.replace(new RegExp(r.id,"g"),t.id)}),new RTCSessionDescription({type:t.type,sdp:n})}Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){var e=s.get.apply(this);return""===e.type?e:n(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach(n=>{this._streams[n].getTracks().find(t=>e.track===t)&&(t=this._streams[n])}),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}}function P(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}))}function I(e,t){p(e,"negotiationneeded",e=>{var n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e})}t=n(2226);var D=n.n(t);function w(e){const t=e&&e.navigator,n=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return n(e).catch(e=>Promise.reject({name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString(){return this.name}}))}}function M(e){"getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&(e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=e.navigator.getDisplayMedia.bind(e.navigator)))}function R(e,t){if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){const t=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set(e){t.set.call(this,e);var n=new Event("enabled");n.enabled=e,this.dispatchEvent(n)}})}!e.RTCRtpSender||"dtmf"in e.RTCRtpSender.prototype||Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);const n=D()(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=function(e){let t=!1;return(e=JSON.parse(JSON.stringify(e))).filter(e=>{if(e&&(e.urls||e.url)){let r=e.urls||e.url;e.url&&e.urls;var n="string"==typeof r;return r=(r=n?[r]:r).filter(e=>0!==e.indexOf("stun:")&&((e=e.startsWith("turn")&&!e.startsWith("turn:[")&&e.includes("transport=udp"))&&!t?t=!0:e&&!t)),delete e.url,e.urls=n?r[0]:r,!!r.length}})}(e.iceServers,t.version),e.iceServers),new n(e)},e.RTCPeerConnection.prototype=n.prototype}function k(e){!e.RTCRtpSender||"replaceTrack"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)}function L(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){n.mediaDevices.getUserMedia(e).then(t,r)},!(55<t.version&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"==typeof n&&"object"==typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),e(n.audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},r&&r.prototype.getSettings){const t=r.prototype.getSettings;r.prototype.getSettings=function(){var n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(r&&r.prototype.applyConstraints){const t=r.prototype.applyConstraints;r.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"==typeof n&&(n=JSON.parse(JSON.stringify(n)),e(n,"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function G(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function A(e,t){if("object"==typeof e&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}));const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,o,i]=arguments;return r.apply(this,[e||null]).then(e=>{if(t.version<53&&!o)try{e.forEach(e=>{e.type=n[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach((t,r)=>{e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))})}return e}).then(o,i)}}}function N(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){const t=e.RTCPeerConnection.prototype.getSenders,n=(t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),e.RTCPeerConnection.prototype.addTrack);n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function F(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=t.apply(this,[]);return e.forEach(e=>e._pc=this),e}),p(e,"track",e=>(e.receiver._pc=e.srcElement,e)),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function W(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this.getSenders().forEach(t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)})})}function x(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function V(e){if("object"==typeof e&&e.RTCPeerConnection){const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach(e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(1<=parseFloat(e.scaleResolutionDownBy)))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(0<=parseFloat(e.maxFramerate)))throw new RangeError("max_framerate must be >= 0.0")});var r=t.apply(this,arguments);if(n){const t=r.sender,n=t.getParameters();"encodings"in n&&(1!==n.encodings.length||0!==Object.keys(n.encodings[0]).length)||(n.encodings=e.sendEncodings,t.sendEncodings=e.sendEncodings,this.setParametersPromises.push(t.setParameters(n).then(()=>{delete t.sendEncodings}).catch(()=>{delete t.sendEncodings})))}return r})}}function B(e){if("object"==typeof e&&e.RTCRtpSender){const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){var e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}}function U(e){if("object"==typeof e&&e.RTCPeerConnection){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}}function j(e){if("object"==typeof e&&e.RTCPeerConnection){const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>t.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):t.apply(this,arguments)}}}function z(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach(n=>t.call(this,n,e)),e.getVideoTracks().forEach(n=>t.call(this,n,e))},e.RTCPeerConnection.prototype.addTrack=function(e,...n){return n&&n.forEach(e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]}),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);var t=this._localStreams.indexOf(e);if(-1!==t){this._localStreams.splice(t,1);const n=e.getTracks();this.getSenders().forEach(e=>{n.includes(e.track)&&this.removeTrack(e)})}})}}function H(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams||[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach(e=>{var t;this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e)||(this._remoteStreams.push(e),(t=new Event("addstream")).stream=e,this.dispatchEvent(t))})})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(t=>{var n;e._remoteStreams||(e._remoteStreams=[]),0<=e._remoteStreams.indexOf(t)||(e._remoteStreams.push(t),(n=new Event("addstream")).stream=t,e.dispatchEvent(n))})}),t.apply(e,arguments)}}}function Y(e){if("object"==typeof e&&e.RTCPeerConnection){const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,o=t.setLocalDescription,i=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){var r=2<=arguments.length?arguments[2]:e;r=n.apply(this,[r]);return t?(r.then(e,t),Promise.resolve()):r},t.createAnswer=function(e,t){var n=2<=arguments.length?arguments[2]:e;n=r.apply(this,[n]);return t?(n.then(e,t),Promise.resolve()):n},e=function(e,t,n){return e=o.apply(this,[e]),n?(e.then(t,n),Promise.resolve()):e},t.setLocalDescription=e,t.setRemoteDescription=function(e,t,n){return e=i.apply(this,[e]),n?(e.then(t,n),Promise.resolve()):e},t.addIceCandidate=function(e,t,n){return e=a.apply(this,[e]),n?(e.then(t,n),Promise.resolve()):e}}}function K(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n(q(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function q(e){return e&&void 0!==e.video?Object.assign({},e,{video:function e(t){return g(t)?Object.keys(t).reduce((function(n,r){var o=(i=g(t[r]))?e(t[r]):t[r],i=i&&!Object.keys(o).length;return void 0===o||i?n:Object.assign(n,{[r]:o})}),{}):t}(e.video)}):e}function X(e){if(e.RTCPeerConnection){const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){const t=[];for(let n=0;n<e.iceServers.length;n++){let r=e.iceServers[n];!r.hasOwnProperty("urls")&&r.hasOwnProperty("url")?((r=JSON.parse(JSON.stringify(r))).urls=r.url,delete r.url,t.push(r)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}}function Z(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function J(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find(e=>"audio"===e.receiver.track.kind);!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var n=this.getTransceivers().find(e=>"video"===e.receiver.track.kind);!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video")}return t.apply(this,arguments)}}function Q(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}t=n(347);var $=n.n(t);function ee(e){if(e.RTCIceCandidate&&(!e.RTCIceCandidate||!("foundation"in e.RTCIceCandidate.prototype))){const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const n=new t(e),r=$().parseCandidate(e.candidate),o=Object.assign(n,r);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,p(e,"icecandidate",t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t))}}function te(e,t){if(e.RTCPeerConnection){"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const n=function(e){return!(!e||!e.sdp)&&((e=$().splitSections(e.sdp)).shift(),e.some(e=>(e=$().parseMLine(e))&&"application"===e.kind&&-1!==e.protocol.indexOf("SCTP")))},r=function(e){let n=65536;return"firefox"===t.browser?t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637:n},o=function(e,n){let r=65536;return"firefox"===t.browser&&57===t.version&&(r=65535),0<(e=$().matchPrefix(e.sdp,"a=max-message-size:")).length?r=parseInt(e[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r},i=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e;if(this._sctp=null,"chrome"===t.browser&&76<=t.version&&"plan-b"===(e=this.getConfiguration().sdpSemantics)&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0}),n(arguments[0])){const t=null===(e=(e=arguments[0]).sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/))||e.length<2||(e=parseInt(e[1],10))!=e?-1:e,n=r(t),i=o(arguments[0],t);let s;s=0===n&&0===i?Number.POSITIVE_INFINITY:0===n||0===i?Math.max(n,i):Math.min(n,i);var a={};Object.defineProperty(a,"maxMessageSize",{get:()=>s}),this._sctp=a}return i.apply(this,arguments)}}}function ne(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){const n=e.RTCPeerConnection.prototype.createDataChannel;function t(e,t){const n=e.send;e.send=function(){var r=(r=arguments[0]).length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&r>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}e.RTCPeerConnection.prototype.createDataChannel=function(){var e=n.apply(this,arguments);return t(e,this),e},p(e,"datachannel",e=>(t(e.channel,e.target),e))}}function re(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(e=>{const n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{var t,n=e.target;return n._lastConnectionState!==n.connectionState&&(n._lastConnectionState=n.connectionState,t=new Event("connectionstatechange",e),n.dispatchEvent(t)),e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}})}}function oe(e,t){if(e.RTCPeerConnection&&!("chrome"===t.browser&&71<=t.version||"safari"===t.browser&&605<=t.version)){const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(n){if(n&&n.sdp&&-1!==n.sdp.indexOf("\na=extmap-allow-mixed")){const t=n.sdp.split("\n").filter(e=>"a=extmap-allow-mixed"!==e.trim()).join("\n");e.RTCSessionDescription&&n instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:n.type,sdp:t}):n.sdp=t}return t.apply(this,arguments)}}}function ie(e,t){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){const n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}}const ae=function({window:e},t={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0}){var n=f,c=function(e){var t={browser:null,version:null};if(void 0!==e&&e.navigator){var n=e.navigator;if(n.mozGetUserMedia)t.browser="firefox",t.version=l(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=l(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(n.mediaDevices&&n.userAgent.match(/Edge\/(\d+).(\d+)$/))t.browser="edge",t.version=l(n.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=l(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}}else t.browser="Not a browser.";return t}(e),u={browserDetails:c,commonShim:s,extractVersion:l,disableLog:d,disableWarnings:h};switch(c.browser){case"chrome":if(!t.shimChrome)return n("Chrome shim is not included in this adapter release."),u;if(null===c.version)return n("Chrome shim can not determine version, not shimming."),u;n("adapter.js shimming chrome."),u.browserShim=r,ie(e,c),_(e,c),v(e),P(e,c),O(e),T(e,c),C(e),b(e),S(e),I(e,c),ee(e),re(e),te(e,c),ne(e),oe(e,c);break;case"firefox":if(!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),u;n("adapter.js shimming firefox."),u.browserShim=i,ie(e,c),L(e,c),A(e,c),G(e),W(e),N(e),F(e),x(e),V(e),B(e),U(e),j(e),ee(e),re(e),te(e,c),ne(e);break;case"edge":if(!t.shimEdge)return n("MS edge shim is not included in this adapter release."),u;n("adapter.js shimming edge."),u.browserShim=o,w(e),M(e),R(e,c),k(e),te(e,c),ne(e);break;case"safari":if(!t.shimSafari)return n("Safari shim is not included in this adapter release."),u;n("adapter.js shimming safari."),u.browserShim=a,ie(e,c),X(e),J(e),Y(e),z(e),H(e),Z(e),K(e),Q(e),ee(e),te(e,c),ne(e),oe(e,c);break;default:n("Unsupported browser!")}return u}({window:"undefined"==typeof window?void 0:window})},429:()=>{}},i={},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r(4993))}).call(this,n(36),n(37).Buffer)},function(e,t){var n,r;e=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return(n=setTimeout)(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}var s,c=[],u=!1,l=-1;function p(){u&&s&&(u=!1,s.length?c=s.concat(c):l=-1,c.length)&&d()}function d(){if(!u){for(var e=a(p),t=(u=!0,c.length);t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return(r=clearTimeout)(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function f(){}e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=f,e.addListener=f,e.once=f,e.off=f,e.removeListener=f,e.removeAllListeners=f,e.emit=f,e.prependListener=f,e.prependOnceListener=f,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t,n){"use strict";(function(e){var r=n(39),o=n(40),i=n(41);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=c.prototype:(e=null===e?new c(t):e).length=t,e}function c(e,t,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,t,n);if("number"!=typeof e)return u(this,e,t,n);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return p(this,e)}function u(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer){var o=e,a=t,u=n;if(a.byteLength,u<0||a.byteLength<u)throw new RangeError("'offset' is out of bounds");if(a.byteLength<u+(r||0))throw new RangeError("'length' is out of bounds");return a=void 0===u&&void 0===r?new Uint8Array(a):void 0===r?new Uint8Array(a,u):new Uint8Array(a,u,r),c.TYPED_ARRAY_SUPPORT?(o=a).__proto__=c.prototype:o=d(o,a),o}if("string"!=typeof t){if(u=e,r=t,c.isBuffer(r))return 0!==(u=s(u,a=0|h(r.length))).length&&r.copy(u,0,0,a),u;if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||function(e){return e!=e}(r.length)?s(u,0):d(u,r);if("Buffer"===r.type&&i(r.data))return d(u,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}if(o=e,r=t,e=n,c.isEncoding(e="string"==typeof e&&""!==e?e:"utf8"))return(r=(o=s(o,t=0|f(r,e))).write(r,e))!==t?o.slice(0,r):o;throw new TypeError('"encoding" must be a valid string encoding')}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function p(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(c.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;var n=(e="string"!=typeof e?""+e:e).length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return R(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return k(e).length;default:if(r)return R(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var o,i=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((n=void 0===n||n>this.length?this.length:n)<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":var a=t,s=n,c=this.length;(!s||s<0||c<s)&&(s=c);for(var u="",l=a=!a||a<0?0:a;l<s;++l)u+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(this[l]);return u;case"utf8":case"utf-8":return C(this,t,n);case"ascii":c=t;var p=n,d="";p=Math.min(this.length,p);for(var h=c;h<p;++h)d+=String.fromCharCode(127&this[h]);return d;case"latin1":case"binary":a=t;var f=n,g="";f=Math.min(this.length,f);for(var m=a;m<f;++m)g+=String.fromCharCode(this[m]);return g;case"base64":return y=this,o=n,0===(_=t)&&o===y.length?r.fromByteArray(y):r.fromByteArray(y.slice(_,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var y=t,_=n,v=this.slice(y,_),O="",b=0;b<v.length;b+=2)O+=String.fromCharCode(v[b]+256*v[b+1]);return O;default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,(n=(n=isNaN(n)?o?0:e.length-1:n)<0?e.length+n:n)>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:_(e,t,n,r,o);if("number"==typeof t)return t&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(o?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,n):_(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,r,o){var i=1,a=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a/=i=2,s/=2,n/=2}function c(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(o)for(var u=-1,l=n;l<a;l++)if(c(e,l)===c(t,-1===u?0:l-u)){if(l-(u=-1===u?l:u)+1===s)return u*i}else-1!==u&&(l-=l-u),u=-1;else for(l=n=a<n+s?a-s:n;0<=l;l--){for(var p=!0,d=0;d<s;d++)if(c(e,l+d)!==c(t,d)){p=!1;break}if(p)return l}return-1}function v(e,t,n,r){return L(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function O(e,t,n,r){return L(function(e,t){for(var n,r,o=[],i=0;i<e.length&&!((t-=2)<0);++i)r=(n=e.charCodeAt(i))>>8,o.push(n%256),o.push(r);return o}(t,e.length-n),e,n,r)}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,c,u=e[o],l=null,p=239<u?4:223<u?3:191<u?2:1;if(o+p<=n)switch(p){case 1:u<128&&(l=u);break;case 2:128==(192&(i=e[o+1]))&&127<(c=(31&u)<<6|63&i)&&(l=c);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&2047<(c=(15&u)<<12|(63&i)<<6|63&a)&&(c<55296||57343<c)&&(l=c);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&65535<(c=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)&&c<1114112&&(l=c)}null===l?(l=65533,p=1):65535<l&&(r.push((l-=65536)>>>10&1023|55296),l=56320|1023&l),r.push(l),o+=p}var d=r,h=d.length;if(h<=b)return String.fromCharCode.apply(String,d);for(var f="",g=0;g<h;)f+=String.fromCharCode.apply(String,d.slice(g,g+=b));return f}t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,t,n){return u(null,e,t,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol)&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0}),c.alloc=function(e,t,n){return r=null,t=t,n=n,l(e=e),e<=0||void 0===t?s(r,e):"string"==typeof n?s(r,e).fill(t,n):s(r,e).fill(t);var r},c.allocUnsafe=function(e){return p(null,e)},c.allocUnsafeSlow=function(e){return p(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,t){if(!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);if(void 0===t)for(o=t=0;o<e.length;++o)t+=e[o].length;for(var n=c.allocUnsafe(t),r=0,o=0;o<e.length;++o){var a=e[o];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,r),r+=a.length}return n},c.byteLength=f,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){var e=0|this.length;return 0==e?"":0===arguments.length?C(this,0,e):g.apply(this,arguments)},c.prototype.equals=function(e){if(c.isBuffer(e))return this===e||0===c.compare(this,e);throw new TypeError("Argument must be a Buffer")},c.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n)&&(e+=" ... "),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,r,o){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),(t=void 0===t?0:t)<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(o<=r&&n<=t)return 0;if(o<=r)return-1;if(n<=t)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),u=this.slice(r,o),l=e.slice(t,n),p=0;p<s;++p)if(u[p]!==l[p]){i=u[p],a=l[p];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||o<n)&&(n=o),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var i,a,s,c=!1;;)switch(r){case"hex":var u=e,l=t,p=n,d=(l=Number(l)||0,this.length-l);if((!p||d<(p=Number(p)))&&(p=d),(d=u.length)%2!=0)throw new TypeError("Invalid hex string");d/2<p&&(p=d/2);for(var h=0;h<p;++h){var f=parseInt(u.substr(2*h,2),16);if(isNaN(f))return h;this[l+h]=f}return h;case"utf8":case"utf-8":return d=t,s=n,L(R(e,(a=this).length-d),a,d,s);case"ascii":return v(this,e,t,n);case"latin1":case"binary":return v(this,e,t,n);case"base64":return a=this,s=t,i=n,L(k(e),a,s,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,n);default:if(c)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),c=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var b=4096;function S(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function E(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<t||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function T(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function P(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function I(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,i){return i||I(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function w(e,t,n,r,i){return i||I(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){var n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(o=this.subarray(e,t)).__proto__=c.prototype;else for(var r=t-e,o=new c(r,void 0),i=0;i<r;++i)o[i]=this[i+e];return o},c.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=this[e+--t],o=1;0<t&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUInt8=function(e,t){return t||S(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return t||S(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return t||S(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return(o*=128)<=r&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||S(e,t,this.length);for(var r=t,o=1,i=this[e+--r];0<r&&(o*=256);)i+=this[e+--r]*o;return(o*=128)<=i&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return t||S(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){return t||S(e,2,this.length),32768&(t=this[e]|this[e+1]<<8)?4294901760|t:t},c.prototype.readInt16BE=function(e,t){return t||S(e,2,this.length),32768&(t=this[e+1]|this[e]<<8)?4294901760|t:t},c.prototype.readInt32LE=function(e,t){return t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return t||S(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return t||S(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return t||S(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return t||S(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||E(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||E(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;0<=--o&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):T(this,e,t,!0),t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):T(this,e,t,!1),t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):P(this,e,t,!0),t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},c.prototype.writeIntLE=function(e,t,n,r){e=+e,t|=0,r||E(this,e,t,n,(r=Math.pow(2,8*n-1))-1,-r);var o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){e=+e,t|=0,r||E(this,e,t,n,(r=Math.pow(2,8*n-1))-1,-r);var o=n-1,i=1,a=0;for(this[t+o]=255&e;0<=--o&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&(e=e<0?255+e+1:e),t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):T(this,e,t,!0),t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):T(this,e,t,!1),t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):P(this,e,t,!0),t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||E(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},c.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return w(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return w(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(n=n||0,r||0===r||(r=this.length),t>=e.length&&(t=e.length),(r=0<r&&r<n?n:r)===n)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length);var o,i=(r=e.length-t<r-n?e.length-t+n:r)-n;if(this===e&&n<t&&t<r)for(o=i-1;0<=o;--o)e[o+t]=this[o+n];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},c.prototype.fill=function(e,t,n,r){if("string"==typeof e){var o;if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length&&(o=e.charCodeAt(0))<256&&(e=o),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(!(n<=t))if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(s=t;s<n;++s)this[s]=e;else for(var i=c.isBuffer(e)?e:R(new c(e,r).toString()),a=i.length,s=0;s<n-t;++s)this[s+t]=i[s%a];return this};var M=/[^+\/0-9A-Za-z-_]/g;function R(e,t){t=t||1/0;for(var n,r=e.length,o=null,i=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!o){if(56319<n){-1<(t-=3)&&i.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&i.push(239,191,189);continue}o=n;continue}if(n<56320){-1<(t-=3)&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&-1<(t-=3)&&i.push(239,191,189);if(o=null,n<128){if(--t<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function k(e){return r.toByteArray(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function L(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(38))},function(e,t){var n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.byteLength=function(e){return 3*((e=u(e))[0]+(e=e[1]))/4-e},t.toByteArray=function(e){var t,n,r=(a=u(e))[0],a=a[1],s=new i(function(e,t){return 3*(e+t)/4-t}(r,a)),c=0,l=0<a?r-4:r;for(n=0;n<l;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],s[c++]=t>>16&255,s[c++]=t>>8&255,s[c++]=255&t;return 2===a&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,s[c++]=255&t),1===a&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,s[c++]=t>>8&255,s[c++]=255&t),s},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(function(e,t,n){for(var o,i=[],a=t;a<n;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(function(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}(o));return i.join("")}(e,a,s<a+16383?s:a+16383));return 1==o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2==o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");return t=(e=-1===(e=e.indexOf("="))?t:e)===t?0:4-e%4,[e,t]}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,u=c>>1,l=-7,p=n?o-1:0,d=n?-1:1;o=e[t+p];for(p+=d,i=o&(1<<-l)-1,o>>=-l,l+=s;0<l;i=256*i+e[t+p],p+=d,l-=8);for(a=i&(1<<-l)-1,i>>=-l,l+=r;0<l;a=256*a+e[t+p],p+=d,l-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(o?-1:1);a+=Math.pow(2,r),i-=u}return(o?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,c=8*i-o-1,u=(1<<c)-1,l=u>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,h=r?1:-1;i=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(r=Math.pow(2,-a))<1&&(a--,r*=2),2<=(t+=1<=a+l?p/r:p*Math.pow(2,1-l))*r&&(a++,r/=2),u<=a+l?(s=0,a=u):1<=a+l?(s=(t*r-1)*Math.pow(2,o),a+=l):(s=t*Math.pow(2,l-1)*Math.pow(2,o),a=0));8<=o;e[n+d]=255&s,d+=h,s/=256,o-=8);for(a=a<<o|s,c+=o;0<c;e[n+d]=255&a,d+=h,a/=256,c-=8);e[n+d-h]|=128*i}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}}])}));